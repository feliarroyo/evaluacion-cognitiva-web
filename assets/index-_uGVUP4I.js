var bS=Object.defineProperty;var _S=(t,e,n)=>e in t?bS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qt=(t,e,n)=>_S(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function _g(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Yt={},Ya=[],Mi=()=>{},yS=()=>!1,vf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),yg=t=>t.startsWith("onUpdate:"),cr=Object.assign,wg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},wS=Object.prototype.hasOwnProperty,jt=(t,e)=>wS.call(t,e),st=Array.isArray,Ja=t=>su(t)==="[object Map]",Sl=t=>su(t)==="[object Set]",A1=t=>su(t)==="[object Date]",mt=t=>typeof t=="function",Nn=t=>typeof t=="string",mi=t=>typeof t=="symbol",nn=t=>t!==null&&typeof t=="object",Jv=t=>(nn(t)||mt(t))&&mt(t.then)&&mt(t.catch),Xv=Object.prototype.toString,su=t=>Xv.call(t),SS=t=>su(t).slice(8,-1),Qv=t=>su(t)==="[object Object]",Sg=t=>Nn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,bc=_g(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},xS=/-(\w)/g,go=bf(t=>t.replace(xS,(e,n)=>n?n.toUpperCase():"")),AS=/\B([A-Z])/g,va=bf(t=>t.replace(AS,"-$1").toLowerCase()),Zv=bf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Ad=bf(t=>t?`on${Zv(t)}`:""),lo=(t,e)=>!Object.is(t,e),bh=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},e5=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Rh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let I1;const _f=()=>I1||(I1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xg(t){if(st(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Nn(r)?PS(r):xg(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(Nn(t)||nn(t))return t}const IS=/;(?![^(]*\))/g,ES=/:([^]+)/,CS=/\/\*[^]*?\*\//g;function PS(t){const e={};return t.replace(CS,"").split(IS).forEach(n=>{if(n){const r=n.split(ES);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function yf(t){let e="";if(Nn(t))e=t;else if(st(t))for(let n=0;n<t.length;n++){const r=yf(t[n]);r&&(e+=r+" ")}else if(nn(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const NS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",LS=_g(NS);function t5(t){return!!t||t===""}function kS(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=ou(t[r],e[r]);return n}function ou(t,e){if(t===e)return!0;let n=A1(t),r=A1(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=mi(t),r=mi(e),n||r)return t===e;if(n=st(t),r=st(e),n||r)return n&&r?kS(t,e):!1;if(n=nn(t),r=nn(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ou(t[o],e[o]))return!1}}return String(t)===String(e)}function Ag(t,e){return t.findIndex(n=>ou(n,e))}const n5=t=>!!(t&&t.__v_isRef===!0),_t=t=>Nn(t)?t:t==null?"":st(t)||nn(t)&&(t.toString===Xv||!mt(t.toString))?n5(t)?_t(t.value):JSON.stringify(t,r5,2):String(t),r5=(t,e)=>n5(e)?r5(t,e.value):Ja(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[Id(r,s)+" =>"]=i,n),{})}:Sl(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Id(n))}:mi(e)?Id(e):nn(e)&&!st(e)&&!Qv(e)?String(e):e,Id=(t,e="")=>{var n;return mi(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;class TS{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mr,!e&&Mr&&(this.index=(Mr.scopes||(Mr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Mr;try{return Mr=this,e()}finally{Mr=n}}}on(){Mr=this}off(){Mr=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function RS(){return Mr}let Zt;const Ed=new WeakSet;class i5{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mr&&Mr.active&&Mr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ed.has(this)&&(Ed.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||o5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,E1(this),a5(this);const e=Zt,n=fi;Zt=this,fi=!0;try{return this.fn()}finally{l5(this),Zt=e,fi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Cg(e);this.deps=this.depsTail=void 0,E1(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ed.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){xp(this)&&this.run()}get dirty(){return xp(this)}}let s5=0,_c,yc;function o5(t,e=!1){if(t.flags|=8,e){t.next=yc,yc=t;return}t.next=_c,_c=t}function Ig(){s5++}function Eg(){if(--s5>0)return;if(yc){let e=yc;for(yc=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;_c;){let e=_c;for(_c=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function a5(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function l5(t){let e,n=t.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Cg(r),OS(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}t.deps=e,t.depsTail=n}function xp(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(c5(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function c5(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Dc))return;t.globalVersion=Dc;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!xp(t)){t.flags&=-3;return}const n=Zt,r=fi;Zt=t,fi=!0;try{a5(t);const i=t.fn(t._value);(e.version===0||lo(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{Zt=n,fi=r,l5(t),t.flags&=-3}}function Cg(t,e=!1){const{dep:n,prevSub:r,nextSub:i}=t;if(r&&(r.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)Cg(s,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function OS(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let fi=!0;const u5=[];function So(){u5.push(fi),fi=!1}function xo(){const t=u5.pop();fi=t===void 0?!0:t}function E1(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Zt;Zt=void 0;try{e()}finally{Zt=n}}}let Dc=0;class DS{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pg{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Zt||!fi||Zt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Zt)n=this.activeLink=new DS(Zt,this),Zt.deps?(n.prevDep=Zt.depsTail,Zt.depsTail.nextDep=n,Zt.depsTail=n):Zt.deps=Zt.depsTail=n,h5(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Zt.depsTail,n.nextDep=void 0,Zt.depsTail.nextDep=n,Zt.depsTail=n,Zt.deps===n&&(Zt.deps=r)}return n}trigger(e){this.version++,Dc++,this.notify(e)}notify(e){Ig();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Eg()}}}function h5(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)h5(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Ap=new WeakMap,sa=Symbol(""),Ip=Symbol(""),Fc=Symbol("");function sr(t,e,n){if(fi&&Zt){let r=Ap.get(t);r||Ap.set(t,r=new Map);let i=r.get(n);i||(r.set(n,i=new Pg),i.map=r,i.key=n),i.track()}}function us(t,e,n,r,i,s){const o=Ap.get(t);if(!o){Dc++;return}const a=l=>{l&&l.trigger()};if(Ig(),e==="clear")o.forEach(a);else{const l=st(t),c=l&&Sg(n);if(l&&n==="length"){const u=Number(r);o.forEach((d,m)=>{(m==="length"||m===Fc||!mi(m)&&m>=u)&&a(d)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get(Fc)),e){case"add":l?c&&a(o.get("length")):(a(o.get(sa)),Ja(t)&&a(o.get(Ip)));break;case"delete":l||(a(o.get(sa)),Ja(t)&&a(o.get(Ip)));break;case"set":Ja(t)&&a(o.get(sa));break}}Eg()}function Ma(t){const e=Mt(t);return e===t?e:(sr(e,"iterate",Fc),Qr(t)?e:e.map(or))}function wf(t){return sr(t=Mt(t),"iterate",Fc),t}const FS={__proto__:null,[Symbol.iterator](){return Cd(this,Symbol.iterator,or)},concat(...t){return Ma(this).concat(...t.map(e=>st(e)?Ma(e):e))},entries(){return Cd(this,"entries",t=>(t[1]=or(t[1]),t))},every(t,e){return is(this,"every",t,e,void 0,arguments)},filter(t,e){return is(this,"filter",t,e,n=>n.map(or),arguments)},find(t,e){return is(this,"find",t,e,or,arguments)},findIndex(t,e){return is(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return is(this,"findLast",t,e,or,arguments)},findLastIndex(t,e){return is(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return is(this,"forEach",t,e,void 0,arguments)},includes(...t){return Pd(this,"includes",t)},indexOf(...t){return Pd(this,"indexOf",t)},join(t){return Ma(this).join(t)},lastIndexOf(...t){return Pd(this,"lastIndexOf",t)},map(t,e){return is(this,"map",t,e,void 0,arguments)},pop(){return oc(this,"pop")},push(...t){return oc(this,"push",t)},reduce(t,...e){return C1(this,"reduce",t,e)},reduceRight(t,...e){return C1(this,"reduceRight",t,e)},shift(){return oc(this,"shift")},some(t,e){return is(this,"some",t,e,void 0,arguments)},splice(...t){return oc(this,"splice",t)},toReversed(){return Ma(this).toReversed()},toSorted(t){return Ma(this).toSorted(t)},toSpliced(...t){return Ma(this).toSpliced(...t)},unshift(...t){return oc(this,"unshift",t)},values(){return Cd(this,"values",or)}};function Cd(t,e,n){const r=wf(t),i=r[e]();return r!==t&&!Qr(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=n(s.value)),s}),i}const MS=Array.prototype;function is(t,e,n,r,i,s){const o=wf(t),a=o!==t&&!Qr(t),l=o[e];if(l!==MS[e]){const d=l.apply(t,s);return a?or(d):d}let c=n;o!==t&&(a?c=function(d,m){return n.call(this,or(d),m,t)}:n.length>2&&(c=function(d,m){return n.call(this,d,m,t)}));const u=l.call(o,c,r);return a&&i?i(u):u}function C1(t,e,n,r){const i=wf(t);let s=n;return i!==t&&(Qr(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,or(a),l,t)}),i[e](s,...r)}function Pd(t,e,n){const r=Mt(t);sr(r,"iterate",Fc);const i=r[e](...n);return(i===-1||i===!1)&&kg(n[0])?(n[0]=Mt(n[0]),r[e](...n)):i}function oc(t,e,n=[]){So(),Ig();const r=Mt(t)[e].apply(t,n);return Eg(),xo(),r}const jS=_g("__proto__,__v_isRef,__isVue"),f5=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(mi));function BS(t){mi(t)||(t=String(t));const e=Mt(this);return sr(e,"has",t),e.hasOwnProperty(t)}class d5{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?YS:v5:s?m5:g5).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=st(e);if(!i){let l;if(o&&(l=FS[n]))return l;if(n==="hasOwnProperty")return BS}const a=Reflect.get(e,n,lr(e)?e:r);return(mi(n)?f5.has(n):jS(n))||(i||sr(e,"get",n),s)?a:lr(a)?o&&Sg(n)?a:a.value:nn(a)?i?_5(a):ba(a):a}}class p5 extends d5{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const l=aa(s);if(!Qr(r)&&!aa(r)&&(s=Mt(s),r=Mt(r)),!st(e)&&lr(s)&&!lr(r))return l?!1:(s.value=r,!0)}const o=st(e)&&Sg(n)?Number(n)<e.length:jt(e,n),a=Reflect.set(e,n,r,lr(e)?e:i);return e===Mt(i)&&(o?lo(r,s)&&us(e,"set",n,r):us(e,"add",n,r)),a}deleteProperty(e,n){const r=jt(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&us(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!mi(n)||!f5.has(n))&&sr(e,"has",n),r}ownKeys(e){return sr(e,"iterate",st(e)?"length":sa),Reflect.ownKeys(e)}}class US extends d5{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const qS=new p5,zS=new US,HS=new p5(!0);const Ep=t=>t,rh=t=>Reflect.getPrototypeOf(t);function WS(t,e,n){return function(...r){const i=this.__v_raw,s=Mt(i),o=Ja(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...r),u=n?Ep:e?Cp:or;return!e&&sr(s,"iterate",l?Ip:sa),{next(){const{value:d,done:m}=c.next();return m?{value:d,done:m}:{value:a?[u(d[0]),u(d[1])]:u(d),done:m}},[Symbol.iterator](){return this}}}}function ih(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function VS(t,e){const n={get(i){const s=this.__v_raw,o=Mt(s),a=Mt(i);t||(lo(i,a)&&sr(o,"get",i),sr(o,"get",a));const{has:l}=rh(o),c=e?Ep:t?Cp:or;if(l.call(o,i))return c(s.get(i));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&sr(Mt(i),"iterate",sa),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=Mt(s),a=Mt(i);return t||(lo(i,a)&&sr(o,"has",i),sr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,l=Mt(a),c=e?Ep:t?Cp:or;return!t&&sr(l,"iterate",sa),a.forEach((u,d)=>i.call(s,c(u),c(d),o))}};return cr(n,t?{add:ih("add"),set:ih("set"),delete:ih("delete"),clear:ih("clear")}:{add(i){!e&&!Qr(i)&&!aa(i)&&(i=Mt(i));const s=Mt(this);return rh(s).has.call(s,i)||(s.add(i),us(s,"add",i,i)),this},set(i,s){!e&&!Qr(s)&&!aa(s)&&(s=Mt(s));const o=Mt(this),{has:a,get:l}=rh(o);let c=a.call(o,i);c||(i=Mt(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,s),c?lo(s,u)&&us(o,"set",i,s):us(o,"add",i,s),this},delete(i){const s=Mt(this),{has:o,get:a}=rh(s);let l=o.call(s,i);l||(i=Mt(i),l=o.call(s,i)),a&&a.call(s,i);const c=s.delete(i);return l&&us(s,"delete",i,void 0),c},clear(){const i=Mt(this),s=i.size!==0,o=i.clear();return s&&us(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=WS(i,t,e)}),n}function Ng(t,e){const n=VS(t,e);return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(jt(n,i)&&i in r?n:r,i,s)}const $S={get:Ng(!1,!1)},GS={get:Ng(!1,!0)},KS={get:Ng(!0,!1)};const g5=new WeakMap,m5=new WeakMap,v5=new WeakMap,YS=new WeakMap;function JS(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function XS(t){return t.__v_skip||!Object.isExtensible(t)?0:JS(SS(t))}function ba(t){return aa(t)?t:Lg(t,!1,qS,$S,g5)}function b5(t){return Lg(t,!1,HS,GS,m5)}function _5(t){return Lg(t,!0,zS,KS,v5)}function Lg(t,e,n,r,i){if(!nn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=XS(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function Xa(t){return aa(t)?Xa(t.__v_raw):!!(t&&t.__v_isReactive)}function aa(t){return!!(t&&t.__v_isReadonly)}function Qr(t){return!!(t&&t.__v_isShallow)}function kg(t){return t?!!t.__v_raw:!1}function Mt(t){const e=t&&t.__v_raw;return e?Mt(e):t}function QS(t){return!jt(t,"__v_skip")&&Object.isExtensible(t)&&e5(t,"__v_skip",!0),t}const or=t=>nn(t)?ba(t):t,Cp=t=>nn(t)?_5(t):t;function lr(t){return t?t.__v_isRef===!0:!1}function Jt(t){return y5(t,!1)}function ZS(t){return y5(t,!0)}function y5(t,e){return lr(t)?t:new e3(t,e)}class e3{constructor(e,n){this.dep=new Pg,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Mt(e),this._value=n?e:or(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Qr(e)||aa(e);e=r?e:Mt(e),lo(e,n)&&(this._rawValue=e,this._value=r?e:or(e),this.dep.trigger())}}function Pn(t){return lr(t)?t.value:t}const t3={get:(t,e,n)=>e==="__v_raw"?t:Pn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return lr(i)&&!lr(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function w5(t){return Xa(t)?t:new Proxy(t,t3)}class n3{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Pg(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Dc-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Zt!==this)return o5(this,!0),!0}get value(){const e=this.dep.track();return c5(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function r3(t,e,n=!1){let r,i;return mt(t)?r=t:(r=t.get,i=t.set),new n3(r,i,n)}const sh={},Oh=new WeakMap;let Qo;function i3(t,e=!1,n=Qo){if(n){let r=Oh.get(n);r||Oh.set(n,r=[]),r.push(t)}}function s3(t,e,n=Yt){const{immediate:r,deep:i,once:s,scheduler:o,augmentJob:a,call:l}=n,c=T=>i?T:Qr(T)||i===!1||i===0?hs(T,1):hs(T);let u,d,m,p,_=!1,y=!1;if(lr(t)?(d=()=>t.value,_=Qr(t)):Xa(t)?(d=()=>c(t),_=!0):st(t)?(y=!0,_=t.some(T=>Xa(T)||Qr(T)),d=()=>t.map(T=>{if(lr(T))return T.value;if(Xa(T))return c(T);if(mt(T))return l?l(T,2):T()})):mt(t)?e?d=l?()=>l(t,2):t:d=()=>{if(m){So();try{m()}finally{xo()}}const T=Qo;Qo=u;try{return l?l(t,3,[p]):t(p)}finally{Qo=T}}:d=Mi,e&&i){const T=d,ee=i===!0?1/0:i;d=()=>hs(T(),ee)}const E=RS(),w=()=>{u.stop(),E&&E.active&&wg(E.effects,u)};if(s&&e){const T=e;e=(...ee)=>{T(...ee),w()}}let R=y?new Array(t.length).fill(sh):sh;const B=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const ee=u.run();if(i||_||(y?ee.some((ve,fe)=>lo(ve,R[fe])):lo(ee,R))){m&&m();const ve=Qo;Qo=u;try{const fe=[ee,R===sh?void 0:y&&R[0]===sh?[]:R,p];l?l(e,3,fe):e(...fe),R=ee}finally{Qo=ve}}}else u.run()};return a&&a(B),u=new i5(d),u.scheduler=o?()=>o(B,!1):B,p=T=>i3(T,!1,u),m=u.onStop=()=>{const T=Oh.get(u);if(T){if(l)l(T,4);else for(const ee of T)ee();Oh.delete(u)}},e?r?B(!0):R=u.run():o?o(B.bind(null,!0),!0):u.run(),w.pause=u.pause.bind(u),w.resume=u.resume.bind(u),w.stop=w,w}function hs(t,e=1/0,n){if(e<=0||!nn(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,lr(t))hs(t.value,e,n);else if(st(t))for(let r=0;r<t.length;r++)hs(t[r],e,n);else if(Sl(t)||Ja(t))t.forEach(r=>{hs(r,e,n)});else if(Qv(t)){for(const r in t)hs(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&hs(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function au(t,e,n,r){try{return r?t(...r):t()}catch(i){Sf(i,e,n)}}function Ui(t,e,n,r){if(mt(t)){const i=au(t,e,n,r);return i&&Jv(i)&&i.catch(s=>{Sf(s,e,n)}),i}if(st(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Ui(t[s],e,n,r));return i}}function Sf(t,e,n,r=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Yt;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(s){So(),au(s,null,10,[t,l,c]),xo();return}}o3(t,n,i,r,o)}function o3(t,e,n,r=!0,i=!1){if(i)throw t;console.error(t)}const pr=[];let Ti=-1;const Qa=[];let Ys=null,za=0;const S5=Promise.resolve();let Dh=null;function Tg(t){const e=Dh||S5;return t?e.then(this?t.bind(this):t):e}function a3(t){let e=Ti+1,n=pr.length;for(;e<n;){const r=e+n>>>1,i=pr[r],s=Mc(i);s<t||s===t&&i.flags&2?e=r+1:n=r}return e}function Rg(t){if(!(t.flags&1)){const e=Mc(t),n=pr[pr.length-1];!n||!(t.flags&2)&&e>=Mc(n)?pr.push(t):pr.splice(a3(e),0,t),t.flags|=1,x5()}}function x5(){Dh||(Dh=S5.then(I5))}function l3(t){st(t)?Qa.push(...t):Ys&&t.id===-1?Ys.splice(za+1,0,t):t.flags&1||(Qa.push(t),t.flags|=1),x5()}function P1(t,e,n=Ti+1){for(;n<pr.length;n++){const r=pr[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;pr.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function A5(t){if(Qa.length){const e=[...new Set(Qa)].sort((n,r)=>Mc(n)-Mc(r));if(Qa.length=0,Ys){Ys.push(...e);return}for(Ys=e,za=0;za<Ys.length;za++){const n=Ys[za];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ys=null,za=0}}const Mc=t=>t.id==null?t.flags&2?-1:1/0:t.id;function I5(t){try{for(Ti=0;Ti<pr.length;Ti++){const e=pr[Ti];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),au(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ti<pr.length;Ti++){const e=pr[Ti];e&&(e.flags&=-2)}Ti=-1,pr.length=0,A5(),Dh=null,(pr.length||Qa.length)&&I5()}}let ar=null,E5=null;function Fh(t){const e=ar;return ar=t,E5=t&&t.type.__scopeId||null,e}function C5(t,e=ar,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&M1(-1);const s=Fh(e);let o;try{o=t(...i)}finally{Fh(s),r._d&&M1(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Oi(t,e){if(ar===null)return t;const n=Ef(ar),r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,l=Yt]=e[i];s&&(mt(s)&&(s={mounted:s,updated:s}),s.deep&&hs(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Jo(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(So(),Ui(l,n,8,[t.el,a,t,e]),xo())}}const c3=Symbol("_vte"),u3=t=>t.__isTeleport;function Og(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Og(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function P5(t,e){return mt(t)?cr({name:t.name},e,{setup:t}):t}function N5(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Mh(t,e,n,r,i=!1){if(st(t)){t.forEach((_,y)=>Mh(_,e&&(st(e)?e[y]:e),n,r,i));return}if(Za(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Mh(t,e,n,r.component.subTree);return}const s=r.shapeFlag&4?Ef(r.component):r.el,o=i?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===Yt?a.refs={}:a.refs,d=a.setupState,m=Mt(d),p=d===Yt?()=>!1:_=>jt(m,_);if(c!=null&&c!==l&&(Nn(c)?(u[c]=null,p(c)&&(d[c]=null)):lr(c)&&(c.value=null)),mt(l))au(l,a,12,[o,u]);else{const _=Nn(l),y=lr(l);if(_||y){const E=()=>{if(t.f){const w=_?p(l)?d[l]:u[l]:l.value;i?st(w)&&wg(w,s):st(w)?w.includes(s)||w.push(s):_?(u[l]=[s],p(l)&&(d[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else _?(u[l]=o,p(l)&&(d[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};o?(E.id=-1,Fr(E,n)):E()}}}_f().requestIdleCallback;_f().cancelIdleCallback;const Za=t=>!!t.type.__asyncLoader,L5=t=>t.type.__isKeepAlive;function h3(t,e){k5(t,"a",e)}function f3(t,e){k5(t,"da",e)}function k5(t,e,n=gr){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(xf(e,r,n),n){let i=n.parent;for(;i&&i.parent;)L5(i.parent.vnode)&&d3(r,e,n,i),i=i.parent}}function d3(t,e,n,r){const i=xf(e,t,r,!0);T5(()=>{wg(r[e],i)},n)}function xf(t,e,n=gr,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{So();const a=lu(n),l=Ui(e,n,t,o);return a(),xo(),l});return r?i.unshift(s):i.push(s),s}}const xs=t=>(e,n=gr)=>{(!Uc||t==="sp")&&xf(t,(...r)=>e(...r),n)},p3=xs("bm"),xl=xs("m"),g3=xs("bu"),m3=xs("u"),v3=xs("bum"),T5=xs("um"),b3=xs("sp"),_3=xs("rtg"),y3=xs("rtc");function w3(t,e=gr){xf("ec",t,e)}const S3=Symbol.for("v-ndc");function mo(t,e,n,r){let i;const s=n,o=st(t);if(o||Nn(t)){const a=o&&Xa(t);let l=!1;a&&(l=!Qr(t),t=wf(t)),i=new Array(t.length);for(let c=0,u=t.length;c<u;c++)i[c]=e(l?or(t[c]):t[c],c,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(nn(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,s)}}else i=[];return i}function x3(t,e,n={},r,i){if(ar.ce||ar.parent&&Za(ar.parent)&&ar.parent.ce)return He(),pi(ln,null,[Mn("slot",n,r)],64);let s=t[e];s&&s._c&&(s._d=!1),He();const o=s&&R5(s(n)),a=n.key||o&&o.key,l=pi(ln,{key:(a&&!mi(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function R5(t){return t.some(e=>Bc(e)?!(e.type===vo||e.type===ln&&!R5(e.children)):!0)?t:null}const Pp=t=>t?eb(t)?Ef(t):Pp(t.parent):null,wc=cr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Pp(t.parent),$root:t=>Pp(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>D5(t),$forceUpdate:t=>t.f||(t.f=()=>{Rg(t.update)}),$nextTick:t=>t.n||(t.n=Tg.bind(t.proxy)),$watch:t=>W3.bind(t)}),Nd=(t,e)=>t!==Yt&&!t.__isScriptSetup&&jt(t,e),A3={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(Nd(r,e))return o[e]=1,r[e];if(i!==Yt&&jt(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&jt(c,e))return o[e]=3,s[e];if(n!==Yt&&jt(n,e))return o[e]=4,n[e];Np&&(o[e]=0)}}const u=wc[e];let d,m;if(u)return e==="$attrs"&&sr(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Yt&&jt(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,jt(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return Nd(i,e)?(i[e]=n,!0):r!==Yt&&jt(r,e)?(r[e]=n,!0):jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Yt&&jt(t,o)||Nd(e,o)||(a=s[0])&&jt(a,o)||jt(r,o)||jt(wc,o)||jt(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:jt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function N1(t){return st(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Np=!0;function I3(t){const e=D5(t),n=t.proxy,r=t.ctx;Np=!1,e.beforeCreate&&L1(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:m,beforeUpdate:p,updated:_,activated:y,deactivated:E,beforeDestroy:w,beforeUnmount:R,destroyed:B,unmounted:T,render:ee,renderTracked:ve,renderTriggered:fe,errorCaptured:ne,serverPrefetch:V,expose:se,inheritAttrs:N,components:U,directives:K,filters:G}=e;if(c&&E3(c,r,null),o)for(const he in o){const te=o[he];mt(te)&&(r[he]=te.bind(n))}if(i){const he=i.call(n,n);nn(he)&&(t.data=ba(he))}if(Np=!0,s)for(const he in s){const te=s[he],we=mt(te)?te.bind(n,n):mt(te.get)?te.get.bind(n,n):Mi,Te=!mt(te)&&mt(te.set)?te.set.bind(n):Mi,Ne=Rt({get:we,set:Te});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:I=>Ne.value=I})}if(a)for(const he in a)O5(a[he],r,n,he);if(l){const he=mt(l)?l.call(n):l;Reflect.ownKeys(he).forEach(te=>{_h(te,he[te])})}u&&L1(u,t,"c");function be(he,te){st(te)?te.forEach(we=>he(we.bind(n))):te&&he(te.bind(n))}if(be(p3,d),be(xl,m),be(g3,p),be(m3,_),be(h3,y),be(f3,E),be(w3,ne),be(y3,ve),be(_3,fe),be(v3,R),be(T5,T),be(b3,V),st(se))if(se.length){const he=t.exposed||(t.exposed={});se.forEach(te=>{Object.defineProperty(he,te,{get:()=>n[te],set:we=>n[te]=we})})}else t.exposed||(t.exposed={});ee&&t.render===Mi&&(t.render=ee),N!=null&&(t.inheritAttrs=N),U&&(t.components=U),K&&(t.directives=K),V&&N5(t)}function E3(t,e,n=Mi){st(t)&&(t=Lp(t));for(const r in t){const i=t[r];let s;nn(i)?"default"in i?s=di(i.from||r,i.default,!0):s=di(i.from||r):s=di(i),lr(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function L1(t,e,n){Ui(st(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function O5(t,e,n,r){let i=r.includes(".")?Y5(n,r):()=>n[r];if(Nn(t)){const s=e[t];mt(s)&&Sc(i,s)}else if(mt(t))Sc(i,t.bind(n));else if(nn(t))if(st(t))t.forEach(s=>O5(s,e,n,r));else{const s=mt(t.handler)?t.handler.bind(n):e[t.handler];mt(s)&&Sc(i,s,t)}}function D5(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(c=>jh(l,c,o,!0)),jh(l,e,o)),nn(e)&&s.set(e,l),l}function jh(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&jh(t,s,n,!0),i&&i.forEach(o=>jh(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=C3[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const C3={data:k1,props:T1,emits:T1,methods:gc,computed:gc,beforeCreate:dr,created:dr,beforeMount:dr,mounted:dr,beforeUpdate:dr,updated:dr,beforeDestroy:dr,beforeUnmount:dr,destroyed:dr,unmounted:dr,activated:dr,deactivated:dr,errorCaptured:dr,serverPrefetch:dr,components:gc,directives:gc,watch:N3,provide:k1,inject:P3};function k1(t,e){return e?t?function(){return cr(mt(t)?t.call(this,this):t,mt(e)?e.call(this,this):e)}:e:t}function P3(t,e){return gc(Lp(t),Lp(e))}function Lp(t){if(st(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function dr(t,e){return t?[...new Set([].concat(t,e))]:e}function gc(t,e){return t?cr(Object.create(null),t,e):e}function T1(t,e){return t?st(t)&&st(e)?[...new Set([...t,...e])]:cr(Object.create(null),N1(t),N1(e??{})):e}function N3(t,e){if(!t)return e;if(!e)return t;const n=cr(Object.create(null),t);for(const r in e)n[r]=dr(t[r],e[r]);return n}function F5(){return{app:null,config:{isNativeTag:yS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let L3=0;function k3(t,e){return function(r,i=null){mt(r)||(r=cr({},r)),i!=null&&!nn(i)&&(i=null);const s=F5(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:L3++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:u4,get config(){return s.config},set config(u){},use(u,...d){return o.has(u)||(u&&mt(u.install)?(o.add(u),u.install(c,...d)):mt(u)&&(o.add(u),u(c,...d))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,d){return d?(s.components[u]=d,c):s.components[u]},directive(u,d){return d?(s.directives[u]=d,c):s.directives[u]},mount(u,d,m){if(!l){const p=c._ceVNode||Mn(r,i);return p.appContext=s,m===!0?m="svg":m===!1&&(m=void 0),t(p,u,m),l=!0,c._container=u,u.__vue_app__=c,Ef(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Ui(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return s.provides[u]=d,c},runWithContext(u){const d=el;el=c;try{return u()}finally{el=d}}};return c}}let el=null;function _h(t,e){if(gr){let n=gr.provides;const r=gr.parent&&gr.parent.provides;r===n&&(n=gr.provides=Object.create(r)),n[t]=e}}function di(t,e,n=!1){const r=gr||ar;if(r||el){const i=el?el._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return n&&mt(e)?e.call(r&&r.proxy):e}}const M5={},j5=()=>Object.create(M5),B5=t=>Object.getPrototypeOf(t)===M5;function T3(t,e,n,r=!1){const i={},s=j5();t.propsDefaults=Object.create(null),U5(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:b5(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function R3(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Mt(i),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let m=u[d];if(Af(t.emitsOptions,m))continue;const p=e[m];if(l)if(jt(s,m))p!==s[m]&&(s[m]=p,c=!0);else{const _=go(m);i[_]=kp(l,a,_,p,t,!1)}else p!==s[m]&&(s[m]=p,c=!0)}}}else{U5(t,e,i,s)&&(c=!0);let u;for(const d in a)(!e||!jt(e,d)&&((u=va(d))===d||!jt(e,u)))&&(l?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=kp(l,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!jt(e,d))&&(delete s[d],c=!0)}c&&us(t.attrs,"set","")}function U5(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(bc(l))continue;const c=e[l];let u;i&&jt(i,u=go(l))?!s||!s.includes(u)?n[u]=c:(a||(a={}))[u]=c:Af(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(s){const l=Mt(n),c=a||Yt;for(let u=0;u<s.length;u++){const d=s[u];n[d]=kp(i,l,d,c[d],t,!jt(c,d))}}return o}function kp(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=jt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&mt(l)){const{propsDefaults:c}=i;if(n in c)r=c[n];else{const u=lu(i);r=c[n]=l.call(null,e),u()}}else r=l;i.ce&&i.ce._setProp(n,r)}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===va(n))&&(r=!0))}return r}const O3=new WeakMap;function q5(t,e,n=!1){const r=n?O3:e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let l=!1;if(!mt(t)){const u=d=>{l=!0;const[m,p]=q5(d,e,!0);cr(o,m),p&&a.push(...p)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return nn(t)&&r.set(t,Ya),Ya;if(st(s))for(let u=0;u<s.length;u++){const d=go(s[u]);R1(d)&&(o[d]=Yt)}else if(s)for(const u in s){const d=go(u);if(R1(d)){const m=s[u],p=o[d]=st(m)||mt(m)?{type:m}:cr({},m),_=p.type;let y=!1,E=!0;if(st(_))for(let w=0;w<_.length;++w){const R=_[w],B=mt(R)&&R.name;if(B==="Boolean"){y=!0;break}else B==="String"&&(E=!1)}else y=mt(_)&&_.name==="Boolean";p[0]=y,p[1]=E,(y||jt(p,"default"))&&a.push(d)}}const c=[o,a];return nn(t)&&r.set(t,c),c}function R1(t){return t[0]!=="$"&&!bc(t)}const z5=t=>t[0]==="_"||t==="$stable",Dg=t=>st(t)?t.map(Ri):[Ri(t)],D3=(t,e,n)=>{if(e._n)return e;const r=C5((...i)=>Dg(e(...i)),n);return r._c=!1,r},H5=(t,e,n)=>{const r=t._ctx;for(const i in t){if(z5(i))continue;const s=t[i];if(mt(s))e[i]=D3(i,s,r);else if(s!=null){const o=Dg(s);e[i]=()=>o}}},W5=(t,e)=>{const n=Dg(e);t.slots.default=()=>n},V5=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},F3=(t,e,n)=>{const r=t.slots=j5();if(t.vnode.shapeFlag&32){const i=e._;i?(V5(r,e,n),n&&e5(r,"_",i,!0)):H5(e,r)}else e&&W5(t,e)},M3=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Yt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:V5(i,e,n):(s=!e.$stable,H5(e,i)),o=e}else e&&(W5(t,e),o={default:1});if(s)for(const a in i)!z5(a)&&o[a]==null&&delete i[a]},Fr=X3;function j3(t){return B3(t)}function B3(t,e){const n=_f();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:m,setScopeId:p=Mi,insertStaticContent:_}=t,y=(O,M,j,C=null,_e=null,me=null,xe=void 0,ae=null,ye=!!M.dynamicChildren)=>{if(O===M)return;O&&!ac(O,M)&&(C=q(O),I(O,_e,me,!0),O=null),M.patchFlag===-2&&(ye=!1,M.dynamicChildren=null);const{type:ue,ref:Oe,shapeFlag:Ae}=M;switch(ue){case If:E(O,M,j,C);break;case vo:w(O,M,j,C);break;case kd:O==null&&R(M,j,C,xe);break;case ln:U(O,M,j,C,_e,me,xe,ae,ye);break;default:Ae&1?ee(O,M,j,C,_e,me,xe,ae,ye):Ae&6?K(O,M,j,C,_e,me,xe,ae,ye):(Ae&64||Ae&128)&&ue.process(O,M,j,C,_e,me,xe,ae,ye,oe)}Oe!=null&&_e&&Mh(Oe,O&&O.ref,me,M||O,!M)},E=(O,M,j,C)=>{if(O==null)r(M.el=a(M.children),j,C);else{const _e=M.el=O.el;M.children!==O.children&&c(_e,M.children)}},w=(O,M,j,C)=>{O==null?r(M.el=l(M.children||""),j,C):M.el=O.el},R=(O,M,j,C)=>{[O.el,O.anchor]=_(O.children,M,j,C,O.el,O.anchor)},B=({el:O,anchor:M},j,C)=>{let _e;for(;O&&O!==M;)_e=m(O),r(O,j,C),O=_e;r(M,j,C)},T=({el:O,anchor:M})=>{let j;for(;O&&O!==M;)j=m(O),i(O),O=j;i(M)},ee=(O,M,j,C,_e,me,xe,ae,ye)=>{M.type==="svg"?xe="svg":M.type==="math"&&(xe="mathml"),O==null?ve(M,j,C,_e,me,xe,ae,ye):V(O,M,_e,me,xe,ae,ye)},ve=(O,M,j,C,_e,me,xe,ae)=>{let ye,ue;const{props:Oe,shapeFlag:Ae,transition:Me,dirs:De}=O;if(ye=O.el=o(O.type,me,Oe&&Oe.is,Oe),Ae&8?u(ye,O.children):Ae&16&&ne(O.children,ye,null,C,_e,Ld(O,me),xe,ae),De&&Jo(O,null,C,"created"),fe(ye,O,O.scopeId,xe,C),Oe){for(const tt in Oe)tt!=="value"&&!bc(tt)&&s(ye,tt,null,Oe[tt],me,C);"value"in Oe&&s(ye,"value",null,Oe.value,me),(ue=Oe.onVnodeBeforeMount)&&Ni(ue,C,O)}De&&Jo(O,null,C,"beforeMount");const Be=U3(_e,Me);Be&&Me.beforeEnter(ye),r(ye,M,j),((ue=Oe&&Oe.onVnodeMounted)||Be||De)&&Fr(()=>{ue&&Ni(ue,C,O),Be&&Me.enter(ye),De&&Jo(O,null,C,"mounted")},_e)},fe=(O,M,j,C,_e)=>{if(j&&p(O,j),C)for(let me=0;me<C.length;me++)p(O,C[me]);if(_e){let me=_e.subTree;if(M===me||X5(me.type)&&(me.ssContent===M||me.ssFallback===M)){const xe=_e.vnode;fe(O,xe,xe.scopeId,xe.slotScopeIds,_e.parent)}}},ne=(O,M,j,C,_e,me,xe,ae,ye=0)=>{for(let ue=ye;ue<O.length;ue++){const Oe=O[ue]=ae?Js(O[ue]):Ri(O[ue]);y(null,Oe,M,j,C,_e,me,xe,ae)}},V=(O,M,j,C,_e,me,xe)=>{const ae=M.el=O.el;let{patchFlag:ye,dynamicChildren:ue,dirs:Oe}=M;ye|=O.patchFlag&16;const Ae=O.props||Yt,Me=M.props||Yt;let De;if(j&&Xo(j,!1),(De=Me.onVnodeBeforeUpdate)&&Ni(De,j,M,O),Oe&&Jo(M,O,j,"beforeUpdate"),j&&Xo(j,!0),(Ae.innerHTML&&Me.innerHTML==null||Ae.textContent&&Me.textContent==null)&&u(ae,""),ue?se(O.dynamicChildren,ue,ae,j,C,Ld(M,_e),me):xe||te(O,M,ae,null,j,C,Ld(M,_e),me,!1),ye>0){if(ye&16)N(ae,Ae,Me,j,_e);else if(ye&2&&Ae.class!==Me.class&&s(ae,"class",null,Me.class,_e),ye&4&&s(ae,"style",Ae.style,Me.style,_e),ye&8){const Be=M.dynamicProps;for(let tt=0;tt<Be.length;tt++){const Ue=Be[tt],qe=Ae[Ue],Ge=Me[Ue];(Ge!==qe||Ue==="value")&&s(ae,Ue,qe,Ge,_e,j)}}ye&1&&O.children!==M.children&&u(ae,M.children)}else!xe&&ue==null&&N(ae,Ae,Me,j,_e);((De=Me.onVnodeUpdated)||Oe)&&Fr(()=>{De&&Ni(De,j,M,O),Oe&&Jo(M,O,j,"updated")},C)},se=(O,M,j,C,_e,me,xe)=>{for(let ae=0;ae<M.length;ae++){const ye=O[ae],ue=M[ae],Oe=ye.el&&(ye.type===ln||!ac(ye,ue)||ye.shapeFlag&70)?d(ye.el):j;y(ye,ue,Oe,null,C,_e,me,xe,!0)}},N=(O,M,j,C,_e)=>{if(M!==j){if(M!==Yt)for(const me in M)!bc(me)&&!(me in j)&&s(O,me,M[me],null,_e,C);for(const me in j){if(bc(me))continue;const xe=j[me],ae=M[me];xe!==ae&&me!=="value"&&s(O,me,ae,xe,_e,C)}"value"in j&&s(O,"value",M.value,j.value,_e)}},U=(O,M,j,C,_e,me,xe,ae,ye)=>{const ue=M.el=O?O.el:a(""),Oe=M.anchor=O?O.anchor:a("");let{patchFlag:Ae,dynamicChildren:Me,slotScopeIds:De}=M;De&&(ae=ae?ae.concat(De):De),O==null?(r(ue,j,C),r(Oe,j,C),ne(M.children||[],j,Oe,_e,me,xe,ae,ye)):Ae>0&&Ae&64&&Me&&O.dynamicChildren?(se(O.dynamicChildren,Me,j,_e,me,xe,ae),(M.key!=null||_e&&M===_e.subTree)&&$5(O,M,!0)):te(O,M,j,Oe,_e,me,xe,ae,ye)},K=(O,M,j,C,_e,me,xe,ae,ye)=>{M.slotScopeIds=ae,O==null?M.shapeFlag&512?_e.ctx.activate(M,j,C,xe,ye):G(M,j,C,_e,me,xe,ye):pe(O,M,ye)},G=(O,M,j,C,_e,me,xe)=>{const ae=O.component=i4(O,C,_e);if(L5(O)&&(ae.ctx.renderer=oe),s4(ae,!1,xe),ae.asyncDep){if(_e&&_e.registerDep(ae,be,xe),!O.el){const ye=ae.subTree=Mn(vo);w(null,ye,M,j)}}else be(ae,O,M,j,_e,me,xe)},pe=(O,M,j)=>{const C=M.component=O.component;if(Y3(O,M,j))if(C.asyncDep&&!C.asyncResolved){he(C,M,j);return}else C.next=M,C.update();else M.el=O.el,C.vnode=M},be=(O,M,j,C,_e,me,xe)=>{const ae=()=>{if(O.isMounted){let{next:Ae,bu:Me,u:De,parent:Be,vnode:tt}=O;{const St=G5(O);if(St){Ae&&(Ae.el=tt.el,he(O,Ae,xe)),St.asyncDep.then(()=>{O.isUnmounted||ae()});return}}let Ue=Ae,qe;Xo(O,!1),Ae?(Ae.el=tt.el,he(O,Ae,xe)):Ae=tt,Me&&bh(Me),(qe=Ae.props&&Ae.props.onVnodeBeforeUpdate)&&Ni(qe,Be,Ae,tt),Xo(O,!0);const Ge=D1(O),ze=O.subTree;O.subTree=Ge,y(ze,Ge,d(ze.el),q(ze),O,_e,me),Ae.el=Ge.el,Ue===null&&J3(O,Ge.el),De&&Fr(De,_e),(qe=Ae.props&&Ae.props.onVnodeUpdated)&&Fr(()=>Ni(qe,Be,Ae,tt),_e)}else{let Ae;const{el:Me,props:De}=M,{bm:Be,m:tt,parent:Ue,root:qe,type:Ge}=O,ze=Za(M);Xo(O,!1),Be&&bh(Be),!ze&&(Ae=De&&De.onVnodeBeforeMount)&&Ni(Ae,Ue,M),Xo(O,!0);{qe.ce&&qe.ce._injectChildStyle(Ge);const St=O.subTree=D1(O);y(null,St,j,C,O,_e,me),M.el=St.el}if(tt&&Fr(tt,_e),!ze&&(Ae=De&&De.onVnodeMounted)){const St=M;Fr(()=>Ni(Ae,Ue,St),_e)}(M.shapeFlag&256||Ue&&Za(Ue.vnode)&&Ue.vnode.shapeFlag&256)&&O.a&&Fr(O.a,_e),O.isMounted=!0,M=j=C=null}};O.scope.on();const ye=O.effect=new i5(ae);O.scope.off();const ue=O.update=ye.run.bind(ye),Oe=O.job=ye.runIfDirty.bind(ye);Oe.i=O,Oe.id=O.uid,ye.scheduler=()=>Rg(Oe),Xo(O,!0),ue()},he=(O,M,j)=>{M.component=O;const C=O.vnode.props;O.vnode=M,O.next=null,R3(O,M.props,C,j),M3(O,M.children,j),So(),P1(O),xo()},te=(O,M,j,C,_e,me,xe,ae,ye=!1)=>{const ue=O&&O.children,Oe=O?O.shapeFlag:0,Ae=M.children,{patchFlag:Me,shapeFlag:De}=M;if(Me>0){if(Me&128){Te(ue,Ae,j,C,_e,me,xe,ae,ye);return}else if(Me&256){we(ue,Ae,j,C,_e,me,xe,ae,ye);return}}De&8?(Oe&16&&X(ue,_e,me),Ae!==ue&&u(j,Ae)):Oe&16?De&16?Te(ue,Ae,j,C,_e,me,xe,ae,ye):X(ue,_e,me,!0):(Oe&8&&u(j,""),De&16&&ne(Ae,j,C,_e,me,xe,ae,ye))},we=(O,M,j,C,_e,me,xe,ae,ye)=>{O=O||Ya,M=M||Ya;const ue=O.length,Oe=M.length,Ae=Math.min(ue,Oe);let Me;for(Me=0;Me<Ae;Me++){const De=M[Me]=ye?Js(M[Me]):Ri(M[Me]);y(O[Me],De,j,null,_e,me,xe,ae,ye)}ue>Oe?X(O,_e,me,!0,!1,Ae):ne(M,j,C,_e,me,xe,ae,ye,Ae)},Te=(O,M,j,C,_e,me,xe,ae,ye)=>{let ue=0;const Oe=M.length;let Ae=O.length-1,Me=Oe-1;for(;ue<=Ae&&ue<=Me;){const De=O[ue],Be=M[ue]=ye?Js(M[ue]):Ri(M[ue]);if(ac(De,Be))y(De,Be,j,null,_e,me,xe,ae,ye);else break;ue++}for(;ue<=Ae&&ue<=Me;){const De=O[Ae],Be=M[Me]=ye?Js(M[Me]):Ri(M[Me]);if(ac(De,Be))y(De,Be,j,null,_e,me,xe,ae,ye);else break;Ae--,Me--}if(ue>Ae){if(ue<=Me){const De=Me+1,Be=De<Oe?M[De].el:C;for(;ue<=Me;)y(null,M[ue]=ye?Js(M[ue]):Ri(M[ue]),j,Be,_e,me,xe,ae,ye),ue++}}else if(ue>Me)for(;ue<=Ae;)I(O[ue],_e,me,!0),ue++;else{const De=ue,Be=ue,tt=new Map;for(ue=Be;ue<=Me;ue++){const et=M[ue]=ye?Js(M[ue]):Ri(M[ue]);et.key!=null&&tt.set(et.key,ue)}let Ue,qe=0;const Ge=Me-Be+1;let ze=!1,St=0;const xt=new Array(Ge);for(ue=0;ue<Ge;ue++)xt[ue]=0;for(ue=De;ue<=Ae;ue++){const et=O[ue];if(qe>=Ge){I(et,_e,me,!0);continue}let yt;if(et.key!=null)yt=tt.get(et.key);else for(Ue=Be;Ue<=Me;Ue++)if(xt[Ue-Be]===0&&ac(et,M[Ue])){yt=Ue;break}yt===void 0?I(et,_e,me,!0):(xt[yt-Be]=ue+1,yt>=St?St=yt:ze=!0,y(et,M[yt],j,null,_e,me,xe,ae,ye),qe++)}const Ke=ze?q3(xt):Ya;for(Ue=Ke.length-1,ue=Ge-1;ue>=0;ue--){const et=Be+ue,yt=M[et],rt=et+1<Oe?M[et+1].el:C;xt[ue]===0?y(null,yt,j,rt,_e,me,xe,ae,ye):ze&&(Ue<0||ue!==Ke[Ue]?Ne(yt,j,rt,2):Ue--)}}},Ne=(O,M,j,C,_e=null)=>{const{el:me,type:xe,transition:ae,children:ye,shapeFlag:ue}=O;if(ue&6){Ne(O.component.subTree,M,j,C);return}if(ue&128){O.suspense.move(M,j,C);return}if(ue&64){xe.move(O,M,j,oe);return}if(xe===ln){r(me,M,j);for(let Ae=0;Ae<ye.length;Ae++)Ne(ye[Ae],M,j,C);r(O.anchor,M,j);return}if(xe===kd){B(O,M,j);return}if(C!==2&&ue&1&&ae)if(C===0)ae.beforeEnter(me),r(me,M,j),Fr(()=>ae.enter(me),_e);else{const{leave:Ae,delayLeave:Me,afterLeave:De}=ae,Be=()=>r(me,M,j),tt=()=>{Ae(me,()=>{Be(),De&&De()})};Me?Me(me,Be,tt):tt()}else r(me,M,j)},I=(O,M,j,C=!1,_e=!1)=>{const{type:me,props:xe,ref:ae,children:ye,dynamicChildren:ue,shapeFlag:Oe,patchFlag:Ae,dirs:Me,cacheIndex:De}=O;if(Ae===-2&&(_e=!1),ae!=null&&Mh(ae,null,j,O,!0),De!=null&&(M.renderCache[De]=void 0),Oe&256){M.ctx.deactivate(O);return}const Be=Oe&1&&Me,tt=!Za(O);let Ue;if(tt&&(Ue=xe&&xe.onVnodeBeforeUnmount)&&Ni(Ue,M,O),Oe&6)$(O.component,j,C);else{if(Oe&128){O.suspense.unmount(j,C);return}Be&&Jo(O,null,M,"beforeUnmount"),Oe&64?O.type.remove(O,M,j,oe,C):ue&&!ue.hasOnce&&(me!==ln||Ae>0&&Ae&64)?X(ue,M,j,!1,!0):(me===ln&&Ae&384||!_e&&Oe&16)&&X(ye,M,j),C&&k(O)}(tt&&(Ue=xe&&xe.onVnodeUnmounted)||Be)&&Fr(()=>{Ue&&Ni(Ue,M,O),Be&&Jo(O,null,M,"unmounted")},j)},k=O=>{const{type:M,el:j,anchor:C,transition:_e}=O;if(M===ln){F(j,C);return}if(M===kd){T(O);return}const me=()=>{i(j),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(O.shapeFlag&1&&_e&&!_e.persisted){const{leave:xe,delayLeave:ae}=_e,ye=()=>xe(j,me);ae?ae(O.el,me,ye):ye()}else me()},F=(O,M)=>{let j;for(;O!==M;)j=m(O),i(O),O=j;i(M)},$=(O,M,j)=>{const{bum:C,scope:_e,job:me,subTree:xe,um:ae,m:ye,a:ue}=O;O1(ye),O1(ue),C&&bh(C),_e.stop(),me&&(me.flags|=8,I(xe,O,M,j)),ae&&Fr(ae,M),Fr(()=>{O.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},X=(O,M,j,C=!1,_e=!1,me=0)=>{for(let xe=me;xe<O.length;xe++)I(O[xe],M,j,C,_e)},q=O=>{if(O.shapeFlag&6)return q(O.component.subTree);if(O.shapeFlag&128)return O.suspense.next();const M=m(O.anchor||O.el),j=M&&M[c3];return j?m(j):M};let Z=!1;const J=(O,M,j)=>{O==null?M._vnode&&I(M._vnode,null,null,!0):y(M._vnode||null,O,M,null,null,null,j),M._vnode=O,Z||(Z=!0,P1(),A5(),Z=!1)},oe={p:y,um:I,m:Ne,r:k,mt:G,mc:ne,pc:te,pbc:se,n:q,o:t};return{render:J,hydrate:void 0,createApp:k3(J)}}function Ld({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Xo({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function U3(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function $5(t,e,n=!1){const r=t.children,i=e.children;if(st(r)&&st(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Js(i[s]),a.el=o.el),!n&&a.patchFlag!==-2&&$5(o,a)),a.type===If&&(a.el=o.el)}}function q3(t){const e=t.slice(),n=[0];let r,i,s,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(i=n[n.length-1],t[i]<c){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<c?s=a+1:o=a;c<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function G5(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:G5(e)}function O1(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const z3=Symbol.for("v-scx"),H3=()=>di(z3);function Sc(t,e,n){return K5(t,e,n)}function K5(t,e,n=Yt){const{immediate:r,deep:i,flush:s,once:o}=n,a=cr({},n),l=e&&r||!e&&s!=="post";let c;if(Uc){if(s==="sync"){const p=H3();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Mi,p.resume=Mi,p.pause=Mi,p}}const u=gr;a.call=(p,_,y)=>Ui(p,u,_,y);let d=!1;s==="post"?a.scheduler=p=>{Fr(p,u&&u.suspense)}:s!=="sync"&&(d=!0,a.scheduler=(p,_)=>{_?p():Rg(p)}),a.augmentJob=p=>{e&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const m=s3(t,e,a);return Uc&&(c?c.push(m):l&&m()),m}function W3(t,e,n){const r=this.proxy,i=Nn(t)?t.includes(".")?Y5(r,t):()=>r[t]:t.bind(r,r);let s;mt(e)?s=e:(s=e.handler,n=e);const o=lu(this),a=K5(i,s.bind(r),n);return o(),a}function Y5(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const V3=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${go(e)}Modifiers`]||t[`${va(e)}Modifiers`];function $3(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Yt;let i=n;const s=e.startsWith("update:"),o=s&&V3(r,e.slice(7));o&&(o.trim&&(i=n.map(u=>Nn(u)?u.trim():u)),o.number&&(i=n.map(Rh)));let a,l=r[a=Ad(e)]||r[a=Ad(go(e))];!l&&s&&(l=r[a=Ad(va(e))]),l&&Ui(l,t,6,i);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ui(c,t,6,i)}}function J5(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!mt(t)){const l=c=>{const u=J5(c,e,!0);u&&(a=!0,cr(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(nn(t)&&r.set(t,null),null):(st(s)?s.forEach(l=>o[l]=null):cr(o,s),nn(t)&&r.set(t,o),o)}function Af(t,e){return!t||!vf(e)?!1:(e=e.slice(2).replace(/Once$/,""),jt(t,e[0].toLowerCase()+e.slice(1))||jt(t,va(e))||jt(t,e))}function D1(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:m,setupState:p,ctx:_,inheritAttrs:y}=t,E=Fh(t);let w,R;try{if(n.shapeFlag&4){const T=i||r,ee=T;w=Ri(c.call(ee,T,u,d,p,m,_)),R=a}else{const T=e;w=Ri(T.length>1?T(d,{attrs:a,slots:o,emit:l}):T(d,null)),R=e.props?a:G3(a)}}catch(T){xc.length=0,Sf(T,t,1),w=Mn(vo)}let B=w;if(R&&y!==!1){const T=Object.keys(R),{shapeFlag:ee}=B;T.length&&ee&7&&(s&&T.some(yg)&&(R=K3(R,s)),B=hl(B,R,!1,!0))}return n.dirs&&(B=hl(B,null,!1,!0),B.dirs=B.dirs?B.dirs.concat(n.dirs):n.dirs),n.transition&&Og(B,n.transition),w=B,Fh(E),w}const G3=t=>{let e;for(const n in t)(n==="class"||n==="style"||vf(n))&&((e||(e={}))[n]=t[n]);return e},K3=(t,e)=>{const n={};for(const r in t)(!yg(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Y3(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?F1(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const m=u[d];if(o[m]!==r[m]&&!Af(c,m))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?F1(r,o,c):!0:!!o;return!1}function F1(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!Af(n,s))return!0}return!1}function J3({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const X5=t=>t.__isSuspense;function X3(t,e){e&&e.pendingBranch?st(t)?e.effects.push(...t):e.effects.push(t):l3(t)}const ln=Symbol.for("v-fgt"),If=Symbol.for("v-txt"),vo=Symbol.for("v-cmt"),kd=Symbol.for("v-stc"),xc=[];let jr=null;function He(t=!1){xc.push(jr=t?null:[])}function Q3(){xc.pop(),jr=xc[xc.length-1]||null}let jc=1;function M1(t,e=!1){jc+=t,t<0&&jr&&e&&(jr.hasOnce=!0)}function Q5(t){return t.dynamicChildren=jc>0?jr||Ya:null,Q3(),jc>0&&jr&&jr.push(t),t}function nt(t,e,n,r,i,s){return Q5(le(t,e,n,r,i,s,!0))}function pi(t,e,n,r,i){return Q5(Mn(t,e,n,r,i,!0))}function Bc(t){return t?t.__v_isVNode===!0:!1}function ac(t,e){return t.type===e.type&&t.key===e.key}const Z5=({key:t})=>t??null,yh=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Nn(t)||lr(t)||mt(t)?{i:ar,r:t,k:e,f:!!n}:t:null);function le(t,e=null,n=null,r=0,i=null,s=t===ln?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Z5(e),ref:e&&yh(e),scopeId:E5,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ar};return a?(Fg(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=Nn(n)?8:16),jc>0&&!o&&jr&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&jr.push(l),l}const Mn=Z3;function Z3(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===S3)&&(t=vo),Bc(t)){const a=hl(t,e,!0);return n&&Fg(a,n),jc>0&&!s&&jr&&(a.shapeFlag&6?jr[jr.indexOf(t)]=a:jr.push(a)),a.patchFlag=-2,a}if(c4(t)&&(t=t.__vccOpts),e){e=e4(e);let{class:a,style:l}=e;a&&!Nn(a)&&(e.class=yf(a)),nn(l)&&(kg(l)&&!st(l)&&(l=cr({},l)),e.style=xg(l))}const o=Nn(t)?1:X5(t)?128:u3(t)?64:nn(t)?4:mt(t)?2:0;return le(t,e,n,r,i,o,s,!0)}function e4(t){return t?kg(t)||B5(t)?cr({},t):t:null}function hl(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:l}=t,c=e?t4(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Z5(c),ref:e&&e.ref?n&&s?st(s)?s.concat(yh(e)):[s,yh(e)]:yh(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ln?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hl(t.ssContent),ssFallback:t.ssFallback&&hl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Og(u,l.clone(u)),u}function Kn(t=" ",e=0){return Mn(If,null,t,e)}function vr(t="",e=!1){return e?(He(),pi(vo,null,t)):Mn(vo,null,t)}function Ri(t){return t==null||typeof t=="boolean"?Mn(vo):st(t)?Mn(ln,null,t.slice()):Bc(t)?Js(t):Mn(If,null,String(t))}function Js(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hl(t)}function Fg(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(st(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Fg(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!B5(e)?e._ctx=ar:i===3&&ar&&(ar.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else mt(e)?(e={default:e,_ctx:ar},n=32):(e=String(e),r&64?(n=16,e=[Kn(e)]):n=8);t.children=e,t.shapeFlag|=n}function t4(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=yf([e.class,r.class]));else if(i==="style")e.style=xg([e.style,r.style]);else if(vf(i)){const s=e[i],o=r[i];o&&s!==o&&!(st(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Ni(t,e,n,r=null){Ui(t,e,7,[n,r])}const n4=F5();let r4=0;function i4(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||n4,s={uid:r4++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new TS(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:q5(r,i),emitsOptions:J5(r,i),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:r.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=$3.bind(null,s),t.ce&&t.ce(s),s}let gr=null,Bh,Tp;{const t=_f(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Bh=e("__VUE_INSTANCE_SETTERS__",n=>gr=n),Tp=e("__VUE_SSR_SETTERS__",n=>Uc=n)}const lu=t=>{const e=gr;return Bh(t),t.scope.on(),()=>{t.scope.off(),Bh(e)}},j1=()=>{gr&&gr.scope.off(),Bh(null)};function eb(t){return t.vnode.shapeFlag&4}let Uc=!1;function s4(t,e=!1,n=!1){e&&Tp(e);const{props:r,children:i}=t.vnode,s=eb(t);T3(t,r,s,e),F3(t,i,n);const o=s?o4(t,e):void 0;return e&&Tp(!1),o}function o4(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,A3);const{setup:r}=n;if(r){So();const i=t.setupContext=r.length>1?l4(t):null,s=lu(t),o=au(r,t,0,[t.props,i]),a=Jv(o);if(xo(),s(),(a||t.sp)&&!Za(t)&&N5(t),a){if(o.then(j1,j1),e)return o.then(l=>{B1(t,l)}).catch(l=>{Sf(l,t,0)});t.asyncDep=o}else B1(t,o)}else tb(t)}function B1(t,e,n){mt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:nn(e)&&(t.setupState=w5(e)),tb(t)}function tb(t,e,n){const r=t.type;t.render||(t.render=r.render||Mi);{const i=lu(t);So();try{I3(t)}finally{xo(),i()}}}const a4={get(t,e){return sr(t,"get",""),t[e]}};function l4(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,a4),slots:t.slots,emit:t.emit,expose:e}}function Ef(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(w5(QS(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wc)return wc[n](t)},has(e,n){return n in e||n in wc}})):t.proxy}function c4(t){return mt(t)&&"__vccOpts"in t}const Rt=(t,e)=>r3(t,e,Uc);function nb(t,e,n){const r=arguments.length;return r===2?nn(e)&&!st(e)?Bc(e)?Mn(t,null,[e]):Mn(t,e):Mn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Bc(n)&&(n=[n]),Mn(t,e,n))}const u4="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rp;const U1=typeof window<"u"&&window.trustedTypes;if(U1)try{Rp=U1.createPolicy("vue",{createHTML:t=>t})}catch{}const rb=Rp?t=>Rp.createHTML(t):t=>t,h4="http://www.w3.org/2000/svg",f4="http://www.w3.org/1998/Math/MathML",ls=typeof document<"u"?document:null,q1=ls&&ls.createElement("template"),d4={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?ls.createElementNS(h4,t):e==="mathml"?ls.createElementNS(f4,t):n?ls.createElement(t,{is:n}):ls.createElement(t);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>ls.createTextNode(t),createComment:t=>ls.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ls.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{q1.innerHTML=rb(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=q1.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},p4=Symbol("_vtc");function g4(t,e,n){const r=t[p4];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const z1=Symbol("_vod"),m4=Symbol("_vsh"),v4=Symbol(""),b4=/(^|;)\s*display\s*:/;function _4(t,e,n){const r=t.style,i=Nn(n);let s=!1;if(n&&!i){if(e)if(Nn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&wh(r,a,"")}else for(const o in e)n[o]==null&&wh(r,o,"");for(const o in n)o==="display"&&(s=!0),wh(r,o,n[o])}else if(i){if(e!==n){const o=r[v4];o&&(n+=";"+o),r.cssText=n,s=b4.test(n)}}else e&&t.removeAttribute("style");z1 in t&&(t[z1]=s?r.display:"",t[m4]&&(r.display="none"))}const H1=/\s*!important$/;function wh(t,e,n){if(st(n))n.forEach(r=>wh(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=y4(t,e);H1.test(n)?t.setProperty(va(r),n.replace(H1,""),"important"):t[r]=n}}const W1=["Webkit","Moz","ms"],Td={};function y4(t,e){const n=Td[e];if(n)return n;let r=go(e);if(r!=="filter"&&r in t)return Td[e]=r;r=Zv(r);for(let i=0;i<W1.length;i++){const s=W1[i]+r;if(s in t)return Td[e]=s}return e}const V1="http://www.w3.org/1999/xlink";function $1(t,e,n,r,i,s=LS(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(V1,e.slice(6,e.length)):t.setAttributeNS(V1,e,n):n==null||s&&!t5(n)?t.removeAttribute(e):t.setAttribute(e,s?"":mi(n)?String(n):n)}function G1(t,e,n,r,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?rb(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=t5(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(i||e)}function Qs(t,e,n,r){t.addEventListener(e,n,r)}function w4(t,e,n,r){t.removeEventListener(e,n,r)}const K1=Symbol("_vei");function S4(t,e,n,r,i=null){const s=t[K1]||(t[K1]={}),o=s[e];if(r&&o)o.value=r;else{const[a,l]=x4(e);if(r){const c=s[e]=E4(r,i);Qs(t,a,c,l)}else o&&(w4(t,a,o,l),s[e]=void 0)}}const Y1=/(?:Once|Passive|Capture)$/;function x4(t){let e;if(Y1.test(t)){e={};let r;for(;r=t.match(Y1);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):va(t.slice(2)),e]}let Rd=0;const A4=Promise.resolve(),I4=()=>Rd||(A4.then(()=>Rd=0),Rd=Date.now());function E4(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ui(C4(r,n.value),e,5,[r])};return n.value=t,n.attached=I4(),n}function C4(t,e){if(st(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const J1=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,P4=(t,e,n,r,i,s)=>{const o=i==="svg";e==="class"?g4(t,r,o):e==="style"?_4(t,n,r):vf(e)?yg(e)||S4(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):N4(t,e,r,o))?(G1(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$1(t,e,r,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Nn(r))?G1(t,go(e),r,s,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$1(t,e,r,o))};function N4(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&J1(e)&&mt(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return J1(e)&&Nn(n)?!1:e in t}const fl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return st(e)?n=>bh(e,n):e};function L4(t){t.target.composing=!0}function X1(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ms=Symbol("_assign"),io={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[ms]=fl(i);const s=r||i.props&&i.props.type==="number";Qs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=Rh(a)),t[ms](a)}),n&&Qs(t,"change",()=>{t.value=t.value.trim()}),e||(Qs(t,"compositionstart",L4),Qs(t,"compositionend",X1),Qs(t,"change",X1))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:i,number:s}},o){if(t[ms]=fl(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?Rh(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||i&&t.value.trim()===l)||(t.value=l))}},k4={deep:!0,created(t,e,n){t[ms]=fl(n),Qs(t,"change",()=>{const r=t._modelValue,i=qc(t),s=t.checked,o=t[ms];if(st(r)){const a=Ag(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Sl(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(ib(t,s))})},mounted:Q1,beforeUpdate(t,e,n){t[ms]=fl(n),Q1(t,e,n)}};function Q1(t,{value:e,oldValue:n},r){t._modelValue=e;let i;if(st(e))i=Ag(e,r.props.value)>-1;else if(Sl(e))i=e.has(r.props.value);else{if(e===n)return;i=ou(e,ib(t,!0))}t.checked!==i&&(t.checked=i)}const T4={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=Sl(e);Qs(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Rh(qc(o)):qc(o));t[ms](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Tg(()=>{t._assigning=!1})}),t[ms]=fl(r)},mounted(t,{value:e}){Z1(t,e)},beforeUpdate(t,e,n){t[ms]=fl(n)},updated(t,{value:e}){t._assigning||Z1(t,e)}};function Z1(t,e){const n=t.multiple,r=st(e);if(!(n&&!r&&!Sl(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=qc(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Ag(e,a)>-1}else o.selected=e.has(a);else if(ou(qc(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function qc(t){return"_value"in t?t._value:t.value}function ib(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const R4=["ctrl","shift","alt","meta"],O4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>R4.some(n=>t[`${n}Key`]&&!e.includes(n))},sb=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=O4[e[o]];if(a&&a(i,e))return}return t(i,...s)})},D4=cr({patchProp:P4},d4);let e0;function F4(){return e0||(e0=j3(D4))}const M4=(...t)=>{const e=F4().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=B4(r);if(!i)return;const s=e._component;!mt(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,j4(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function j4(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function B4(t){return Nn(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ha=typeof document<"u";function ob(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function U4(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&ob(t.default)}const Ft=Object.assign;function Od(t,e){const n={};for(const r in e){const i=e[r];n[r]=vi(i)?i.map(t):t(i)}return n}const Ac=()=>{},vi=Array.isArray,ab=/#/g,q4=/&/g,z4=/\//g,H4=/=/g,W4=/\?/g,lb=/\+/g,V4=/%5B/g,$4=/%5D/g,cb=/%5E/g,G4=/%60/g,ub=/%7B/g,K4=/%7C/g,hb=/%7D/g,Y4=/%20/g;function Mg(t){return encodeURI(""+t).replace(K4,"|").replace(V4,"[").replace($4,"]")}function J4(t){return Mg(t).replace(ub,"{").replace(hb,"}").replace(cb,"^")}function Op(t){return Mg(t).replace(lb,"%2B").replace(Y4,"+").replace(ab,"%23").replace(q4,"%26").replace(G4,"`").replace(ub,"{").replace(hb,"}").replace(cb,"^")}function X4(t){return Op(t).replace(H4,"%3D")}function Q4(t){return Mg(t).replace(ab,"%23").replace(W4,"%3F")}function Z4(t){return t==null?"":Q4(t).replace(z4,"%2F")}function zc(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const ex=/\/$/,tx=t=>t.replace(ex,"");function Dd(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=sx(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:zc(o)}}function nx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function t0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rx(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&dl(e.matched[r],n.matched[i])&&fb(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function dl(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fb(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ix(t[n],e[n]))return!1;return!0}function ix(t,e){return vi(t)?n0(t,e):vi(e)?n0(e,t):t===e}function n0(t,e){return vi(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function sx(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}const Ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Hc;(function(t){t.pop="pop",t.push="push"})(Hc||(Hc={}));var Ic;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ic||(Ic={}));function ox(t){if(!t)if(Ha){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),tx(t)}const ax=/^[^#]+#/;function lx(t,e){return t.replace(ax,"#")+e}function cx(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Cf=()=>({left:window.scrollX,top:window.scrollY});function ux(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=cx(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function r0(t,e){return(history.state?history.state.position-e:-1)+t}const Dp=new Map;function hx(t,e){Dp.set(t,e)}function fx(t){const e=Dp.get(t);return Dp.delete(t),e}let dx=()=>location.protocol+"//"+location.host;function db(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),t0(l,"")}return t0(n,t)+r+i}function px(t,e,n,r){let i=[],s=[],o=null;const a=({state:m})=>{const p=db(t,location),_=n.value,y=e.value;let E=0;if(m){if(n.value=p,e.value=m,o&&o===_){o=null;return}E=y?m.position-y.position:0}else r(p);i.forEach(w=>{w(n.value,_,{delta:E,type:Hc.pop,direction:E?E>0?Ic.forward:Ic.back:Ic.unknown})})};function l(){o=n.value}function c(m){i.push(m);const p=()=>{const _=i.indexOf(m);_>-1&&i.splice(_,1)};return s.push(p),p}function u(){const{history:m}=window;m.state&&m.replaceState(Ft({},m.state,{scroll:Cf()}),"")}function d(){for(const m of s)m();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function i0(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?Cf():null}}function gx(t){const{history:e,location:n}=window,r={value:db(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const d=t.indexOf("#"),m=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+l:dx()+t+l;try{e[u?"replaceState":"pushState"](c,"",m),i.value=c}catch(p){console.error(p),n[u?"replace":"assign"](m)}}function o(l,c){const u=Ft({},e.state,i0(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});s(l,u,!0),r.value=l}function a(l,c){const u=Ft({},i.value,e.state,{forward:l,scroll:Cf()});s(u.current,u,!0);const d=Ft({},i0(r.value,l,null),{position:u.position+1},c);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function mx(t){t=ox(t);const e=gx(t),n=px(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Ft({location:"",base:t,go:r,createHref:lx.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function vx(t){return typeof t=="string"||t&&typeof t=="object"}function pb(t){return typeof t=="string"||typeof t=="symbol"}const gb=Symbol("");var s0;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(s0||(s0={}));function pl(t,e){return Ft(new Error,{type:t,[gb]:!0},e)}function ss(t,e){return t instanceof Error&&gb in t&&(e==null||!!(t.type&e))}const o0="[^/]+?",bx={sensitive:!1,strict:!1,start:!0,end:!0},_x=/[.+*?^${}()[\]/\\]/g;function yx(t,e){const n=Ft({},bx,e),r=[];let i=n.start?"^":"";const s=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const m=c[d];let p=40+(n.sensitive?.25:0);if(m.type===0)d||(i+="/"),i+=m.value.replace(_x,"\\$&"),p+=40;else if(m.type===1){const{value:_,repeatable:y,optional:E,regexp:w}=m;s.push({name:_,repeatable:y,optional:E});const R=w||o0;if(R!==o0){p+=10;try{new RegExp(`(${R})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+T.message)}}let B=y?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;d||(B=E&&c.length<2?`(?:/${B})`:"/"+B),E&&(B+="?"),i+=B,p+=20,E&&(p+=-8),y&&(p+=-20),R===".*"&&(p+=-50)}u.push(p)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let m=1;m<u.length;m++){const p=u[m]||"",_=s[m-1];d[_.name]=p&&_.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const m of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of m)if(p.type===0)u+=p.value;else if(p.type===1){const{value:_,repeatable:y,optional:E}=p,w=_ in c?c[_]:"";if(vi(w)&&!y)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=vi(w)?w.join("/"):w;if(!R)if(E)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);u+=R}}return u||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function wx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mb(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=wx(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(a0(r))return 1;if(a0(i))return-1}return i.length-r.length}function a0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Sx={type:0,value:""},xx=/[a-zA-Z0-9_]/;function Ax(t){if(!t)return[[]];if(t==="/")return[[Sx]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,c="",u="";function d(){c&&(n===0?s.push({type:0,value:c}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function m(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:xx.test(l)?m():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function Ix(t,e,n){const r=yx(Ax(t.path),n),i=Ft(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Ex(t,e){const n=[],r=new Map;e=h0({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function s(d,m,p){const _=!p,y=c0(d);y.aliasOf=p&&p.record;const E=h0(e,d),w=[y];if("alias"in d){const T=typeof d.alias=="string"?[d.alias]:d.alias;for(const ee of T)w.push(c0(Ft({},y,{components:p?p.record.components:y.components,path:ee,aliasOf:p?p.record:y})))}let R,B;for(const T of w){const{path:ee}=T;if(m&&ee[0]!=="/"){const ve=m.record.path,fe=ve[ve.length-1]==="/"?"":"/";T.path=m.record.path+(ee&&fe+ee)}if(R=Ix(T,m,E),p?p.alias.push(R):(B=B||R,B!==R&&B.alias.push(R),_&&d.name&&!u0(R)&&o(d.name)),vb(R)&&l(R),y.children){const ve=y.children;for(let fe=0;fe<ve.length;fe++)s(ve[fe],R,p&&p.children[fe])}p=p||R}return B?()=>{o(B)}:Ac}function o(d){if(pb(d)){const m=r.get(d);m&&(r.delete(d),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(d);m>-1&&(n.splice(m,1),d.record.name&&r.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return n}function l(d){const m=Nx(d,n);n.splice(m,0,d),d.record.name&&!u0(d)&&r.set(d.record.name,d)}function c(d,m){let p,_={},y,E;if("name"in d&&d.name){if(p=r.get(d.name),!p)throw pl(1,{location:d});E=p.record.name,_=Ft(l0(m.params,p.keys.filter(B=>!B.optional).concat(p.parent?p.parent.keys.filter(B=>B.optional):[]).map(B=>B.name)),d.params&&l0(d.params,p.keys.map(B=>B.name))),y=p.stringify(_)}else if(d.path!=null)y=d.path,p=n.find(B=>B.re.test(y)),p&&(_=p.parse(y),E=p.record.name);else{if(p=m.name?r.get(m.name):n.find(B=>B.re.test(m.path)),!p)throw pl(1,{location:d,currentLocation:m});E=p.record.name,_=Ft({},m.params,d.params),y=p.stringify(_)}const w=[];let R=p;for(;R;)w.unshift(R.record),R=R.parent;return{name:E,path:y,params:_,matched:w,meta:Px(w)}}t.forEach(d=>s(d));function u(){n.length=0,r.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function l0(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function c0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Cx(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Cx(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function u0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Px(t){return t.reduce((e,n)=>Ft(e,n.meta),{})}function h0(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Nx(t,e){let n=0,r=e.length;for(;n!==r;){const s=n+r>>1;mb(t,e[s])<0?r=s:n=s+1}const i=Lx(t);return i&&(r=e.lastIndexOf(i,r-1)),r}function Lx(t){let e=t;for(;e=e.parent;)if(vb(e)&&mb(t,e)===0)return e}function vb({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function kx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(lb," "),o=s.indexOf("="),a=zc(o<0?s:s.slice(0,o)),l=o<0?null:zc(s.slice(o+1));if(a in e){let c=e[a];vi(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function f0(t){let e="";for(let n in t){const r=t[n];if(n=X4(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(vi(r)?r.map(s=>s&&Op(s)):[r&&Op(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function Tx(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=vi(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const Rx=Symbol(""),d0=Symbol(""),Pf=Symbol(""),jg=Symbol(""),Fp=Symbol("");function lc(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xs(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=m=>{m===!1?l(pl(4,{from:n,to:e})):m instanceof Error?l(m):vx(m)?l(pl(2,{from:e,to:m})):(o&&r.enterCallbacks[i]===o&&typeof m=="function"&&o.push(m),a())},u=s(()=>t.call(r&&r.instances[i],e,n,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(m=>l(m))})}function Fd(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(ob(l)){const u=(l.__vccOpts||l)[e];u&&s.push(Xs(u,n,r,o,a,i))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=U4(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const p=(d.__vccOpts||d)[e];return p&&Xs(p,n,r,o,a,i)()}))}}return s}function p0(t){const e=di(Pf),n=di(jg),r=Rt(()=>{const l=Pn(t.to);return e.resolve(l)}),i=Rt(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],d=n.matched;if(!u||!d.length)return-1;const m=d.findIndex(dl.bind(null,u));if(m>-1)return m;const p=g0(l[c-2]);return c>1&&g0(u)===p&&d[d.length-1].path!==p?d.findIndex(dl.bind(null,l[c-2])):m}),s=Rt(()=>i.value>-1&&jx(n.params,r.value.params)),o=Rt(()=>i.value>-1&&i.value===n.matched.length-1&&fb(n.params,r.value.params));function a(l={}){if(Mx(l)){const c=e[Pn(t.replace)?"replace":"push"](Pn(t.to)).catch(Ac);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Rt(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}function Ox(t){return t.length===1?t[0]:t}const Dx=P5({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:p0,setup(t,{slots:e}){const n=ba(p0(t)),{options:r}=di(Pf),i=Rt(()=>({[m0(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[m0(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&Ox(e.default(n));return t.custom?s:nb("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),Fx=Dx;function Mx(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function jx(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!vi(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function g0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const m0=(t,e,n)=>t??e??n,Bx=P5({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=di(Fp),i=Rt(()=>t.route||r.value),s=di(d0,0),o=Rt(()=>{let c=Pn(s);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=Rt(()=>i.value.matched[o.value]);_h(d0,Rt(()=>o.value+1)),_h(Rx,a),_h(Fp,i);const l=Jt();return Sc(()=>[l.value,a.value,t.name],([c,u,d],[m,p,_])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===m&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!dl(u,p)||!m)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,m=d&&d.components[u];if(!m)return v0(n.default,{Component:m,route:c});const p=d.props[u],_=p?p===!0?c.params:typeof p=="function"?p(c):p:null,E=nb(m,Ft({},_,e,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return v0(n.default,{Component:E,route:c})||E}}});function v0(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const bb=Bx;function Ux(t){const e=Ex(t.routes,t),n=t.parseQuery||kx,r=t.stringifyQuery||f0,i=t.history,s=lc(),o=lc(),a=lc(),l=ZS(Ws);let c=Ws;Ha&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Od.bind(null,q=>""+q),d=Od.bind(null,Z4),m=Od.bind(null,zc);function p(q,Z){let J,oe;return pb(q)?(J=e.getRecordMatcher(q),oe=Z):oe=q,e.addRoute(oe,J)}function _(q){const Z=e.getRecordMatcher(q);Z&&e.removeRoute(Z)}function y(){return e.getRoutes().map(q=>q.record)}function E(q){return!!e.getRecordMatcher(q)}function w(q,Z){if(Z=Ft({},Z||l.value),typeof q=="string"){const j=Dd(n,q,Z.path),C=e.resolve({path:j.path},Z),_e=i.createHref(j.fullPath);return Ft(j,C,{params:m(C.params),hash:zc(j.hash),redirectedFrom:void 0,href:_e})}let J;if(q.path!=null)J=Ft({},q,{path:Dd(n,q.path,Z.path).path});else{const j=Ft({},q.params);for(const C in j)j[C]==null&&delete j[C];J=Ft({},q,{params:d(j)}),Z.params=d(Z.params)}const oe=e.resolve(J,Z),Ee=q.hash||"";oe.params=u(m(oe.params));const O=nx(r,Ft({},q,{hash:J4(Ee),path:oe.path})),M=i.createHref(O);return Ft({fullPath:O,hash:Ee,query:r===f0?Tx(q.query):q.query||{}},oe,{redirectedFrom:void 0,href:M})}function R(q){return typeof q=="string"?Dd(n,q,l.value.path):Ft({},q)}function B(q,Z){if(c!==q)return pl(8,{from:Z,to:q})}function T(q){return fe(q)}function ee(q){return T(Ft(R(q),{replace:!0}))}function ve(q){const Z=q.matched[q.matched.length-1];if(Z&&Z.redirect){const{redirect:J}=Z;let oe=typeof J=="function"?J(q):J;return typeof oe=="string"&&(oe=oe.includes("?")||oe.includes("#")?oe=R(oe):{path:oe},oe.params={}),Ft({query:q.query,hash:q.hash,params:oe.path!=null?{}:q.params},oe)}}function fe(q,Z){const J=c=w(q),oe=l.value,Ee=q.state,O=q.force,M=q.replace===!0,j=ve(J);if(j)return fe(Ft(R(j),{state:typeof j=="object"?Ft({},Ee,j.state):Ee,force:O,replace:M}),Z||J);const C=J;C.redirectedFrom=Z;let _e;return!O&&rx(r,oe,J)&&(_e=pl(16,{to:C,from:oe}),Ne(oe,oe,!0,!1)),(_e?Promise.resolve(_e):se(C,oe)).catch(me=>ss(me)?ss(me,2)?me:Te(me):te(me,C,oe)).then(me=>{if(me){if(ss(me,2))return fe(Ft({replace:M},R(me.to),{state:typeof me.to=="object"?Ft({},Ee,me.to.state):Ee,force:O}),Z||C)}else me=U(C,oe,!0,M,Ee);return N(C,oe,me),me})}function ne(q,Z){const J=B(q,Z);return J?Promise.reject(J):Promise.resolve()}function V(q){const Z=F.values().next().value;return Z&&typeof Z.runWithContext=="function"?Z.runWithContext(q):q()}function se(q,Z){let J;const[oe,Ee,O]=qx(q,Z);J=Fd(oe.reverse(),"beforeRouteLeave",q,Z);for(const j of oe)j.leaveGuards.forEach(C=>{J.push(Xs(C,q,Z))});const M=ne.bind(null,q,Z);return J.push(M),X(J).then(()=>{J=[];for(const j of s.list())J.push(Xs(j,q,Z));return J.push(M),X(J)}).then(()=>{J=Fd(Ee,"beforeRouteUpdate",q,Z);for(const j of Ee)j.updateGuards.forEach(C=>{J.push(Xs(C,q,Z))});return J.push(M),X(J)}).then(()=>{J=[];for(const j of O)if(j.beforeEnter)if(vi(j.beforeEnter))for(const C of j.beforeEnter)J.push(Xs(C,q,Z));else J.push(Xs(j.beforeEnter,q,Z));return J.push(M),X(J)}).then(()=>(q.matched.forEach(j=>j.enterCallbacks={}),J=Fd(O,"beforeRouteEnter",q,Z,V),J.push(M),X(J))).then(()=>{J=[];for(const j of o.list())J.push(Xs(j,q,Z));return J.push(M),X(J)}).catch(j=>ss(j,8)?j:Promise.reject(j))}function N(q,Z,J){a.list().forEach(oe=>V(()=>oe(q,Z,J)))}function U(q,Z,J,oe,Ee){const O=B(q,Z);if(O)return O;const M=Z===Ws,j=Ha?history.state:{};J&&(oe||M?i.replace(q.fullPath,Ft({scroll:M&&j&&j.scroll},Ee)):i.push(q.fullPath,Ee)),l.value=q,Ne(q,Z,J,M),Te()}let K;function G(){K||(K=i.listen((q,Z,J)=>{if(!$.listening)return;const oe=w(q),Ee=ve(oe);if(Ee){fe(Ft(Ee,{replace:!0,force:!0}),oe).catch(Ac);return}c=oe;const O=l.value;Ha&&hx(r0(O.fullPath,J.delta),Cf()),se(oe,O).catch(M=>ss(M,12)?M:ss(M,2)?(fe(Ft(R(M.to),{force:!0}),oe).then(j=>{ss(j,20)&&!J.delta&&J.type===Hc.pop&&i.go(-1,!1)}).catch(Ac),Promise.reject()):(J.delta&&i.go(-J.delta,!1),te(M,oe,O))).then(M=>{M=M||U(oe,O,!1),M&&(J.delta&&!ss(M,8)?i.go(-J.delta,!1):J.type===Hc.pop&&ss(M,20)&&i.go(-1,!1)),N(oe,O,M)}).catch(Ac)}))}let pe=lc(),be=lc(),he;function te(q,Z,J){Te(q);const oe=be.list();return oe.length?oe.forEach(Ee=>Ee(q,Z,J)):console.error(q),Promise.reject(q)}function we(){return he&&l.value!==Ws?Promise.resolve():new Promise((q,Z)=>{pe.add([q,Z])})}function Te(q){return he||(he=!q,G(),pe.list().forEach(([Z,J])=>q?J(q):Z()),pe.reset()),q}function Ne(q,Z,J,oe){const{scrollBehavior:Ee}=t;if(!Ha||!Ee)return Promise.resolve();const O=!J&&fx(r0(q.fullPath,0))||(oe||!J)&&history.state&&history.state.scroll||null;return Tg().then(()=>Ee(q,Z,O)).then(M=>M&&ux(M)).catch(M=>te(M,q,Z))}const I=q=>i.go(q);let k;const F=new Set,$={currentRoute:l,listening:!0,addRoute:p,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:y,resolve:w,options:t,push:T,replace:ee,go:I,back:()=>I(-1),forward:()=>I(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:be.add,isReady:we,install(q){const Z=this;q.component("RouterLink",Fx),q.component("RouterView",bb),q.config.globalProperties.$router=Z,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Pn(l)}),Ha&&!k&&l.value===Ws&&(k=!0,T(i.location).catch(Ee=>{}));const J={};for(const Ee in Ws)Object.defineProperty(J,Ee,{get:()=>l.value[Ee],enumerable:!0});q.provide(Pf,Z),q.provide(jg,b5(J)),q.provide(Fp,l);const oe=q.unmount;F.add(q),q.unmount=function(){F.delete(q),F.size<1&&(c=Ws,K&&K(),K=null,l.value=Ws,k=!1,he=!1),oe()}}};function X(q){return q.reduce((Z,J)=>Z.then(()=>V(J)),Promise.resolve())}return $}function qx(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(c=>dl(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>dl(c,l))||i.push(l))}return[n,r,i]}function qi(){return di(Pf)}function _a(t){return di(jg)}const _b=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},zx={__name:"App",setup(t){return(e,n)=>(He(),pi(Pn(bb)))}},Hx=_b(zx,[["__scopeId","data-v-0c909b65"]]),Wx=()=>{};var b0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe=function(t,e){if(!t)throw Al(e)},Al=function(t){return new Error("Firebase Database ("+yb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Vx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(m=64)),r.push(n[u],n[d],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Vx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new $x;const m=s<<2|a>>4;if(r.push(m),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const _=c<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sb=function(t){const e=wb(t);return Bg.encodeByteArray(e,!0)},Uh=function(t){return Sb(t).replace(/\./g,"")},qh=function(t){try{return Bg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){return xb(void 0,t)}function xb(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Kx(n)||(t[n]=xb(t[n],e[n]));return t}function Kx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=()=>Yx().__FIREBASE_DEFAULTS__,Xx=()=>{if(typeof process>"u"||typeof b0>"u")return;const t=b0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Qx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qh(t[1]);return e&&JSON.parse(e)},Ug=()=>{try{return Wx()||Jx()||Xx()||Qx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ab=t=>{var e,n;return(n=(e=Ug())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zx=t=>{const e=Ab(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ib=()=>{var t;return(t=Ug())===null||t===void 0?void 0:t.config},Eb=t=>{var e;return(e=Ug())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uh(JSON.stringify(n)),Uh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iA(){return yb.NODE_ADMIN===!0}function sA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class Ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aA,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lA(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ao(i,a,r)}}function lA(t,e){return t.replace(cA,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cA=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return JSON.parse(t)}function jn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Wc(qh(s[0])||""),n=Wc(qh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},uA=function(t){const e=Pb(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},hA=function(t){const e=Pb(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function gl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Mp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function la(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_0(s)&&_0(o)){if(!la(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const m=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const m=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function dA(t,e){const n=new pA(t,e);return n.subscribe.bind(n)}class pA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Md),i.error===void 0&&(i.error=Md),i.complete===void 0&&(i.complete=Md);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Md(){}function Nf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Fe(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bA(t){return t===Zo?void 0:t}function _A(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ht||(Ht={}));const wA={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},SA=Ht.INFO,xA={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},AA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=xA[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zg{constructor(e){this.name=e,this._logLevel=SA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...e),this._logHandler(this,Ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...e),this._logHandler(this,Ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...e),this._logHandler(this,Ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...e),this._logHandler(this,Ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...e),this._logHandler(this,Ht.ERROR,...e)}}const IA=(t,e)=>e.some(n=>t instanceof n);let y0,w0;function EA(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CA(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nb=new WeakMap,jp=new WeakMap,Lb=new WeakMap,jd=new WeakMap,Hg=new WeakMap;function PA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(co(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Nb.set(n,t)}).catch(()=>{}),Hg.set(e,t),e}function NA(t){if(jp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});jp.set(t,e)}let Bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Lb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return co(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LA(t){Bp=t(Bp)}function kA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bd(this),e,...n);return Lb.set(r,e.sort?e.sort():[e]),co(r)}:CA().includes(t)?function(...e){return t.apply(Bd(this),e),co(Nb.get(this))}:function(...e){return co(t.apply(Bd(this),e))}}function TA(t){return typeof t=="function"?kA(t):(t instanceof IDBTransaction&&NA(t),IA(t,EA())?new Proxy(t,Bp):t)}function co(t){if(t instanceof IDBRequest)return PA(t);if(jd.has(t))return jd.get(t);const e=TA(t);return e!==t&&(jd.set(t,e),Hg.set(e,t)),e}const Bd=t=>Hg.get(t);function RA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=co(o);return r&&o.addEventListener("upgradeneeded",l=>{r(co(o.result),l.oldVersion,l.newVersion,co(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const OA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],Ud=new Map;function S0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ud.get(e))return Ud.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=DA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||OA.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Ud.set(e,s),s}LA(t=>({...t,get:(e,n,r)=>S0(e,n)||t.get(e,n,r),has:(e,n)=>!!S0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Up="@firebase/app",x0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new zg("@firebase/app"),jA="@firebase/app-compat",BA="@firebase/analytics-compat",UA="@firebase/analytics",qA="@firebase/app-check-compat",zA="@firebase/app-check",HA="@firebase/auth",WA="@firebase/auth-compat",VA="@firebase/database",$A="@firebase/data-connect",GA="@firebase/database-compat",KA="@firebase/functions",YA="@firebase/functions-compat",JA="@firebase/installations",XA="@firebase/installations-compat",QA="@firebase/messaging",ZA="@firebase/messaging-compat",eI="@firebase/performance",tI="@firebase/performance-compat",nI="@firebase/remote-config",rI="@firebase/remote-config-compat",iI="@firebase/storage",sI="@firebase/storage-compat",oI="@firebase/firestore",aI="@firebase/vertexai",lI="@firebase/firestore-compat",cI="firebase",uI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",hI={[Up]:"fire-core",[jA]:"fire-core-compat",[UA]:"fire-analytics",[BA]:"fire-analytics-compat",[zA]:"fire-app-check",[qA]:"fire-app-check-compat",[HA]:"fire-auth",[WA]:"fire-auth-compat",[VA]:"fire-rtdb",[$A]:"fire-data-connect",[GA]:"fire-rtdb-compat",[KA]:"fire-fn",[YA]:"fire-fn-compat",[JA]:"fire-iid",[XA]:"fire-iid-compat",[QA]:"fire-fcm",[ZA]:"fire-fcm-compat",[eI]:"fire-perf",[tI]:"fire-perf-compat",[nI]:"fire-rc",[rI]:"fire-rc-compat",[iI]:"fire-gcs",[sI]:"fire-gcs-compat",[oI]:"fire-fst",[lI]:"fire-fst-compat",[aI]:"fire-vertex","fire-js":"fire-js",[cI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,fI=new Map,zp=new Map;function A0(t,e){try{t.container.addComponent(e)}catch(n){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ml(t){const e=t.name;if(zp.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;zp.set(e,t);for(const n of Hh.values())A0(n,t);for(const n of fI.values())A0(n,t);return!0}function Wg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new uu("app","Firebase",dI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=uI;function Vg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(n||(n=Ib()),!n)throw uo.create("no-options");const s=Hh.get(i);if(s){if(la(n,s.options)&&la(r,s.config))return s;throw uo.create("duplicate-app",{appName:i})}const o=new yA(i);for(const l of zp.values())o.addComponent(l);const a=new pI(n,r,o);return Hh.set(i,a),a}function kb(t=qp){const e=Hh.get(t);if(!e&&t===qp&&Ib())return Vg();if(!e)throw uo.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let i=(r=hI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(a.join(" "));return}ml(new ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="firebase-heartbeat-database",mI=1,Vc="firebase-heartbeat-store";let qd=null;function Tb(){return qd||(qd=RA(gI,mI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),qd}async function vI(t){try{const n=(await Tb()).transaction(Vc),r=await n.objectStore(Vc).get(Rb(t));return await n.done,r}catch(e){if(e instanceof Ao)_s.warn(e.message);else{const n=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_s.warn(n.message)}}}async function I0(t,e){try{const r=(await Tb()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,Rb(t)),await r.done}catch(n){if(n instanceof Ao)_s.warn(n.message);else{const r=uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function Rb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1024,_I=30;class yI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new SI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_I){const o=xI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=E0(),{heartbeatsToSend:r,unsentEntries:i}=wI(this._heartbeatsCache.heartbeats),s=Uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _s.warn(n),""}}}function E0(){return new Date().toISOString().substring(0,10)}function wI(t,e=bI){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),C0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),C0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class SI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return I0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function C0(t){return Uh(JSON.stringify({version:2,heartbeats:t})).length}function xI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){ml(new ca("platform-logger",e=>new FA(e),"PRIVATE")),ml(new ca("heartbeat",e=>new yI(e),"PRIVATE")),ho(Up,x0,t),ho(Up,x0,"esm2017"),ho("fire-js","")}AI("");var II="firebase",EI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(II,EI,"app");function $g(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ob(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CI=Ob,Db=new uu("auth","Firebase",Ob());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new zg("@firebase/auth");function PI(t,...e){Wh.logLevel<=Ht.WARN&&Wh.warn(`Auth (${El}): ${t}`,...e)}function Sh(t,...e){Wh.logLevel<=Ht.ERROR&&Wh.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t,...e){throw Gg(t,...e)}function ji(t,...e){return Gg(t,...e)}function Fb(t,e,n){const r=Object.assign(Object.assign({},CI()),{[e]:n});return new uu("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return Fb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Db.create(t,...e)}function ot(t,e,...n){if(!t)throw Gg(e,...n)}function fs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sh(e),new Error(e)}function ys(t,e){t||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NI(){return P0()==="http:"||P0()==="https:"}function P0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NI()||nA()||"connection"in navigator)?navigator.onLine:!0}function kI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=qg()||Cb()}get(){return LI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e){ys(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OI=new hu(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Is(t,e,n,r,i={}){return jb(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Il(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return tA()||(c.referrerPolicy="no-referrer"),Mb.fetch()(await Bb(t,t.config.apiHost,n,a),c)})}async function jb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},TI),e);try{const i=new FI(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw oh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw oh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw oh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw oh(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Fb(t,u,c);bi(t,u)}}catch(i){if(i instanceof Ao)throw i;bi(t,"network-request-failed",{message:String(i)})}}async function fu(t,e,n,r,i={}){const s=await Is(t,e,n,r,i);return"mfaPendingCredential"in s&&bi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Bb(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Kg(t.config,i):`${t.config.apiScheme}://${i}`;return RI.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function DI(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ji(this.auth,"network-request-failed")),OI.get())})}}function oh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ji(t,e,r);return i.customData._tokenResponse=n,i}function N0(t){return t!==void 0&&t.enterprise!==void 0}class MI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jI(t,e){return Is(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e){return Is(t,"POST","/v1/accounts:delete",e)}async function Vh(t,e){return Is(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function UI(t,e=!1){const n=Ir(t),r=await n.getIdToken(e),i=Yg(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ec(zd(i.auth_time)),issuedAtTime:Ec(zd(i.iat)),expirationTime:Ec(zd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function zd(t){return Number(t)*1e3}function Yg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=qh(n);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function L0(t){const e=Yg(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ao&&qI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,Vh(n,{idToken:r}));ot(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Ub(s.providerUserInfo):[],a=WI(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wp(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function HI(t){const e=Ir(t);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Ub(t){return t.map(e=>{var{providerId:n}=e,r=$g(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e){const n=await jb(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await Bb(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mb.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $I(t,e){return Is(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=L0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await VI(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new tl;return r&&(ot(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tl,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=$g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return UI(this,e)}reload(){return HI(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await $c(this,BI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,R=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:B,emailVerified:T,isAnonymous:ee,providerData:ve,stsTokenManager:fe}=n;ot(B&&fe,e,"internal-error");const ne=tl.fromJSON(this.name,fe);ot(typeof B=="string",e,"internal-error"),Vs(d,e.name),Vs(m,e.name),ot(typeof T=="boolean",e,"internal-error"),ot(typeof ee=="boolean",e,"internal-error"),Vs(p,e.name),Vs(_,e.name),Vs(y,e.name),Vs(E,e.name),Vs(w,e.name),Vs(R,e.name);const V=new ui({uid:B,auth:e,email:m,emailVerified:T,displayName:d,isAnonymous:ee,photoURL:_,phoneNumber:p,tenantId:y,stsTokenManager:ne,createdAt:w,lastLoginAt:R});return ve&&Array.isArray(ve)&&(V.providerData=ve.map(se=>Object.assign({},se))),E&&(V._redirectEventId=E),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new tl;i.updateFromServerResponse(n);const s=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await $h(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Ub(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new tl;a.updateFromIdToken(r);const l=new ui({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;function ds(t){ys(t instanceof Function,"Expected a class definition");let e=k0.get(t);return e?(ys(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qb.type="NONE";const T0=qb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e,n){return`firebase:${t}:${e}:${n}`}class nl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xh(this.userKey,i.apiKey,s),this.fullPersistenceKey=xh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nl(ds(T0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ds(T0);const o=xh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let d;if(typeof u=="string"){const m=await Vh(e,{idToken:u}).catch(()=>{});if(!m)break;d=await ui._fromGetAccountInfoResponse(e,m,u)}else d=ui._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new nl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new nl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gb(e))return"Blackberry";if(Kb(e))return"Webos";if(Hb(e))return"Safari";if((e.includes("chrome/")||Wb(e))&&!e.includes("edge/"))return"Chrome";if($b(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zb(t=_r()){return/firefox\//i.test(t)}function Hb(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wb(t=_r()){return/crios\//i.test(t)}function Vb(t=_r()){return/iemobile/i.test(t)}function $b(t=_r()){return/android/i.test(t)}function Gb(t=_r()){return/blackberry/i.test(t)}function Kb(t=_r()){return/webos/i.test(t)}function Jg(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function GI(t=_r()){var e;return Jg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KI(){return rA()&&document.documentMode===10}function Yb(t=_r()){return Jg(t)||$b(t)||Kb(t)||Gb(t)||/windows phone/i.test(t)||Vb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e=[]){let n;switch(t){case"Browser":n=R0(_r());break;case"Worker":n=`${R0(_r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t,e={}){return Is(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=6;class QI{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:XI,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O0(this),this.idTokenSubscription=new O0(this),this.beforeStateQueue=new YI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await nl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(vs(this));const n=e?Ir(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JI(this),n=new QI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $I(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Io(t){return Ir(t)}class O0{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eE(t){kf=t}function Xb(t){return kf.loadJS(t)}function tE(){return kf.recaptchaEnterpriseScript}function nE(){return kf.gapiScript}function rE(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class iE{constructor(){this.enterprise=new sE}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sE{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const oE="recaptcha-enterprise",Qb="NO_RECAPTCHA";class aE{constructor(e){this.type=oE,this.auth=Io(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{jI(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new MI(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;N0(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Qb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iE().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&N0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=tE();l.length!==0&&(l+=a),Xb(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function D0(t,e,n,r=!1,i=!1){const s=new aE(t);let o;if(i)o=Qb;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gh(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await D0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){const n=Wg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(la(s,e??{}))return i;bi(i,"already-initialized")}return n.initialize({options:e})}function cE(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ds);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uE(t,e,n){const r=Io(t);ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Zb(e),{host:o,port:a}=hE(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ot(la(c,r.config.emulator)&&la(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,fE()}function Zb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hE(t){const e=Zb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:F0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:F0(o)}}}function F0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function fE(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function dE(t,e){return Is(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pE(t,e){return fu(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}async function gE(t,e){return Is(t,"POST","/v1/accounts:sendOobCode",As(t,e))}async function mE(t,e){return gE(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vE(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function bE(t,e){return fu(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Xg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,n,"signInWithPassword",pE);case"emailLink":return vE(e,{email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gh(e,r,"signUpPassword",dE);case"emailLink":return bE(e,{idToken:n,email:this._email,oobCode:this._password});default:bi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(t,e){return fu(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="http://localhost";class ua extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=$g(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ua(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rl(e,n)}buildRequest(){const e={requestUri:_E,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wE(t){const e=mc(vc(t)).link,n=e?mc(vc(e)).deep_link_id:null,r=mc(vc(t)).deep_link_id;return(r?mc(vc(r)).link:null)||r||n||e||t}class Qg{constructor(e){var n,r,i,s,o,a;const l=mc(vc(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=yE((i=l.mode)!==null&&i!==void 0?i:null);ot(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=wE(e);try{return new Qg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(){this.providerId=Cl.PROVIDER_ID}static credential(e,n){return Gc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Qg.parseLink(n);return ot(r,"argument-error"),Gc._fromEmailAndCode(e,r.code,r.tenantId)}}Cl.PROVIDER_ID="password";Cl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Cl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends e_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends du{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return eo.credential(n,r)}catch{return null}}}eo.GOOGLE_SIGN_IN_METHOD="google.com";eo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to extends du{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return to.credential(e.oauthAccessToken)}catch{return null}}}to.GITHUB_SIGN_IN_METHOD="github.com";to.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no extends du{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return no.credential(n,r)}catch{return null}}}no.TWITTER_SIGN_IN_METHOD="twitter.com";no.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SE(t,e){return fu(t,"POST","/v1/accounts:signUp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ui._fromIdTokenResponse(e,r,i),o=M0(r);return new ha({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=M0(r);return new ha({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function M0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends Ao{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kh(e,n,r,i)}}function t_(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kh._fromErrorAndOperation(t,s,e,r):s})}async function xE(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ha._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AE(t,e,n=!1){const{auth:r}=t;if(Jr(r.app))return Promise.reject(vs(r));const i="reauthenticate";try{const s=await $c(t,t_(r,i,e,t),n);ot(s.idToken,r,"internal-error");const o=Yg(s.idToken);ot(o,r,"internal-error");const{sub:a}=o;return ot(t.uid===a,r,"user-mismatch"),ha._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n_(t,e,n=!1){if(Jr(t.app))return Promise.reject(vs(t));const r="signIn",i=await t_(t,r,e),s=await ha._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function IE(t,e){return n_(Io(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(t){const e=Io(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EE(t,e,n){const r=Io(t);await Gh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",mE)}async function CE(t,e,n){if(Jr(t.app))return Promise.reject(vs(t));const r=Io(t),o=await Gh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SE).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&r_(t),l}),a=await ha._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function PE(t,e,n){return Jr(t.app)?Promise.reject(vs(t)):IE(Ir(t),Cl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&r_(t),r})}function NE(t,e,n,r){return Ir(t).onIdTokenChanged(e,n,r)}function LE(t,e,n){return Ir(t).beforeAuthStateChanged(e,n)}function Yh(t){return Ir(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=1e3,TE=10;class s_ extends i_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);KI()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,TE):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}s_.type="LOCAL";const RE=s_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends i_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}o_.type="SESSION";const a_=o_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await OE(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Zg("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const m=d;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(){return window}function FE(t){Bi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function ME(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jE(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function BE(){return l_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="firebaseLocalStorageDb",UE=1,Xh="firebaseLocalStorage",u_="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rf(t,e){return t.transaction([Xh],e?"readwrite":"readonly").objectStore(Xh)}function qE(){const t=indexedDB.deleteDatabase(c_);return new pu(t).toPromise()}function Vp(){const t=indexedDB.open(c_,UE);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xh,{keyPath:u_})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xh)?e(r):(r.close(),await qE(),e(await Vp()))})})}async function j0(t,e,n){const r=Rf(t,!0).put({[u_]:e,value:n});return new pu(r).toPromise()}async function zE(t,e){const n=Rf(t,!1).get(e),r=await new pu(n).toPromise();return r===void 0?null:r.value}function B0(t,e){const n=Rf(t,!0).delete(e);return new pu(n).toPromise()}const HE=800,WE=3;class h_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WE)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(BE()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ME(),!this.activeServiceWorker)return;this.sender=new DE(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jE()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await j0(e,Jh,"1"),await B0(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>j0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>zE(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rf(i,!1).getAll();return new pu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h_.type="LOCAL";const VE=h_;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t,e){return e?ds(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GE(t){return n_(t.auth,new em(t),t.bypassAuthState)}function KE(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),AE(n,new em(t),t.bypassAuthState)}async function YE(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),xE(n,new em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GE;case"linkViaPopup":case"linkViaRedirect":return YE;case"reauthViaPopup":case"reauthViaRedirect":return KE;default:bi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new hu(2e3,1e4);class $a extends f_{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$a.currentPopupAction&&$a.currentPopupAction.cancel(),$a.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$a.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JE.get())};e()}}$a.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="pendingRedirect",Ah=new Map;class QE extends f_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await ZE(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZE(t,e){const n=nC(e),r=tC(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function eC(t,e){Ah.set(t._key(),e)}function tC(t){return ds(t._redirectPersistence)}function nC(t){return xh(XE,t.config.apiKey,t.name)}async function rC(t,e,n=!1){if(Jr(t.app))return Promise.reject(vs(t));const r=Io(t),i=$E(r,e),o=await new QE(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=10*60*1e3;class sC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ji(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(t,e={}){return Is(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aC(t);for(const n of e)try{if(hC(n))return}catch{}bi(t,"unauthorized-domain")}function hC(t){const e=Hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cC.test(n))return!1;if(lC.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new hu(3e4,6e4);function q0(){const t=Bi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dC(t){return new Promise((e,n)=>{var r,i,s;function o(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(ji(t,"network-request-failed"))},timeout:fC.get()})}if(!((i=(r=Bi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Bi().gapi)===null||s===void 0)&&s.load)o();else{const a=rE("iframefcb");return Bi()[a]=()=>{gapi.load?o():n(ji(t,"network-request-failed"))},Xb(`${nE()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ih=null,e})}let Ih=null;function pC(t){return Ih=Ih||dC(t),Ih}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new hu(5e3,15e3),mC="__/auth/iframe",vC="emulator/auth/iframe",bC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yC(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kg(e,vC):`https://${t.config.authDomain}/${mC}`,r={apiKey:e.apiKey,appName:t.name,v:El},i=_C.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Il(r).slice(1)}`}async function wC(t){const e=await pC(t),n=Bi().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:yC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bC,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ji(t,"network-request-failed"),a=Bi().setTimeout(()=>{s(o)},gC.get());function l(){Bi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,AC=600,IC="_blank",EC="http://localhost";class z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(t,e,n,r=xC,i=AC){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},SC),{width:r.toString(),height:i.toString(),top:s,left:o}),c=_r().toLowerCase();n&&(a=Wb(c)?IC:n),zb(c)&&(e=e||EC,l.scrollbars="yes");const u=Object.entries(l).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(GI(c)&&a!=="_self")return PC(e||"",a),new z0(null);const d=window.open(e||"",a,u);ot(d,t,"popup-blocked");try{d.focus()}catch{}return new z0(d)}function PC(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",LC="emulator/auth/handler",kC=encodeURIComponent("fac");async function H0(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:i};if(e instanceof e_){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Mp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof du){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${kC}=${encodeURIComponent(l)}`:"";return`${TC(t)}?${Il(a).slice(1)}${c}`}function TC({config:t}){return t.emulator?Kg(t,LC):`https://${t.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class RC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a_,this._completeRedirectFn=rC,this._overrideRedirectResult=eC}async _openPopup(e,n,r,i){var s;ys((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await H0(e,n,r,Hp(),i);return CC(e,o,Zg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await H0(e,n,r,Hp(),i);return FE(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ys(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wC(e),r=new sC(e);return n.register("authEvent",i=>(ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Hd];o!==void 0&&n(!!o),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yb()||Hb()||Jg()}}const OC=RC;var W0="@firebase/auth",V0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MC(t){ml(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jb(t)},c=new ZI(r,i,s,l);return cE(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new ca("auth-internal",e=>{const n=Io(e.getProvider("auth").getImmediate());return(r=>new DC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ho(W0,V0,FC(t)),ho(W0,V0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=5*60,BC=Eb("authIdTokenMaxAge")||jC;let $0=null;const UC=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>BC)return;const i=n==null?void 0:n.token;$0!==i&&($0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p_(t=kb()){const e=Wg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lE(t,{popupRedirectResolver:OC,persistence:[VE,RE,a_]}),r=Eb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=UC(s.toString());LE(n,o,()=>o(n.currentUser)),NE(n,a=>o(a))}}const i=Ab("auth");return i&&uE(n,`http://${i}`),n}function qC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}eE({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ji("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",qC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MC("Browser");var G0={};const K0="@firebase/database",Y0="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g_="";function zC(t){g_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),jn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Wc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HC(e)}}catch{}return new WC},ra=m_("localStorage"),VC=m_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=new zg("@firebase/database"),$C=function(){let t=1;return function(){return t++}}(),v_=function(t){const e=mA(t),n=new fA;n.update(e);const r=n.digest();return Bg.encodeByteArray(r)},gu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=gu.apply(null,r):typeof r=="object"?e+=jn(r):e+=r,e+=" "}return e};let Cc=null,J0=!0;const GC=function(t,e){Fe(!0,"Can't turn on custom loggers persistently."),il.logLevel=Ht.VERBOSE,Cc=il.log.bind(il)},Yn=function(...t){if(J0===!0&&(J0=!1,Cc===null&&VC.get("logging_enabled")===!0&&GC()),Cc){const e=gu.apply(null,t);Cc(e)}},mu=function(t){return function(...e){Yn(t,...e)}},$p=function(...t){const e="FIREBASE INTERNAL ERROR: "+gu(...t);il.error(e)},ws=function(...t){const e=`FIREBASE FATAL ERROR: ${gu(...t)}`;throw il.error(e),new Error(e)},br=function(...t){const e="FIREBASE WARNING: "+gu(...t);il.warn(e)},KC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&br("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},tm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},vl="[MIN_NAME]",fa="[MAX_NAME]",ya=function(t,e){if(t===e)return 0;if(t===vl||e===fa)return-1;if(e===vl||t===fa)return 1;{const n=X0(t),r=X0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},JC=function(t,e){return t===e?0:t<e?-1:1},cc=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+jn(e))},nm=function(t){if(typeof t!="object"||t===null)return jn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=jn(e[r]),n+=":",n+=nm(t[e[r]]);return n+="}",n},b_=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Xn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const __=function(t){Fe(!tm(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let m=parseInt(u.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),d=d+m}return d.toLowerCase()},XC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},QC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ZC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const eP=new RegExp("^-?(0*)\\d{1,10}$"),tP=-2147483648,nP=2147483647,X0=function(t){if(eP.test(t)){const e=Number(t);if(e>=tP&&e<=nP)return e}return null},Pl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw br("Exception was thrown by user callback.",n),e},Math.floor(0))}},rP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Jr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){br(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',br(e)}}class Eh{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Eh.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="5",y_="v",w_="s",S_="r",x_="f",A_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I_="ls",E_="p",Gp="ac",C_="websocket",P_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ra.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ra.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function oP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function L_(t,e,n){Fe(typeof e=="string","typeof type must == string"),Fe(typeof n=="object","typeof params must == object");let r;if(e===C_)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===P_)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);oP(t)&&(n.ns=t.namespace);const i=[];return Xn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.counters_={}}incrementCounter(e,n=1){zi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Gx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd={},Vd={};function im(t){const e=t.toString();return Wd[e]||(Wd[e]=new aP),Wd[e]}function lP(t,e){const n=t.toString();return Vd[n]||(Vd[n]=e()),Vd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pl(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="start",uP="close",hP="pLPCommand",fP="pRTLPCB",k_="id",T_="pw",R_="ser",dP="cb",pP="seg",gP="ts",mP="d",vP="dframe",O_=1870,D_=30,bP=O_-D_,_P=25e3,yP=3e4;class Ga{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mu(e),this.stats_=im(n),this.urlFn=l=>(this.appCheckToken&&(l[Gp]=this.appCheckToken),L_(n,P_,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cP(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yP)),YC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new sm((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Q0)this.id=a,this.password=l;else if(o===uP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Q0]="t",r[R_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[dP]=this.scriptTagHolder.uniqueCallbackIdentifier),r[y_]=rm,this.transportSessionId&&(r[w_]=this.transportSessionId),this.lastSessionId&&(r[I_]=this.lastSessionId),this.applicationId&&(r[E_]=this.applicationId),this.appCheckToken&&(r[Gp]=this.appCheckToken),typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(r[S_]=x_);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ga.forceAllow_=!0}static forceDisallow(){Ga.forceDisallow_=!0}static isAvailable(){return Ga.forceAllow_?!0:!Ga.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XC()&&!QC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sb(n),i=b_(r,bP);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vP]="t",r[k_]=e,r[T_]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=jn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class sm{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$C(),window[hP+this.uniqueCallbackIdentifier]=e,window[fP+this.uniqueCallbackIdentifier]=n,this.myIFrame=sm.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Yn("frame writing exception"),a.stack&&Yn(a.stack),Yn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Yn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[k_]=this.myID,e[T_]=this.myPW,e[R_]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+D_+r.length<=O_;){const o=this.pendingSegs.shift();r=r+"&"+pP+i+"="+o.seg+"&"+gP+i+"="+o.ts+"&"+mP+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(_P)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=16384,SP=45e3;let Qh=null;typeof MozWebSocket<"u"?Qh=MozWebSocket:typeof WebSocket<"u"&&(Qh=WebSocket);class ci{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mu(this.connId),this.stats_=im(n),this.connURL=ci.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[y_]=rm,typeof location<"u"&&location.hostname&&A_.test(location.hostname)&&(o[S_]=x_),n&&(o[w_]=n),r&&(o[I_]=r),i&&(o[Gp]=i),s&&(o[E_]=s),L_(e,C_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ra.set("previous_websocket_failure",!0);try{let r;iA(),this.mySock=new Qh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ci.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Qh!==null&&!ci.forceDisallow_}static previouslyFailed(){return ra.isInMemoryStorage||ra.get("previous_websocket_failure")===!0}markConnectionHealthy(){ra.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Wc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Fe(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=jn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=b_(n,wP);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SP))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ci.responsesRequiredToBeHealthy=2;ci.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{static get ALL_TRANSPORTS(){return[Ga,ci]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=ci&&ci.isAvailable();let r=n&&!ci.previouslyFailed();if(e.webSocketOnly&&(n||br("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ci];else{const i=this.transports_=[];for(const s of Kc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Kc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Kc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=6e4,AP=5e3,IP=10*1024,EP=100*1024,$d="t",Z0="d",CP="s",e2="r",PP="e",t2="o",n2="a",r2="n",i2="p",NP="h";class LP{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mu("c:"+this.id+":"),this.transportManager_=new Kc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>EP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($d in e){const n=e[$d];n===n2?this.upgradeIfSecondaryHealthy_():n===e2?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===t2&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:i2,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:n2,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r2,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=cc("t",e),r=cc("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=cc($d,e);if(Z0 in e){const r=e[Z0];if(n===NP){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===r2){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===CP?this.onConnectionShutdown_(r):n===e2?this.onReset_(r):n===PP?$p("Server Error: "+r):n===t2?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$p("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),rm!==r&&br("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(xP))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(AP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:i2,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ra.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.allowedEvents_=e,this.listeners_={},Fe(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Fe(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh extends M_{static getInstance(){return new Zh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!qg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Fe(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=32,o2=768;class Wt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Lt(){return new Wt("")}function It(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function bo(t){return t.pieces_.length-t.pieceNum_}function tn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Wt(t.pieces_,e)}function om(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function kP(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Yc(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function j_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Wt(e,0)}function pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Wt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Wt(n,0)}function At(t){return t.pieceNum_>=t.pieces_.length}function mr(t,e){const n=It(t),r=It(e);if(n===null)return e;if(n===r)return mr(tn(t),tn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TP(t,e){const n=Yc(t,0),r=Yc(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ya(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function B_(t,e){if(bo(t)!==bo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Xr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(bo(t)>bo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class RP{constructor(e,n){this.errorPrefix_=n,this.parts_=Yc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lf(this.parts_[r]);U_(this)}}function OP(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lf(e),U_(t)}function DP(t){const e=t.parts_.pop();t.byteLength_-=Lf(e),t.parts_.length>0&&(t.byteLength_-=1)}function U_(t){if(t.byteLength_>o2)throw new Error(t.errorPrefix_+"has a key path longer than "+o2+" bytes ("+t.byteLength_+").");if(t.parts_.length>s2)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+s2+") or object contains a cycle "+ea(t))}function ea(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am extends M_{static getInstance(){return new am}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Fe(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=1e3,FP=60*5*1e3,a2=30*1e3,MP=1.3,jP=3e4,BP="server_kill",l2=3;class bs extends F_{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=bs.nextPersistentConnectionId_++,this.log_=mu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uc,this.maxReconnectDelay_=FP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");am.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(jn(s)),Fe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new cu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Fe(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;bs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zi(e,"w")){const r=gl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();br(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hA(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=a2)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=uA(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Fe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+jn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$p("Unrecognized action received from server: "+jn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Fe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jP&&(this.reconnectDelay_=uc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*MP)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+bs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){Fe(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,m]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Yn("getToken() completed but was canceled"):(Yn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=m&&m.token,a=new LP(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{br(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(BP)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&br(d),l())}}}interrupt(e){Yn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Yn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Mp(this.interruptReasons_)&&(this.reconnectDelay_=uc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>nm(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Wt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Yn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=l2&&(this.reconnectDelay_=a2,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Yn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=l2&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+g_.replace(/\./g,"-")]=1,qg()?e["framework.cordova"]=1:Cb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zh.getInstance().currentlyOnline();return Mp(this.interruptReasons_)&&e}}bs.nextPersistentConnectionId_=0;bs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new wt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new wt(vl,e),i=new wt(vl,n);return this.compare(r,i)!==0}minPost(){return wt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah;class q_ extends Of{static get __EMPTY_NODE(){return ah}static set __EMPTY_NODE(e){ah=e}compare(e,n){return ya(e.name,n.name)}isDefinedOn(e){throw Al("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return wt.MIN}maxPost(){return new wt(fa,ah)}makePost(e,n){return Fe(typeof e=="string","KeyIndex indexValue must always be a string."),new wt(e,ah)}toString(){return".key"}}const sl=new q_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class qn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qn.RED,this.left=i??xr.EMPTY_NODE,this.right=s??xr.EMPTY_NODE}copy(e,n,r,i,s){return new qn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return xr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return xr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}qn.RED=!0;qn.BLACK=!1;class UP{copy(e,n,r,i,s){return this}insert(e,n,r){return new qn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class xr{constructor(e,n=xr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new xr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(e){return new xr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new lh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new lh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new lh(this.root_,null,this.comparator_,!0,e)}}xr.EMPTY_NODE=new UP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){return ya(t.name,e.name)}function lm(t,e){return ya(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp;function zP(t){Kp=t}const z_=function(t){return typeof t=="number"?"number:"+__(t):"string:"+t},H_=function(t){if(t.isLeafNode()){const e=t.val();Fe(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zi(e,".sv"),"Priority must be a string or number.")}else Fe(t===Kp||t.isEmpty(),"priority of unexpected type.");Fe(t===Kp||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c2;class Un{static set __childrenNodeConstructor(e){c2=e}static get __childrenNodeConstructor(){return c2}constructor(e,n=Un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Fe(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),H_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return At(e)?this:It(e)===".priority"?this.priorityNode_:Un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=It(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Fe(r!==".priority"||bo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Un.__childrenNodeConstructor.EMPTY_NODE.updateChild(tn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+z_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=__(this.value_):e+=this.value_,this.lazyHash_=v_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Un.__childrenNodeConstructor?-1:(Fe(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Un.VALUE_TYPE_ORDER.indexOf(n),s=Un.VALUE_TYPE_ORDER.indexOf(r);return Fe(i>=0,"Unknown leaf type: "+n),Fe(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_,V_;function HP(t){W_=t}function WP(t){V_=t}class VP extends Of{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ya(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(fa,new Un("[PRIORITY-POST]",V_))}makePost(e,n){const r=W_(e);return new wt(n,new Un("[PRIORITY-POST]",r))}toString(){return".priority"}}const gn=new VP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=Math.log(2);class GP{constructor(e){const n=s=>parseInt(Math.log(s)/$P,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ef=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,m;if(u===0)return null;if(u===1)return d=t[l],m=n?n(d):d,new qn(m,d.node,qn.BLACK,null,null);{const p=parseInt(u/2,10)+l,_=i(l,p),y=i(p+1,c);return d=t[p],m=n?n(d):d,new qn(m,d.node,qn.BLACK,_,y)}},s=function(l){let c=null,u=null,d=t.length;const m=function(_,y){const E=d-_,w=d;d-=_;const R=i(E+1,w),B=t[E],T=n?n(B):B;p(new qn(T,B.node,y,null,R))},p=function(_){c?(c.left=_,c=_):(u=_,c=_)};for(let _=0;_<l.count;++_){const y=l.nextBitIsOne(),E=Math.pow(2,l.count-(_+1));y?m(E,qn.BLACK):(m(E,qn.BLACK),m(E,qn.RED))}return u},o=new GP(t.length),a=s(o);return new xr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd;const ja={};class ps{static get Default(){return Fe(ja&&gn,"ChildrenNode.ts has not been loaded"),Gd=Gd||new ps({".priority":ja},{".priority":gn}),Gd}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=gl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof xr?n:null}hasIndex(e){return zi(this.indexSet_,e.toString())}addIndex(e,n){Fe(e!==sl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(wt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=ef(r,e.getCompare()):a=ja;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ps(u,c)}addToIndexes(e,n){const r=zh(this.indexes_,(i,s)=>{const o=gl(this.indexSet_,s);if(Fe(o,"Missing index implementation for "+s),i===ja)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(wt.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),ef(a,o.getCompare())}else return ja;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new wt(e.name,a))),l.insert(e,e.node)}});return new ps(r,this.indexSet_)}removeFromIndexes(e,n){const r=zh(this.indexes_,i=>{if(i===ja)return i;{const s=n.get(e.name);return s?i.remove(new wt(e.name,s)):i}});return new ps(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;class at{static get EMPTY_NODE(){return hc||(hc=new at(new xr(lm),null,ps.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&H_(this.priorityNode_),this.children_.isEmpty()&&Fe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hc}updatePriority(e){return this.children_.isEmpty()?this:new at(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?hc:n}}getChild(e){const n=It(e);return n===null?this:this.getImmediateChild(n).getChild(tn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Fe(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new wt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?hc:this.priorityNode_;return new at(i,o,s)}}updateChild(e,n){const r=It(e);if(r===null)return n;{Fe(It(e)!==".priority"||bo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(tn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(gn,(o,a)=>{n[o]=a.val(e),r++,s&&at.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+z_(this.getPriority().val())+":"),this.forEachChild(gn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":v_(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new wt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new wt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new wt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,wt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vu?-1:0}withIndex(e){if(e===sl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new at(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===sl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(gn),i=n.getIterator(gn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===sl?null:this.indexMap_.get(e.toString())}}at.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class KP extends at{constructor(){super(new xr(lm),at.EMPTY_NODE,ps.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return at.EMPTY_NODE}isEmpty(){return!1}}const vu=new KP;Object.defineProperties(wt,{MIN:{value:new wt(vl,at.EMPTY_NODE)},MAX:{value:new wt(fa,vu)}});q_.__EMPTY_NODE=at.EMPTY_NODE;Un.__childrenNodeConstructor=at;zP(vu);WP(vu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=!0;function Fn(t,e=null){if(t===null)return at.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Fe(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Un(n,Fn(e))}if(!(t instanceof Array)&&YP){const n=[];let r=!1;if(Xn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Fn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new wt(o,l)))}}),n.length===0)return at.EMPTY_NODE;const s=ef(n,qP,o=>o.name,lm);if(r){const o=ef(n,gn.getCompare());return new at(s,Fn(e),new ps({".priority":o},{".priority":gn}))}else return new at(s,Fn(e),ps.Default)}else{let n=at.EMPTY_NODE;return Xn(t,(r,i)=>{if(zi(t,r)&&r.substring(0,1)!=="."){const s=Fn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Fn(e))}}HP(Fn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP extends Of{constructor(e){super(),this.indexPath_=e,Fe(!At(e)&&It(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ya(e.name,n.name):s}makePost(e,n){const r=Fn(e),i=at.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(n,i)}maxPost(){const e=at.EMPTY_NODE.updateChild(this.indexPath_,vu);return new wt(fa,e)}toString(){return Yc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP extends Of{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ya(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,n){const r=Fn(e);return new wt(n,r)}toString(){return".value"}}const QP=new XP;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t){return{type:"value",snapshotNode:t}}function bl(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Jc(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Xc(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZP(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Fe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Jc(n,a)):Fe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(bl(n,r)):o.trackChildChange(Xc(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(gn,(i,s)=>{n.hasChild(i)||r.trackChildChange(Jc(i,s))}),n.isLeafNode()||n.forEachChild(gn,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Xc(i,s,o))}else r.trackChildChange(bl(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?at.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this.indexedFilter_=new cm(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Qc.getStartPost_(e),this.endPost_=Qc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new wt(n,r))||(r=at.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=at.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(at.EMPTY_NODE);const s=this;return n.forEachChild(gn,(o,a)=>{s.matches(new wt(o,a))||(i=i.updateImmediateChild(o,at.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new wt(n,r))||(r=at.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=at.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=at.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(at.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,at.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(m,p)=>d(p,m)}else o=this.index_.getCompare();const a=e;Fe(a.numChildren()===this.limit_,"");const l=new wt(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,c,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const p=m==null?1:o(m,l);if(u&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(Xc(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Jc(n,d));const y=a.updateImmediateChild(n,at.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(bl(m.name,m.node)),y.updateImmediateChild(m.name,m.node)):y}}else return r.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Jc(c.name,c.node)),s.trackChildChange(bl(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,at.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=gn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Fe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Fe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vl}hasEnd(){return this.endSet_}getIndexEndValue(){return Fe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Fe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Fe(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===gn}copy(){const e=new um;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function tN(t){return t.loadsAllData()?new cm(t.getIndex()):t.hasLimit()?new eN(t):new Qc(t)}function u2(t){const e={};if(t.isDefault())return e;let n;if(t.index_===gn?n="$priority":t.index_===QP?n="$value":t.index_===sl?n="$key":(Fe(t.index_ instanceof JP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=jn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=jn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+jn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=jn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+jn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function h2(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==gn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf extends F_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Fe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=mu("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=tf.getListenId_(e,r),a={};this.listens_[o]=a;const l=u2(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),gl(this.listens_,o)===a){let m;c?c===401?m="permission_denied":m="rest_error:"+c:m="ok",i(m,null)}})}unlisten(e,n){const r=tf.getListenId_(e,n);delete this.listens_[r]}get(e){const n=u2(e._queryParams),r=e._path.toString(),i=new cu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Il(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Wc(a.responseText)}catch{br("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&br("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.rootNode_=at.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(){return{value:null,children:new Map}}function G_(t,e,n){if(At(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=It(e);t.children.has(r)||t.children.set(r,nf());const i=t.children.get(r);e=tn(e),G_(i,e,n)}}function Yp(t,e,n){t.value!==null?n(e,t.value):rN(t,(r,i)=>{const s=new Wt(e.toString()+"/"+r);Yp(i,s,n)})}function rN(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Xn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=10*1e3,sN=30*1e3,oN=5*60*1e3;class aN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new iN(e);const r=f2+(sN-f2)*Math.random();Pc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Xn(e,(i,s)=>{s>0&&zi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pc(this.reportStats_.bind(this),Math.floor(Math.random()*2*oN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(hi||(hi={}));function hm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function fm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=hi.ACK_USER_WRITE,this.source=hm()}operationForChild(e){if(At(this.path)){if(this.affectedTree.value!=null)return Fe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Wt(e));return new rf(Lt(),n,this.revert)}}else return Fe(It(this.path)===e,"operationForChild called for unrelated child."),new rf(tn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){this.source=e,this.path=n,this.type=hi.LISTEN_COMPLETE}operationForChild(e){return At(this.path)?new Zc(this.source,Lt()):new Zc(this.source,tn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=hi.OVERWRITE}operationForChild(e){return At(this.path)?new da(this.source,Lt(),this.snap.getImmediateChild(e)):new da(this.source,tn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=hi.MERGE}operationForChild(e){if(At(this.path)){const n=this.children.subtree(new Wt(e));return n.isEmpty()?null:n.value?new da(this.source,Lt(),n.value):new _l(this.source,Lt(),n)}else return Fe(It(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new _l(this.source,tn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(At(e))return this.isFullyInitialized()&&!this.filtered_;const n=It(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cN(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZP(o.childName,o.snapshotNode))}),fc(t,i,"child_removed",e,r,n),fc(t,i,"child_added",e,r,n),fc(t,i,"child_moved",s,r,n),fc(t,i,"child_changed",e,r,n),fc(t,i,"value",e,r,n),i}function fc(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>hN(t,a,l)),o.forEach(a=>{const l=uN(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function uN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function hN(t,e,n){if(e.childName==null||n.childName==null)throw Al("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),i=new wt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e){return{eventCache:t,serverCache:e}}function Nc(t,e,n,r){return Df(new _o(e,n,r),t.serverCache)}function K_(t,e,n,r){return Df(t.eventCache,new _o(e,n,r))}function sf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pa(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;const fN=()=>(Kd||(Kd=new xr(JC)),Kd);class en{static fromObject(e){let n=new en(null);return Xn(e,(r,i)=>{n=n.set(new Wt(r),i)}),n}constructor(e,n=fN()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Lt(),value:this.value};if(At(e))return null;{const r=It(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(tn(e),n);return s!=null?{path:pn(new Wt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(At(e))return this;{const n=It(e),r=this.children.get(n);return r!==null?r.subtree(tn(e)):new en(null)}}set(e,n){if(At(e))return new en(n,this.children);{const r=It(e),s=(this.children.get(r)||new en(null)).set(tn(e),n),o=this.children.insert(r,s);return new en(this.value,o)}}remove(e){if(At(e))return this.children.isEmpty()?new en(null):new en(null,this.children);{const n=It(e),r=this.children.get(n);if(r){const i=r.remove(tn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new en(null):new en(this.value,s)}else return this}}get(e){if(At(e))return this.value;{const n=It(e),r=this.children.get(n);return r?r.get(tn(e)):null}}setTree(e,n){if(At(e))return n;{const r=It(e),s=(this.children.get(r)||new en(null)).setTree(tn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new en(this.value,o)}}fold(e){return this.fold_(Lt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Lt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(At(e))return null;{const s=It(e),o=this.children.get(s);return o?o.findOnPath_(tn(e),pn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Lt(),n)}foreachOnPath_(e,n,r){if(At(e))return this;{this.value&&r(n,this.value);const i=It(e),s=this.children.get(i);return s?s.foreachOnPath_(tn(e),pn(n,i),r):new en(null)}}foreach(e){this.foreach_(Lt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.writeTree_=e}static empty(){return new gi(new en(null))}}function Lc(t,e,n){if(At(e))return new gi(new en(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=mr(i,e);return s=s.updateChild(o,n),new gi(t.writeTree_.set(i,s))}else{const i=new en(n),s=t.writeTree_.setTree(e,i);return new gi(s)}}}function Jp(t,e,n){let r=t;return Xn(n,(i,s)=>{r=Lc(r,pn(e,i),s)}),r}function d2(t,e){if(At(e))return gi.empty();{const n=t.writeTree_.setTree(e,new en(null));return new gi(n)}}function Xp(t,e){return wa(t,e)!=null}function wa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(mr(n.path,e)):null}function p2(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(gn,(r,i)=>{e.push(new wt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new wt(r,i.value))}),e}function fo(t,e){if(At(e))return t;{const n=wa(t,e);return n!=null?new gi(new en(n)):new gi(t.writeTree_.subtree(e))}}function Qp(t){return t.writeTree_.isEmpty()}function yl(t,e){return Y_(Lt(),t.writeTree_,e)}function Y_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Fe(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Y_(pn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t,e){return Z_(e,t)}function dN(t,e,n,r,i){Fe(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Lc(t.visibleWrites,e,n)),t.lastWriteId=r}function pN(t,e,n,r){Fe(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Jp(t.visibleWrites,e,n),t.lastWriteId=r}function gN(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mN(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Fe(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&vN(a,r.path)?i=!1:Xr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return bN(t),!0;if(r.snap)t.visibleWrites=d2(t.visibleWrites,r.path);else{const a=r.children;Xn(a,l=>{t.visibleWrites=d2(t.visibleWrites,pn(r.path,l))})}return!0}else return!1}function vN(t,e){if(t.snap)return Xr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Xr(pn(t.path,n),e))return!0;return!1}function bN(t){t.visibleWrites=J_(t.allWrites,_N,Lt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function _N(t){return t.visible}function J_(t,e,n){let r=gi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)Xr(n,o)?(a=mr(n,o),r=Lc(r,a,s.snap)):Xr(o,n)&&(a=mr(o,n),r=Lc(r,Lt(),s.snap.getChild(a)));else if(s.children){if(Xr(n,o))a=mr(n,o),r=Jp(r,a,s.children);else if(Xr(o,n))if(a=mr(o,n),At(a))r=Jp(r,Lt(),s.children);else{const l=gl(s.children,It(a));if(l){const c=l.getChild(tn(a));r=Lc(r,Lt(),c)}}}else throw Al("WriteRecord should have .snap or .children")}}return r}function X_(t,e,n,r,i){if(!r&&!i){const s=wa(t.visibleWrites,e);if(s!=null)return s;{const o=fo(t.visibleWrites,e);if(Qp(o))return n;if(n==null&&!Xp(o,Lt()))return null;{const a=n||at.EMPTY_NODE;return yl(o,a)}}}else{const s=fo(t.visibleWrites,e);if(!i&&Qp(s))return n;if(!i&&n==null&&!Xp(s,Lt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Xr(c.path,e)||Xr(e,c.path))},a=J_(t.allWrites,o,e),l=n||at.EMPTY_NODE;return yl(a,l)}}}function yN(t,e,n){let r=at.EMPTY_NODE;const i=wa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(gn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=fo(t.visibleWrites,e);return n.forEachChild(gn,(o,a)=>{const l=yl(fo(s,new Wt(o)),a);r=r.updateImmediateChild(o,l)}),p2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=fo(t.visibleWrites,e);return p2(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wN(t,e,n,r,i){Fe(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pn(e,n);if(Xp(t.visibleWrites,s))return null;{const o=fo(t.visibleWrites,s);return Qp(o)?i.getChild(n):yl(o,i.getChild(n))}}function SN(t,e,n,r){const i=pn(e,n),s=wa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=fo(t.visibleWrites,i);return yl(o,r.getNode().getImmediateChild(n))}else return null}function xN(t,e){return wa(t.visibleWrites,e)}function AN(t,e,n,r,i,s,o){let a;const l=fo(t.visibleWrites,e),c=wa(l,Lt());if(c!=null)a=c;else if(n!=null)a=yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=m.getNext();for(;p&&u.length<i;)d(p,r)!==0&&u.push(p),p=m.getNext();return u}else return[]}function IN(){return{visibleWrites:gi.empty(),allWrites:[],lastWriteId:-1}}function of(t,e,n,r){return X_(t.writeTree,t.treePath,e,n,r)}function pm(t,e){return yN(t.writeTree,t.treePath,e)}function g2(t,e,n,r){return wN(t.writeTree,t.treePath,e,n,r)}function af(t,e){return xN(t.writeTree,pn(t.treePath,e))}function EN(t,e,n,r,i,s){return AN(t.writeTree,t.treePath,e,n,r,i,s)}function gm(t,e,n){return SN(t.writeTree,t.treePath,e,n)}function Q_(t,e){return Z_(pn(t.treePath,e),t.writeTree)}function Z_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Fe(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Fe(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xc(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Jc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,bl(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xc(r,e.snapshotNode,i.oldSnap));else throw Al("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ey=new PN;class mm{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new _o(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gm(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pa(this.viewCache_),s=EN(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){return{filter:t}}function LN(t,e){Fe(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Fe(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kN(t,e,n,r,i){const s=new CN;let o,a;if(n.type===hi.OVERWRITE){const c=n;c.source.fromUser?o=Zp(t,e,c.path,c.snap,r,i,s):(Fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!At(c.path),o=lf(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===hi.MERGE){const c=n;c.source.fromUser?o=RN(t,e,c.path,c.children,r,i,s):(Fe(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=eg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===hi.ACK_USER_WRITE){const c=n;c.revert?o=FN(t,e,c.path,r,i,s):o=ON(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===hi.LISTEN_COMPLETE)o=DN(t,e,n.path,r,s);else throw Al("Unknown operation type: "+n.type);const l=s.getChanges();return TN(e,o,l),{viewCache:o,changes:l}}function TN(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sf(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push($_(sf(e)))}}function ty(t,e,n,r,i,s){const o=e.eventCache;if(af(r,n)!=null)return e;{let a,l;if(At(n))if(Fe(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=pa(e),u=c instanceof at?c:at.EMPTY_NODE,d=pm(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=of(r,pa(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=It(n);if(c===".priority"){Fe(bo(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=g2(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=tn(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const m=g2(r,n,o.getNode(),l);m!=null?d=o.getNode().getImmediateChild(c).updateChild(u,m):d=o.getNode().getImmediateChild(c)}else d=gm(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return Nc(e,a,o.isFullyInitialized()||At(n),t.filter.filtersNodes())}}function lf(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(At(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=It(n);if(!l.isCompleteForPath(n)&&bo(n)>1)return e;const _=tn(n),E=l.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,_,ey,null)}const d=K_(e,c,l.isFullyInitialized()||At(n),u.filtersNodes()),m=new mm(i,d,s);return ty(t,d,n,i,m,a)}function Zp(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new mm(i,e,s);if(At(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Nc(e,c,!0,t.filter.filtersNodes());else{const d=It(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Nc(e,c,a.isFullyInitialized(),a.isFiltered());else{const m=tn(n),p=a.getNode().getImmediateChild(d);let _;if(At(m))_=r;else{const y=u.getCompleteChild(d);y!=null?om(m)===".priority"&&y.getChild(j_(m)).isEmpty()?_=y:_=y.updateChild(m,r):_=at.EMPTY_NODE}if(p.equals(_))l=e;else{const y=t.filter.updateChild(a.getNode(),d,_,m,u,o);l=Nc(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function m2(t,e){return t.eventCache.isCompleteForChild(e)}function RN(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=pn(n,l);m2(e,It(u))&&(a=Zp(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=pn(n,l);m2(e,It(u))||(a=Zp(t,a,u,c,i,s,o))}),a}function v2(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function eg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;At(n)?c=r:c=new en(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,m)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),_=v2(t,p,m);l=lf(t,l,new Wt(d),_,i,s,o,a)}}),c.children.inorderTraversal((d,m)=>{const p=!e.serverCache.isCompleteForChild(d)&&m.value===null;if(!u.hasChild(d)&&!p){const _=e.serverCache.getNode().getImmediateChild(d),y=v2(t,_,m);l=lf(t,l,new Wt(d),y,i,s,o,a)}}),l}function ON(t,e,n,r,i,s,o){if(af(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(At(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return lf(t,e,n,l.getNode().getChild(n),i,s,a,o);if(At(n)){let c=new en(null);return l.getNode().forEachChild(sl,(u,d)=>{c=c.set(new Wt(u),d)}),eg(t,e,n,c,i,s,a,o)}else return e}else{let c=new en(null);return r.foreach((u,d)=>{const m=pn(n,u);l.isCompleteForPath(m)&&(c=c.set(u,l.getNode().getChild(m)))}),eg(t,e,n,c,i,s,a,o)}}function DN(t,e,n,r,i){const s=e.serverCache,o=K_(e,s.getNode(),s.isFullyInitialized()||At(n),s.isFiltered());return ty(t,o,n,r,ey,i)}function FN(t,e,n,r,i,s){let o;if(af(r,n)!=null)return e;{const a=new mm(r,e,i),l=e.eventCache.getNode();let c;if(At(n)||It(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=of(r,pa(e));else{const d=e.serverCache.getNode();Fe(d instanceof at,"serverChildren would be complete if leaf node"),u=pm(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{const u=It(n);let d=gm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,tn(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,at.EMPTY_NODE,tn(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=of(r,pa(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||af(r,Lt())!=null,Nc(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new cm(r.getIndex()),s=tN(r);this.processor_=NN(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(at.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(at.EMPTY_NODE,a.getNode(),null),u=new _o(l,o.isFullyInitialized(),i.filtersNodes()),d=new _o(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Df(d,u),this.eventGenerator_=new lN(this.query_)}get query(){return this.query_}}function jN(t){return t.viewCache_.serverCache.getNode()}function BN(t){return sf(t.viewCache_)}function UN(t,e){const n=pa(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!At(e)&&!n.getImmediateChild(It(e)).isEmpty())?n.getChild(e):null}function b2(t){return t.eventRegistrations_.length===0}function qN(t,e){t.eventRegistrations_.push(e)}function _2(t,e,n){const r=[];if(n){Fe(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function y2(t,e,n,r){e.type===hi.MERGE&&e.source.queryId!==null&&(Fe(pa(t.viewCache_),"We should always have a full cache before handling merges"),Fe(sf(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=kN(t.processor_,i,e,n,r);return LN(t.processor_,s.viewCache),Fe(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ny(t,s.changes,s.viewCache.eventCache.getNode(),null)}function zN(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(gn,(s,o)=>{r.push(bl(s,o))}),n.isFullyInitialized()&&r.push($_(n.getNode())),ny(t,r,n.getNode(),e)}function ny(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return cN(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf;class ry{constructor(){this.views=new Map}}function HN(t){Fe(!cf,"__referenceConstructor has already been defined"),cf=t}function WN(){return Fe(cf,"Reference.ts has not been loaded"),cf}function VN(t){return t.views.size===0}function vm(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Fe(s!=null,"SyncTree gave us an op for an invalid query."),y2(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(y2(o,e,n,r));return s}}function iy(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=of(n,i?r:null),l=!1;a?l=!0:r instanceof at?(a=pm(n,r),l=!1):(a=at.EMPTY_NODE,l=!1);const c=Df(new _o(a,l,!1),new _o(r,i,!1));return new MN(e,c)}return o}function $N(t,e,n,r,i,s){const o=iy(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),qN(o,n),zN(o,n)}function GN(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=yo(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(_2(c,n,r)),b2(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(_2(l,n,r)),b2(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!yo(t)&&s.push(new(WN())(e._repo,e._path)),{removed:s,events:o}}function sy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function po(t,e){let n=null;for(const r of t.views.values())n=n||UN(r,e);return n}function oy(t,e){if(e._queryParams.loadsAllData())return Mf(t);{const r=e._queryIdentifier;return t.views.get(r)}}function ay(t,e){return oy(t,e)!=null}function yo(t){return Mf(t)!=null}function Mf(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf;function KN(t){Fe(!uf,"__referenceConstructor has already been defined"),uf=t}function YN(){return Fe(uf,"Reference.ts has not been loaded"),uf}let JN=1;class w2{constructor(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_=IN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ly(t,e,n,r,i){return dN(t.pendingWriteTree_,e,n,r,i),i?Nl(t,new da(hm(),e,n)):[]}function XN(t,e,n,r){pN(t.pendingWriteTree_,e,n,r);const i=en.fromObject(n);return Nl(t,new _l(hm(),e,i))}function so(t,e,n=!1){const r=gN(t.pendingWriteTree_,e);if(mN(t.pendingWriteTree_,e)){let s=new en(null);return r.snap!=null?s=s.set(Lt(),!0):Xn(r.children,o=>{s=s.set(new Wt(o),!0)}),Nl(t,new rf(r.path,s,n))}else return[]}function bu(t,e,n){return Nl(t,new da(fm(),e,n))}function QN(t,e,n){const r=en.fromObject(n);return Nl(t,new _l(fm(),e,r))}function ZN(t,e){return Nl(t,new Zc(fm(),e))}function e6(t,e,n){const r=_m(t,n);if(r){const i=ym(r),s=i.path,o=i.queryId,a=mr(s,e),l=new Zc(dm(o),a);return wm(t,s,l)}else return[]}function cy(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||ay(o,e))){const l=GN(o,e,n,r);VN(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const u=c.findIndex(m=>m._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(m,p)=>yo(p));if(u&&!d){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const p=i6(m);for(let _=0;_<p.length;++_){const y=p[_],E=y.query,w=dy(t,y);t.listenProvider_.startListening(kc(E),eu(t,E),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!r&&(u?t.listenProvider_.stopListening(kc(e),null):c.forEach(m=>{const p=t.queryToTagMap.get(jf(m));t.listenProvider_.stopListening(kc(m),p)}))}s6(t,c)}return a}function uy(t,e,n,r){const i=_m(t,r);if(i!=null){const s=ym(i),o=s.path,a=s.queryId,l=mr(o,e),c=new da(dm(a),l,n);return wm(t,o,c)}else return[]}function t6(t,e,n,r){const i=_m(t,r);if(i){const s=ym(i),o=s.path,a=s.queryId,l=mr(o,e),c=en.fromObject(n),u=new _l(dm(a),l,c);return wm(t,o,u)}else return[]}function n6(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,p)=>{const _=mr(m,i);s=s||po(p,_),o=o||yo(p)});let a=t.syncPointTree_.get(i);a?(o=o||yo(a),s=s||po(a,Lt())):(a=new ry,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=at.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((p,_)=>{const y=po(_,Lt());y&&(s=s.updateImmediateChild(p,y))}));const c=ay(a,e);if(!c&&!e._queryParams.loadsAllData()){const m=jf(e);Fe(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const p=o6();t.queryToTagMap.set(m,p),t.tagToQueryMap.set(p,m)}const u=Ff(t.pendingWriteTree_,i);let d=$N(a,e,n,u,s,l);if(!c&&!o&&!r){const m=oy(a,e);d=d.concat(a6(t,e,m))}return d}function bm(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=mr(o,e),c=po(a,l);if(c)return c});return X_(i,e,s,n,!0)}function r6(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{const d=mr(c,n);r=r||po(u,d)});let i=t.syncPointTree_.get(n);i?r=r||po(i,Lt()):(i=new ry,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new _o(r,!0,!1):null,a=Ff(t.pendingWriteTree_,e._path),l=iy(i,e,a,s?o.getNode():at.EMPTY_NODE,s);return BN(l)}function Nl(t,e){return hy(e,t.syncPointTree_,null,Ff(t.pendingWriteTree_,Lt()))}function hy(t,e,n,r){if(At(t.path))return fy(t,e,n,r);{const i=e.get(Lt());n==null&&i!=null&&(n=po(i,Lt()));let s=[];const o=It(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Q_(r,o);s=s.concat(hy(a,l,c,u))}return i&&(s=s.concat(vm(i,t,r,n))),s}}function fy(t,e,n,r){const i=e.get(Lt());n==null&&i!=null&&(n=po(i,Lt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Q_(r,o),u=t.operationForChild(o);u&&(s=s.concat(fy(u,a,l,c)))}),i&&(s=s.concat(vm(i,t,r,n))),s}function dy(t,e){const n=e.query,r=eu(t,n);return{hashFn:()=>(jN(e)||at.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?e6(t,n._path,r):ZN(t,n._path);{const s=ZC(i,n);return cy(t,n,null,s)}}}}function eu(t,e){const n=jf(e);return t.queryToTagMap.get(n)}function jf(t){return t._path.toString()+"$"+t._queryIdentifier}function _m(t,e){return t.tagToQueryMap.get(e)}function ym(t){const e=t.indexOf("$");return Fe(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Wt(t.substr(0,e))}}function wm(t,e,n){const r=t.syncPointTree_.get(e);Fe(r,"Missing sync point for query tag that we're tracking");const i=Ff(t.pendingWriteTree_,e);return vm(r,n,i,null)}function i6(t){return t.fold((e,n,r)=>{if(n&&yo(n))return[Mf(n)];{let i=[];return n&&(i=sy(n)),Xn(r,(s,o)=>{i=i.concat(o)}),i}})}function kc(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(YN())(t._repo,t._path):t}function s6(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=jf(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function o6(){return JN++}function a6(t,e,n){const r=e._path,i=eu(t,e),s=dy(t,n),o=t.listenProvider_.startListening(kc(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)Fe(!yo(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!At(c)&&u&&yo(u))return[Mf(u).query];{let m=[];return u&&(m=m.concat(sy(u).map(p=>p.query))),Xn(d,(p,_)=>{m=m.concat(_)}),m}});for(let c=0;c<l.length;++c){const u=l[c];t.listenProvider_.stopListening(kc(u),eu(t,u))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Sm(n)}node(){return this.node_}}class xm{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pn(this.path_,e);return new xm(this.syncTree_,n)}node(){return bm(this.syncTree_,this.path_)}}const l6=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},S2=function(t,e,n){if(!t||typeof t!="object")return t;if(Fe(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return c6(t[".sv"],e,n);if(typeof t[".sv"]=="object")return u6(t[".sv"],e);Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},c6=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Fe(!1,"Unexpected server value: "+t)}},u6=function(t,e,n){t.hasOwnProperty("increment")||Fe(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Fe(!1,"Unexpected increment value: "+r);const i=e.node();if(Fe(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},py=function(t,e,n,r){return Am(e,new xm(n,t),r)},gy=function(t,e,n){return Am(t,new Sm(e),n)};function Am(t,e,n){const r=t.getPriority().val(),i=S2(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=S2(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Un(a,Fn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Un(i))),o.forEachChild(gn,(a,l)=>{const c=Am(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Em(t,e){let n=e instanceof Wt?e:new Wt(e),r=t,i=It(n);for(;i!==null;){const s=gl(r.node.children,i)||{children:{},childCount:0};r=new Im(i,r,s),n=tn(n),i=It(n)}return r}function Ll(t){return t.node.value}function my(t,e){t.node.value=e,tg(t)}function vy(t){return t.node.childCount>0}function h6(t){return Ll(t)===void 0&&!vy(t)}function Bf(t,e){Xn(t.node.children,(n,r)=>{e(new Im(n,t,r))})}function by(t,e,n,r){n&&e(t),Bf(t,i=>{by(i,e,!0)})}function f6(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _u(t){return new Wt(t.parent===null?t.name:_u(t.parent)+"/"+t.name)}function tg(t){t.parent!==null&&d6(t.parent,t.name,t)}function d6(t,e,n){const r=h6(n),i=zi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,tg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,tg(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/[\[\].#$\/\u0000-\u001F\u007F]/,g6=/[\[\].#$\u0000-\u001F\u007F]/,Yd=10*1024*1024,Cm=function(t){return typeof t=="string"&&t.length!==0&&!p6.test(t)},_y=function(t){return typeof t=="string"&&t.length!==0&&!g6.test(t)},m6=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_y(t)},v6=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!tm(t)||t&&typeof t=="object"&&zi(t,".sv")},b6=function(t,e,n,r){Uf(Nf(t,"value"),e,n)},Uf=function(t,e,n){const r=n instanceof Wt?new RP(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ea(r));if(typeof e=="function")throw new Error(t+"contains a function "+ea(r)+" with contents = "+e.toString());if(tm(e))throw new Error(t+"contains "+e.toString()+" "+ea(r));if(typeof e=="string"&&e.length>Yd/3&&Lf(e)>Yd)throw new Error(t+"contains a string greater than "+Yd+" utf8 bytes "+ea(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Xn(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Cm(o)))throw new Error(t+" contains an invalid key ("+o+") "+ea(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OP(r,o),Uf(t,a,r),DP(r)}),i&&s)throw new Error(t+' contains ".value" child '+ea(r)+" in addition to actual children.")}},_6=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=Yc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Cm(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(TP);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Xr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},y6=function(t,e,n,r){const i=Nf(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Xn(e,(o,a)=>{const l=new Wt(o);if(Uf(i,a,pn(n,l)),om(l)===".priority"&&!v6(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),_6(i,s)},yy=function(t,e,n,r){if(!_y(n))throw new Error(Nf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},w6=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yy(t,e,n)},S6=function(t,e){if(It(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},x6=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Cm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!m6(n))throw new Error(Nf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Pm(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!B_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Zr(t,e,n){Pm(t,n),I6(t,r=>Xr(r,e)||Xr(e,r))}function I6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(E6(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function E6(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Cc&&Yn("event: "+n.toString()),Pl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6="repo_interrupt",P6=25;class N6{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new A6,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nf(),this.transactionQueueTree_=new Im,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L6(t,e,n){if(t.stats_=im(t.repoInfo_),t.forceRestClient_||rP())t.server_=new tf(t.repoInfo_,(r,i,s,o)=>{x2(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>A2(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{jn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new bs(t.repoInfo_,e,(r,i,s,o)=>{x2(t,r,i,s,o)},r=>{A2(t,r)},r=>{T6(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=lP(t.repoInfo_,()=>new aN(t.stats_,t.server_)),t.infoData_=new nN,t.infoSyncTree_=new w2({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=bu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Nm(t,"connected",!1),t.serverSyncTree_=new w2({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Zr(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function k6(t){const n=t.infoData_.getNode(new Wt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function qf(t){return l6({timestamp:k6(t)})}function x2(t,e,n,r,i){t.dataUpdateCount++;const s=new Wt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=zh(n,c=>Fn(c));o=t6(t.serverSyncTree_,s,l,i)}else{const l=Fn(n);o=uy(t.serverSyncTree_,s,l,i)}else if(r){const l=zh(n,c=>Fn(c));o=QN(t.serverSyncTree_,s,l)}else{const l=Fn(n);o=bu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=wl(t,s)),Zr(t.eventQueue_,a,o)}function A2(t,e){Nm(t,"connected",e),e===!1&&F6(t)}function T6(t,e){Xn(e,(n,r)=>{Nm(t,n,r)})}function Nm(t,e,n){const r=new Wt("/.info/"+e),i=Fn(n);t.infoData_.updateSnapshot(r,i);const s=bu(t.infoSyncTree_,r,i);Zr(t.eventQueue_,r,s)}function Lm(t){return t.nextWriteId_++}function R6(t,e,n){const r=r6(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Fn(i).withIndex(e._queryParams.getIndex());n6(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=bu(t.serverSyncTree_,e._path,s);else{const a=eu(t.serverSyncTree_,e);o=uy(t.serverSyncTree_,e._path,s,a)}return Zr(t.eventQueue_,e._path,o),cy(t.serverSyncTree_,e,n,null,!0),s},i=>(yu(t,"get for query "+jn(e)+" failed: "+i),Promise.reject(new Error(i))))}function O6(t,e,n,r,i){yu(t,"set",{path:e.toString(),value:n,priority:r});const s=qf(t),o=Fn(n,r),a=bm(t.serverSyncTree_,e),l=gy(o,a,s),c=Lm(t),u=ly(t.serverSyncTree_,e,l,c,!0);Pm(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(m,p)=>{const _=m==="ok";_||br("set at "+e+" failed: "+m);const y=so(t.serverSyncTree_,c,!_);Zr(t.eventQueue_,e,y),ng(t,i,m,p)});const d=Tm(t,e);wl(t,d),Zr(t.eventQueue_,d,[])}function D6(t,e,n,r){yu(t,"update",{path:e.toString(),value:n});let i=!0;const s=qf(t),o={};if(Xn(n,(a,l)=>{i=!1,o[a]=py(pn(e,a),Fn(l),t.serverSyncTree_,s)}),i)Yn("update() called with empty data.  Don't do anything."),ng(t,r,"ok",void 0);else{const a=Lm(t),l=XN(t.serverSyncTree_,e,o,a);Pm(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{const d=c==="ok";d||br("update at "+e+" failed: "+c);const m=so(t.serverSyncTree_,a,!d),p=m.length>0?wl(t,e):e;Zr(t.eventQueue_,p,m),ng(t,r,c,u)}),Xn(n,c=>{const u=Tm(t,pn(e,c));wl(t,u)}),Zr(t.eventQueue_,e,[])}}function F6(t){yu(t,"onDisconnectEvents");const e=qf(t),n=nf();Yp(t.onDisconnect_,Lt(),(i,s)=>{const o=py(i,s,t.serverSyncTree_,e);G_(n,i,o)});let r=[];Yp(n,Lt(),(i,s)=>{r=r.concat(bu(t.serverSyncTree_,i,s));const o=Tm(t,i);wl(t,o)}),t.onDisconnect_=nf(),Zr(t.eventQueue_,Lt(),r)}function M6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(C6)}function yu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Yn(n,...e)}function ng(t,e,n,r){e&&Pl(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function wy(t,e,n){return bm(t.serverSyncTree_,e,n)||at.EMPTY_NODE}function km(t,e=t.transactionQueueTree_){if(e||zf(t,e),Ll(e)){const n=xy(t,e);Fe(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&j6(t,_u(e),n)}else vy(e)&&Bf(e,n=>{km(t,n)})}function j6(t,e,n){const r=n.map(c=>c.currentWriteId),i=wy(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Fe(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=mr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{yu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let m=0;m<n.length;m++)n[m].status=2,u=u.concat(so(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&d.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();zf(t,Em(t.transactionQueueTree_,e)),km(t,t.transactionQueueTree_),Zr(t.eventQueue_,e,u);for(let m=0;m<d.length;m++)Pl(d[m])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{br("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}wl(t,e)}},o)}function wl(t,e){const n=Sy(t,e),r=_u(n),i=xy(t,n);return B6(t,i,r),r}function B6(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=mr(n,l.path);let u=!1,d;if(Fe(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=P6)u=!0,d="maxretry",i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0));else{const m=wy(t,l.path,o);l.currentInputSnapshot=m;const p=e[a].update(m.val());if(p!==void 0){Uf("transaction failed: Data returned ",p,l.path);let _=Fn(p);typeof p=="object"&&p!=null&&zi(p,".priority")||(_=_.updatePriority(m.getPriority()));const E=l.currentWriteId,w=qf(t),R=gy(_,m,w);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=R,l.currentWriteId=Lm(t),o.splice(o.indexOf(E),1),i=i.concat(ly(t.serverSyncTree_,l.path,R,l.currentWriteId,l.applyLocally)),i=i.concat(so(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(so(t.serverSyncTree_,l.currentWriteId,!0))}Zr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}zf(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Pl(r[a]);km(t,t.transactionQueueTree_)}function Sy(t,e){let n,r=t.transactionQueueTree_;for(n=It(e);n!==null&&Ll(r)===void 0;)r=Em(r,n),e=tn(e),n=It(e);return r}function xy(t,e){const n=[];return Ay(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Ay(t,e,n){const r=Ll(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Bf(e,i=>{Ay(t,i,n)})}function zf(t,e){const n=Ll(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,my(e,n.length>0?n:void 0)}Bf(e,r=>{zf(t,r)})}function Tm(t,e){const n=_u(Sy(t,e)),r=Em(t.transactionQueueTree_,e);return f6(r,i=>{Jd(t,i)}),Jd(t,r),by(r,i=>{Jd(t,i)}),n}function Jd(t,e){const n=Ll(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Fe(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Fe(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(so(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?my(e,void 0):n.length=s+1,Zr(t.eventQueue_,_u(e),i);for(let o=0;o<r.length;o++)Pl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function q6(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):br(`Invalid query segment '${n}' in query '${t}'`)}return e}const I2=function(t,e){const n=z6(t),r=n.namespace;n.domain==="firebase.com"&&ws(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new N_(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Wt(n.pathString)}},z6=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=U6(t.substring(u,d)));const m=q6(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+jn(this.snapshot.exportVal())}}class W6{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Fe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return At(this._path)?null:om(this._path)}get ref(){return new Es(this._repo,this._path)}get _queryIdentifier(){const e=h2(this._queryParams),n=nm(e);return n==="{}"?"default":n}get _queryObject(){return h2(this._queryParams)}isEqual(e){if(e=Ir(e),!(e instanceof Rm))return!1;const n=this._repo===e._repo,r=B_(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+kP(this._path)}}class Es extends Rm{constructor(e,n){super(e,n,new um,!1)}get parent(){const e=j_(this._path);return e===null?null:new Es(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class tu{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Wt(e),r=Di(this.ref,e);return new tu(this._node.getChild(n),r,gn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new tu(i,Di(this.ref,r),gn)))}hasChild(e){const n=new Wt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jn(t,e){return t=Ir(t),t._checkNotDeleted("ref"),e!==void 0?Di(t._root,e):t._root}function Di(t,e){return t=Ir(t),It(t._path)===null?w6("child","path",e):yy("child","path",e),new Es(t._repo,pn(t._path,e))}function $6(t,e){t=Ir(t),S6("set",t._path),b6("set",e,t._path);const n=new cu;return O6(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Iy(t,e){y6("update",e,t._path);const n=new cu;return D6(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Ar(t){t=Ir(t);const e=new V6(()=>{}),n=new Om(e);return R6(t._repo,t,n).then(r=>new tu(r,new Es(t._repo,t._path),t._queryParams.getIndex()))}class Om{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new H6("value",this,new tu(e.snapshotNode,new Es(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new W6(this,e,n):null}matches(e){return e instanceof Om?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}HN(Es);KN(Es);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="FIREBASE_DATABASE_EMULATOR_HOST",rg={};let K6=!1;function Y6(t,e,n,r){t.repoInfo_=new N_(e,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function J6(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=I2(s,i),a=o.repoInfo,l;typeof process<"u"&&G0&&(l=G0[G6]),l?(s=`http://${l}?ns=${a.namespace}`,o=I2(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new sP(t.name,t.options,e);x6("Invalid Firebase Database URL",o),At(o.path)||ws("Database URL must point to the root of a Firebase Database (not including a child path).");const u=Q6(a,t,c,new iP(t,n));return new Z6(u,t)}function X6(t,e){const n=rg[e];(!n||n[t.key]!==t)&&ws(`Database ${e}(${t.repoInfo_}) has already been deleted.`),M6(t),delete n[t.key]}function Q6(t,e,n,r){let i=rg[e.name];i||(i={},rg[e.name]=i);let s=i[t.toURLString()];return s&&ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new N6(t,K6,n,r),i[t.toURLString()]=s,s}class Z6{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(L6(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Es(this._repo,Lt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(X6(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ws("Cannot call "+e+" on a deleted database.")}}function nu(t=kb(),e){const n=Wg(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Zx("database");r&&eL(n,...r)}return n}function eL(t,e,n,r={}){t=Ir(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&la(r,s.repoInfo_.emulatorOptions))return;ws("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ws('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Eh(Eh.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:eA(r.mockUserToken,t.app.options.projectId);o=new Eh(a)}Y6(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t){zC(El),ml(new ca("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return J6(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ho(K0,Y0,t),ho(K0,Y0,"esm2017")}bs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};bs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};tL();const nL={apiKey:"AIzaSyCwtCbMFWS0_sp6T1PA0IrOFjf9jsg1qU0",authDomain:"sde-6cdc0.firebaseapp.com",databaseURL:"https://sde-6cdc0-default-rtdb.firebaseio.com",projectId:"sde-6cdc0",storageBucket:"sde-6cdc0.firebasestorage.app",messagingSenderId:"177303648317",appId:"1:177303648317:web:58fa62e3eeee0c3fc35254",measurementId:"G-6YRY1F372B"},rL=Vg(nL),ia=p_(rL),ro=nu(),iL={class:"center-screen card main-card"},sL={key:0,class:"center-element justify-center card bg-red-200"},oL={key:1,class:"center-element justify-center card bg-green-200"},aL={class:"login-input pt-4"},lL={class:"login-input"},cL={__name:"Login",setup(t){const e=qi(),n=Jt(""),r=Jt(""),i=Jt(""),s=Jt(""),o=async()=>{try{const u=(await PE(ia,n.value,r.value)).user.email,d=nu(),m=Jn(d,"especialista"),p=await Ar(m);if(!p.exists()){await Yh(ia),i.value="No se encontraron especialistas registrados.";return}const _=p.val(),y=Object.values(_).find(E=>E.mail===u);if(console.log(y),console.log("LOL"),!y){await Yh(ia),i.value="El usuario ingresado no est registrado como especialista.";return}e.push({name:"PatientList"})}catch(c){console.error(c),i.value="Correo o contrasea incorrectos"}},a=async()=>{i.value="",s.value="";try{const c=nu(),u=Jn(c,"especialista"),d=await Ar(u);if(!d.exists()){i.value="No se encontr ningn especialista registrado.";return}const m=d.val(),_=Object.values(m)[0].mail;await EE(ia,_),s.value=`Se envi un email a ${l(_)} con las credenciales.`}catch(c){console.error("Error enviando email:",c),i.value="No se pudo enviar el correo de recuperacin."}},l=c=>{const[u,d]=c.split("@");return`${u.length>2?u[0]+"*".repeat(u.length-2)+u[u.length-1]:u[0]+"*"}@${d}`};return(c,u)=>(He(),nt("div",iL,[u[5]||(u[5]=le("h2",null,"Iniciar sesin",-1)),le("div",null,[i.value?(He(),nt("p",sL,_t(i.value),1)):vr("",!0),s.value?(He(),nt("div",oL,_t(s.value),1)):vr("",!0)]),le("form",{onSubmit:sb(o,["prevent"])},[le("div",aL,[u[2]||(u[2]=le("label",null,"Correo",-1)),Oi(le("input",{type:"email","onUpdate:modelValue":u[0]||(u[0]=d=>n.value=d),required:""},null,512),[[io,n.value]])]),le("div",lL,[u[3]||(u[3]=le("label",null,"Contrasea",-1)),Oi(le("input",{type:"password","onUpdate:modelValue":u[1]||(u[1]=d=>r.value=d),placeholder:"",required:""},null,512),[[io,r.value]])]),le("p",{class:"text-blue-800 underline cursor-pointer text-sm",onClick:a}," Olvid mis credenciales "),u[4]||(u[4]=le("div",{class:"center-element"},[le("button",{type:"submit",class:"btn btn-primary"},"Iniciar sesin")],-1))],32)]))}},uL={class:"mb-3 flex flex-col sm:flex-row sm:justify-between sm:items-center border rounded p-4 gap-4 text-black"},hL={__name:"PatientRow",props:["patient"],emits:["info","settings"],setup(t,{emit:e}){const n=e,r=()=>n("info",t.patient),i=()=>n("settings",t.patient);return(s,o)=>(He(),nt("div",uL,[le("span",null,_t(t.patient.name+" "+t.patient.lastName),1),le("div",{class:"flex gap-4 flex-wrap sm:flex-nowrap"},[le("button",{class:"btn btn-secondary",onClick:r},"Historial"),le("button",{class:"btn btn-secondary",onClick:i}," Personalizar niveles ")])]))}},fL={},dL={class:"w-full min-h-screen bg-white"};function pL(t,e){return He(),nt("div",dL,[x3(t.$slots,"default")])}const gL=_b(fL,[["render",pL]]),mL={class:"flex flex-col h-screen w-full"},vL={class:"bg-white shadow z-10 p-4 sticky top-0 w-full"},bL={key:0,class:"text-green-600 font-semibold mb-4 text-center"},_L={class:"flex-1 overflow-y-auto px-4 pb-4 w-full flex justify-center pt-8"},yL={class:"flex flex-col gap-3 w-full max-w-xl"},wL={key:0,class:"text-center text-gray-500"},SL={__name:"PatientList",setup(t){const e=Jt([]),n=Jt(!0),r=qi(),i=()=>{r.push({name:"VirtualEnvironmentMenu"})},s=()=>{r.push({name:"NewPatient"})},o=async()=>{try{await Yh(ia),r.push({name:"Login"})}catch(c){console.error("Error signing out:",c)}},a=c=>{r.push({name:"PatientInfo",query:{id:c.id}})},l=c=>{r.push({name:"LevelSelectionPage",query:{context:"patient",id:c.id,name:c.name+" "+c.lastName}})};return xl(async()=>{const c=ia.currentUser;if(!c){console.warn("No hay usuario logueado"),n.value=!1;return}try{const u=nu(),d=await Ar(Jn(u,"especialista"));if(!d.exists()){console.warn("No hay especialistas en base"),n.value=!1;return}let m=null;if(d.forEach(w=>{w.val().mail===c.email&&(m=w.key)}),!m){console.warn("Especialista no encontrado"),n.value=!1;return}const p=await Ar(Jn(u,`especialista/${m}/pacientes`));if(!p.exists()){e.value=[],n.value=!1;return}const y=Object.keys(p.val()).map(async w=>{const R=await Ar(Jn(u,`pacientes/${w}`));return R.exists()?{id:R.key,...R.val()}:null}),E=await Promise.all(y);e.value=E.filter(w=>w!==null)}catch(u){console.error("Error fetching patients:",u)}finally{n.value=!1}}),(c,u)=>(He(),pi(gL,null,{default:C5(()=>[le("div",mL,[le("div",vL,[le("div",{class:"flex flex-wrap justify-center gap-2 w-full px-4"},[le("button",{class:"btn btn-primary",onClick:i}," Visualizar entorno virtual "),le("button",{class:"btn btn-primary",onClick:s}," Agregar Paciente "),le("button",{class:"btn btn-secondary",onClick:o}," Cerrar sesin ")]),c.message?(He(),nt("p",bL,_t(c.message),1)):vr("",!0)]),le("div",_L,[le("div",yL,[n.value?(He(),nt("p",wL," Cargando pacientes... ")):vr("",!0),(He(!0),nt(ln,null,mo(e.value,d=>(He(),pi(hL,{key:d.id,patient:d,onInfo:a,onSettings:l},null,8,["patient"]))),128))])])])]),_:1}))}},xL={apiKey:"AIzaSyCwtCbMFWS0_sp6T1PA0IrOFjf9jsg1qU0",authDomain:"sde-6cdc0.firebaseapp.com",projectId:"sde-6cdc0",storageBucket:"sde-6cdc0.firebasestorage.app",messagingSenderId:"177303648317",appId:"1:177303648317:web:58fa62e3eeee0c3fc35254",measurementId:"G-6YRY1F372B"},AL=Vg(xL,"SecondaryApp"),E2=p_(AL),IL={class:"center-screen card w-full max-w-md"},EL={class:"login-input"},CL={class:"login-input"},PL={class:"login-input"},NL={class:"login-input"},LL={key:0,class:"mt-4 text-green-600 font-semibold"},kL={__name:"NewPatient",setup(t){const e=Jt(""),n=Jt(""),r=Jt(""),i=Jt(""),s=Jt(""),o=Jt(""),a=qi(),l=async()=>{s.value="",o.value="";try{const u=nu(),m=(await CE(E2,r.value,i.value)).user.uid;console.log("Usuario creado:",m);const p=await Ar(Jn(u,"globalLevelsConfig"));let _={lowLevel:{distractingItems:{},searchItems:{},timeMem:0,timeSearch:0},highLevel:{distractingItems:{},searchItems:{},timeMem:0,timeSearch:0}};p.exists()?_=p.val():console.warn("No existe globalLevelsConfig, se usar estructura vaca."),await $6(Jn(u,`pacientes/${m}`),{name:e.value,lastName:n.value,email:r.value,levelsConfig:_});const y=await Ar(Jn(u,"especialista"));let E=null;y.forEach(w=>{w.val().mail===ia.currentUser.email&&(E=w.key)}),E?await Iy(Jn(u,`especialista/${E}/pacientes`),{[m]:!0}):console.warn("Especialista no encontrado."),await Yh(E2),a.push({path:"/patients",query:{message:`Usuario ${e.value} ${n.value} creado con xito!`}}),e.value="",n.value="",r.value="",i.value=""}catch(u){console.error("Error registrando usuario:",u),o.value=u.message}},c=()=>a.push({name:"PatientList"});return(u,d)=>(He(),nt("div",IL,[d[9]||(d[9]=le("h2",null,"Registrar Usuario",-1)),le("form",{onSubmit:sb(l,["prevent"])},[le("div",EL,[d[4]||(d[4]=le("label",null,"Nombre",-1)),Oi(le("input",{"onUpdate:modelValue":d[0]||(d[0]=m=>e.value=m),type:"text",required:""},null,512),[[io,e.value]])]),le("div",CL,[d[5]||(d[5]=le("label",null,"Apellido",-1)),Oi(le("input",{"onUpdate:modelValue":d[1]||(d[1]=m=>n.value=m),type:"text",required:""},null,512),[[io,n.value]])]),le("div",PL,[d[6]||(d[6]=le("label",null,"Correo electrnico",-1)),Oi(le("input",{"onUpdate:modelValue":d[2]||(d[2]=m=>r.value=m),type:"email",required:""},null,512),[[io,r.value]])]),le("div",NL,[d[7]||(d[7]=le("label",null,"Contrasea",-1)),Oi(le("input",{"onUpdate:modelValue":d[3]||(d[3]=m=>i.value=m),type:"password",required:""},null,512),[[io,i.value]])]),le("div",{class:"btns-bar"},[le("button",{type:"button",class:"btn btn-secondary",onClick:c}," Volver a lista de pacientes "),d[8]||(d[8]=le("button",{type:"submit",class:"btn btn-primary"}," Registrar paciente ",-1))])],32),s.value?(He(),nt("p",LL,_t(s.value),1)):vr("",!0)]))}},TL={class:"border card relative rounded-md"},RL={key:0,class:"absolute inset-0 rounded-md z-10 flex items-center justify-center backdrop-blur-xs"},OL={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},DL=["disabled"],FL=["disabled"],ML={class:"justify-center pt-4"},jL={class:"text-center"},BL={class:"flex justify-center pt-4"},UL=["disabled"],C2={__name:"LevelSettings",props:{level:String,data:Object,disabled:Boolean},setup(t){const e=(r,i={})=>{const s=new Set(Object.values(i||{}));return Object.values(r||{}).filter(o=>!s.has(o)).length},n=r=>{!/[0-9]/.test(r.key)&&!["Backspace","Delete","ArrowLeft","ArrowRight","Tab"].includes(r.key)&&r.preventDefault()};return(r,i)=>(He(),nt("div",TL,[t.disabled?(He(),nt("div",RL)):vr("",!0),le("h3",null,"Nivel "+_t(t.level),1),le("div",OL,[le("div",null,[i[3]||(i[3]=le("label",{class:"block font-medium mb-1"},"Tiempo de Memorizacin (s)",-1)),Oi(le("input",{"onUpdate:modelValue":i[0]||(i[0]=s=>t.data.timeMem=s),type:"number",min:"1",class:"w-full p-2 border rounded",disabled:t.disabled,onKeydown:n},null,40,DL),[[io,t.data.timeMem,void 0,{number:!0}]])]),le("div",null,[i[4]||(i[4]=le("label",{class:"block font-medium mb-1"},"Tiempo de Evaluacin (s)",-1)),Oi(le("input",{"onUpdate:modelValue":i[1]||(i[1]=s=>t.data.timeSearch=s),type:"number",inputmode:"numeric",pattern:"[0-9]*",min:"1",class:"w-full p-2 border rounded",disabled:t.disabled,onKeydown:n},null,40,FL),[[io,t.data.timeSearch,void 0,{number:!0}]])])]),le("div",ML,[le("p",jL,_t(e(t.data.searchItems))+" objetos a memorizar, "+_t(e(t.data.distractingItems,t.data.searchItems))+" objetos distractores ",1),le("div",BL,[le("button",{onClick:i[2]||(i[2]=s=>r.$emit("edit-items")),class:"btn btn-primary",disabled:t.disabled}," Seleccionar objetos ",8,UL)])])]))}},Tt=ba({lowLevel:{distractingItems:{},searchItems:{},timeMem:"0",timeSearch:"0"},highLevel:{distractingItems:{},searchItems:{},timeMem:"0",timeSearch:"0"},initialized:!1}),Yr=ba({}),Dm=()=>({selectionsByLevel:Yr,getSelections:(o,a,l)=>{var c,u;return((u=(c=Yr[o])==null?void 0:c[a])==null?void 0:u[l])||{}},setSelections:(o,a,l,c)=>{Yr[o]||(Yr[o]={}),Yr[o][a]||(Yr[o][a]={}),Yr[o][a][l]={...c}},resetAllSelections:()=>{Object.keys(Yr).forEach(o=>{delete Yr[o]})},getSearchObjects:o=>{var l,c;const a=((c=(l=Yr[o])==null?void 0:l.Hall)==null?void 0:c.search)||{};return Object.values(a)},getDistractingObjects:o=>{const a=Yr[o]||{},l=[];return Object.entries(a).forEach(([c,u])=>{c!=="Hall"&&(u.search&&l.push(...Object.values(u.search)),u.distracting&&l.push(...Object.values(u.distracting)))}),[...new Set(l)]},isHallObjectUsedElsewhere:(o,a)=>{const l=Yr[o];if(!l)return!1;for(const c in l){if(c==="Hall")continue;const u=l[c];if(u!=null&&u.search&&Object.values(u.search).includes(a)||u!=null&&u.distracting&&Object.values(u.distracting).includes(a))return!0}return!1}}),qL={class:"center-screen card w-full"},zL={key:0,class:"mb-4 center-element"},HL={class:"flex items-center gap-2"},WL={class:"flex flex-wrap gap-4"},VL={__name:"LevelSettingsPage",setup(t){const e=_a(),n=qi(),r=Jt(!1),{selectionsByLevel:i,resetAllSelections:s}=Dm(),o=e.query.context||"patient",a=e.query.id||null,l=e.query.name||"",c=e.query.level||null,u=Rt(()=>o==="default"?"Definir configuracin por defecto":`Personalizar paciente: ${l} - ${c==="lowLevel"?"Nivel Bajo":"Nivel Alto"}`),d=()=>{if(!c)return;const R=i[c]||{};Tt[c].searchItems={},Tt[c].distractingItems={};for(const B in R){const T=R[B];T&&(B==="Hall"?T.search&&Object.entries(T.search).forEach(([ee,ve])=>{ve&&(Tt[c].searchItems[ee]=ve)}):(T.search&&Object.entries(T.search).forEach(([ee,ve])=>{ve&&(Tt[c].distractingItems[ee]=ve)}),T.distracting&&Object.entries(T.distracting).forEach(([ee,ve])=>{ve&&(Tt[c].distractingItems[ee]=ve)})))}};Sc(()=>i[c],()=>{d()},{deep:!0,immediate:!0});const m={distractingItems:{},searchItems:{},timeMem:0,timeSearch:0};async function p(){const R=await Ar(Di(Jn(ro),"globalLevelsConfig"));if(R.exists()){const B=R.val();Tt.lowLevel=B.lowLevel||{...m},Tt.highLevel=B.highLevel||{...m}}else Tt.lowLevel={...m},Tt.highLevel={...m}}xl(async()=>{try{if(!Tt.initialized){let R="";o==="default"?R="globalLevelsConfig":R=`pacientes/${a}`;const B=await Ar(Di(Jn(ro),R));if(B.exists()){const T=B.val();if(r.value=T.usesDefault??!1,r.value&&o!=="default")await p();else{const ee=T.levelsConfig||{};Tt.lowLevel=ee.lowLevel||{...m},Tt.highLevel=ee.highLevel||{...m}}}else Tt.lowLevel={...m},Tt.highLevel={...m};Tt.initialized=!0}}catch(R){console.error("Error cargando configuracin:",R)}});const _=()=>{for(const R of["lowLevel","highLevel"]){const B=i[R]||{};Tt[R].searchItems={},Tt[R].distractingItems={};for(const T in B){const ee=B[T];ee&&(T==="Hall"?ee.search&&Object.entries(ee.search).forEach(([ve,fe])=>{fe&&(Tt[R].searchItems[ve]=fe)}):(ee.search&&Object.entries(ee.search).forEach(([ve,fe])=>{fe&&(Tt[R].distractingItems[ve]=fe)}),ee.distracting&&Object.entries(ee.distracting).forEach(([ve,fe])=>{fe&&(Tt[R].distractingItems[ve]=fe)})))}}},y=async()=>{try{let R="";o==="default"?R="globalLevelsConfig":R=`pacientes/${a}`;const B=await Ar(Di(Jn(ro),`${R}/levelsConfig`));let T=B.exists()?B.val():{lowLevel:{...m},highLevel:{...m}},ee=c;if(r.value&&o!=="default"){const ve=await Ar(Di(Jn(ro),"globalLevelsConfig"));if(ve.exists()){const fe=ve.val();T[ee]=fe[ee]||{...m}}else T[ee]={...m}}else _(),T[ee]=Tt[ee];await Iy(Jn(ro,R),{levelsConfig:T,usesDefault:r.value}),s(),Tt.lowLevel={distractingItems:{},searchItems:{},timeMem:"0",timeSearch:"0"},Tt.highLevel={distractingItems:{},searchItems:{},timeMem:"0",timeSearch:"0"},Tt.initialized=!1,r.value=!1,n.push({name:"LevelSelectionPage",query:{id:a,name:l,message:"Configuracin guardada correctamente."}})}catch(R){console.error("Error al guardar:",R)}},E=()=>{s(),Tt.lowLevel={distractingItems:{},searchItems:{},timeMem:0,timeSearch:0},Tt.highLevel={distractingItems:{},searchItems:{},timeMem:0,timeSearch:0},Tt.initialized=!1,n.push({name:"LevelSelectionPage",query:{id:a,name:l}})},w=R=>{n.push({path:"/select-items",query:{level:R,context:o,id:a,searchItems:encodeURIComponent(JSON.stringify(Tt[R].searchItems)),distractingItems:encodeURIComponent(JSON.stringify(Tt[R].distractingItems))}})};return(R,B)=>(He(),nt("div",qL,[le("h2",null,_t(u.value),1),Pn(o)!=="default"?(He(),nt("div",zL,[le("label",HL,[Oi(le("input",{type:"checkbox","onUpdate:modelValue":B[0]||(B[0]=T=>r.value=T)},null,512),[[k4,r.value]]),B[3]||(B[3]=Kn(" Usar configuracin por defecto "))])])):vr("",!0),le("div",WL,[Pn(c)==="lowLevel"?(He(),pi(C2,{key:0,class:"flex-1 min-w-[250px]",level:"Bajo",data:Pn(Tt).lowLevel,disabled:Pn(o)!=="default"&&r.value,onEditItems:B[1]||(B[1]=T=>w("lowLevel"))},null,8,["data","disabled"])):Pn(c)==="highLevel"?(He(),pi(C2,{key:1,class:"flex-1 min-w-[250px]",level:"Alto",data:Pn(Tt).highLevel,disabled:Pn(o)!=="default"&&r.value,onEditItems:B[2]||(B[2]=T=>w("highLevel"))},null,8,["data","disabled"])):vr("",!0)]),le("div",{class:"btns-bar pt-4"},[le("button",{class:"btn btn-secondary",onClick:E}," Salir sin guardar "),le("button",{class:"btn btn-success",onClick:y},"Guardar")])]))}},$L={class:"center-screen card w-full flex flex-col items-center"},GL={class:"flex flex-col gap-4 items-center"},KL={__name:"LevelSelectionPage",setup(t){const e=qi(),n=_a(),r=n.query.id||null,i=n.query.name||"",s=a=>{e.push({name:"LevelSettingsPage",query:{id:r,name:i,context:"patient",level:a}})},o=()=>{e.push({name:"PatientList"})};return(a,l)=>(He(),nt("div",$L,[le("h2",null,"Personalizar - Paciente: "+_t(Pn(i)),1),le("div",GL,[le("button",{class:"btn btn-primary w-60 mx-auto",onClick:l[0]||(l[0]=c=>s("lowLevel"))}," Configurar Nivel Bajo "),le("button",{class:"btn btn-primary w-60 mx-auto",onClick:l[1]||(l[1]=c=>s("highLevel"))}," Configurar Nivel Alto "),le("button",{class:"btn btn-secondary w-48 mx-auto",onClick:o}," Volver ")])]))}},YL="modulepreload",JL=function(t){return"/evaluacion-cognitiva-web/"+t},P2={},Xd=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(n.map(c=>{if(c=JL(c),c in P2)return;P2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":YL,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((p,_)=>{m.addEventListener("load",p),m.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function zt(t){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}var _i=Uint8Array,Br=Uint16Array,Fm=Int32Array,Mm=new _i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jm=new _i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N2=new _i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ey=function(t,e){for(var n=new Br(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Fm(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Cy=Ey(Mm,2),XL=Cy.b,ig=Cy.r;XL[28]=258,ig[258]=28;var QL=Ey(jm,0),L2=QL.r,sg=new Br(32768);for(var sn=0;sn<32768;++sn){var $s=(sn&43690)>>1|(sn&21845)<<1;$s=($s&52428)>>2|($s&13107)<<2,$s=($s&61680)>>4|($s&3855)<<4,sg[sn]=(($s&65280)>>8|($s&255)<<8)>>1}var Tc=function(t,e,n){for(var r=t.length,i=0,s=new Br(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Br(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Br(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,m=d|(1<<u)-1;d<=m;++d)a[sg[d]>>l]=c}else for(a=new Br(r),i=0;i<r;++i)t[i]&&(a[i]=sg[o[t[i]-1]++]>>15-t[i]);return a},ga=new _i(288);for(var sn=0;sn<144;++sn)ga[sn]=8;for(var sn=144;sn<256;++sn)ga[sn]=9;for(var sn=256;sn<280;++sn)ga[sn]=7;for(var sn=280;sn<288;++sn)ga[sn]=8;var hf=new _i(32);for(var sn=0;sn<32;++sn)hf[sn]=5;var ZL=Tc(ga,9,0),ek=Tc(hf,5,0),Py=function(t){return(t+7)/8|0},tk=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new _i(t.subarray(e,n))},os=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},dc=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Qd=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Ly,l:0};if(i==1){var o=new _i(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(ee,ve){return ee.f-ve.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Br(m+1),_=og(n[u-1],p,0);if(_>e){var r=0,y=0,E=_-e,w=1<<E;for(s.sort(function(ve,fe){return p[fe.s]-p[ve.s]||ve.f-fe.f});r<i;++r){var R=s[r].s;if(p[R]>e)y+=w-(1<<_-p[R]),p[R]=e;else break}for(y>>=E;y>0;){var B=s[r].s;p[B]<e?y-=1<<e-p[B]++-1:++r}for(;r>=0&&y;--r){var T=s[r].s;p[T]==e&&(--p[T],++y)}_=e}return{t:new _i(p),l:_}},og=function(t,e,n){return t.s==-1?Math.max(og(t.l,e,n+1),og(t.r,e,n+1)):e[t.s]=n},k2=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Br(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},pc=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Ny=function(t,e,n){var r=n.length,i=Py(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},T2=function(t,e,n,r,i,s,o,a,l,c,u){os(e,u++,n),++i[256];for(var d=Qd(i,15),m=d.t,p=d.l,_=Qd(s,15),y=_.t,E=_.l,w=k2(m),R=w.c,B=w.n,T=k2(y),ee=T.c,ve=T.n,fe=new Br(19),ne=0;ne<R.length;++ne)++fe[R[ne]&31];for(var ne=0;ne<ee.length;++ne)++fe[ee[ne]&31];for(var V=Qd(fe,7),se=V.t,N=V.l,U=19;U>4&&!se[N2[U-1]];--U);var K=c+5<<3,G=pc(i,ga)+pc(s,hf)+o,pe=pc(i,m)+pc(s,y)+o+14+3*U+pc(fe,se)+2*fe[16]+3*fe[17]+7*fe[18];if(l>=0&&K<=G&&K<=pe)return Ny(e,u,t.subarray(l,l+c));var be,he,te,we;if(os(e,u,1+(pe<G)),u+=2,pe<G){be=Tc(m,p,0),he=m,te=Tc(y,E,0),we=y;var Te=Tc(se,N,0);os(e,u,B-257),os(e,u+5,ve-1),os(e,u+10,U-4),u+=14;for(var ne=0;ne<U;++ne)os(e,u+3*ne,se[N2[ne]]);u+=3*U;for(var Ne=[R,ee],I=0;I<2;++I)for(var k=Ne[I],ne=0;ne<k.length;++ne){var F=k[ne]&31;os(e,u,Te[F]),u+=se[F],F>15&&(os(e,u,k[ne]>>5&127),u+=k[ne]>>12)}}else be=ZL,he=ga,te=ek,we=hf;for(var ne=0;ne<a;++ne){var $=r[ne];if($>255){var F=$>>18&31;dc(e,u,be[F+257]),u+=he[F+257],F>7&&(os(e,u,$>>23&31),u+=Mm[F]);var X=$&31;dc(e,u,te[X]),u+=we[X],X>3&&(dc(e,u,$>>5&8191),u+=jm[X])}else dc(e,u,be[$]),u+=he[$]}return dc(e,u,be[256]),u+he[256]},nk=new Fm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ly=new _i(0),rk=function(t,e,n,r,i,s){var o=s.z||t.length,a=new _i(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var d=nk[e-1],m=d>>13,p=d&8191,_=(1<<n)-1,y=s.p||new Br(32768),E=s.h||new Br(_+1),w=Math.ceil(n/3),R=2*w,B=function(j){return(t[j]^t[j+1]<<w^t[j+2]<<R)&_},T=new Fm(25e3),ee=new Br(288),ve=new Br(32),fe=0,ne=0,V=s.i||0,se=0,N=s.w||0,U=0;V+2<o;++V){var K=B(V),G=V&32767,pe=E[K];if(y[G]=pe,E[K]=G,N<=V){var be=o-V;if((fe>7e3||se>24576)&&(be>423||!c)){u=T2(t,l,0,T,ee,ve,ne,se,U,V-U,u),se=fe=ne=0,U=V;for(var he=0;he<286;++he)ee[he]=0;for(var he=0;he<30;++he)ve[he]=0}var te=2,we=0,Te=p,Ne=G-pe&32767;if(be>2&&K==B(V-Ne))for(var I=Math.min(m,be)-1,k=Math.min(32767,V),F=Math.min(258,be);Ne<=k&&--Te&&G!=pe;){if(t[V+te]==t[V+te-Ne]){for(var $=0;$<F&&t[V+$]==t[V+$-Ne];++$);if($>te){if(te=$,we=Ne,$>I)break;for(var X=Math.min(Ne,$-2),q=0,he=0;he<X;++he){var Z=V-Ne+he&32767,J=y[Z],oe=Z-J&32767;oe>q&&(q=oe,pe=Z)}}}G=pe,pe=y[G],Ne+=G-pe&32767}if(we){T[se++]=268435456|ig[te]<<18|L2[we];var Ee=ig[te]&31,O=L2[we]&31;ne+=Mm[Ee]+jm[O],++ee[257+Ee],++ve[O],N=V+te,++fe}else T[se++]=t[V],++ee[t[V]]}}for(V=Math.max(V,N);V<o;++V)T[se++]=t[V],++ee[t[V]];u=T2(t,l,c,T,ee,ve,ne,se,U,V-U,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=E,s.p=y,s.i=V,s.w=N)}else{for(var V=s.w||0;V<o+c;V+=65535){var M=V+65535;M>=o&&(l[u/8|0]=c,M=o),u=Ny(l,u+1,t.subarray(V,M))}s.i=o}return tk(a,0,r+Py(u)+i)},ky=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},ik=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new _i(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return rk(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Ty=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},sk=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=ky();i.p(e.dictionary),Ty(t,2,i.d())}};function ag(t,e){e||(e={});var n=ky();n.p(t);var r=ik(t,e,e.dictionary?6:2,4);return sk(r,e),Ty(r,r.length-4,n.d()),r}var ok=typeof TextDecoder<"u"&&new TextDecoder,ak=0;try{ok.decode(Ly,{stream:!0}),ak=1}catch{}function lk(t){if(Array.isArray(t))return t}function ck(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function R2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function uk(t,e){if(t){if(typeof t=="string")return R2(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R2(t,e):void 0}}function hk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O2(t,e){return lk(t)||ck(t,e)||uk(t,e)||hk()}function D2(t,e="utf8"){return new TextDecoder(e).decode(t)}const fk=new TextEncoder;function dk(t){return fk.encode(t)}const pk=1024*8,gk=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Zd={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Bm{constructor(e=pk,n={}){qt(this,"buffer");qt(this,"byteLength");qt(this,"byteOffset");qt(this,"length");qt(this,"offset");qt(this,"lastWrittenByte");qt(this,"littleEndian");qt(this,"_data");qt(this,"_mark");qt(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,s=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof Bm)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=Zd[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===gk&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new Zd[n](a.buffer);return this.offset+=r,l.reverse(),l}const o=new Zd[n](s);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return D2(this.readBytes(e))}decodeText(e=1,n="utf8"){return D2(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(dk(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function kl(t){let e=t.length;for(;--e>=0;)t[e]=0}const mk=3,vk=258,Ry=29,bk=256,_k=bk+1+Ry,Oy=30,yk=512,wk=new Array((_k+2)*2);kl(wk);const Sk=new Array(Oy*2);kl(Sk);const xk=new Array(yk);kl(xk);const Ak=new Array(vk-mk+1);kl(Ak);const Ik=new Array(Ry);kl(Ik);const Ek=new Array(Oy);kl(Ek);const Ck=(t,e,n,r)=>{let i=t&65535|0,s=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var lg=Ck;const Pk=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Nk=new Uint32Array(Pk()),Lk=(t,e,n,r)=>{const i=Nk,s=r+n;t^=-1;for(let o=r;o<s;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Li=Lk,cg={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Dy={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const kk=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Tk=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)kk(n,r)&&(t[r]=n[r])}}return t},Rk=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,s=t.length;r<s;r++){let o=t[r];n.set(o,i),i+=o.length}return n},Fy={assign:Tk,flattenChunks:Rk};let My=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{My=!1}const ru=new Uint8Array(256);for(let t=0;t<256;t++)ru[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ru[254]=ru[254]=1;var Ok=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,s,o=t.length,a=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|n&63):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|n&63):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|n&63);return e};const Dk=(t,e)=>{if(e<65534&&t.subarray&&My)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Fk=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){s[i++]=o;continue}let a=ru[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<n;)o=o<<6|t[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return Dk(s,i)},Mk=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+ru[t[n]]>e?n:e},ug={string2buf:Ok,buf2string:Fk,utf8border:Mk};function jk(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Bk=jk;const ch=16209,Uk=16191;var qk=function(e,n){let r,i,s,o,a,l,c,u,d,m,p,_,y,E,w,R,B,T,ee,ve,fe,ne,V,se;const N=e.state;r=e.next_in,V=e.input,i=r+(e.avail_in-5),s=e.next_out,se=e.output,o=s-(n-e.avail_out),a=s+(e.avail_out-257),l=N.dmax,c=N.wsize,u=N.whave,d=N.wnext,m=N.window,p=N.hold,_=N.bits,y=N.lencode,E=N.distcode,w=(1<<N.lenbits)-1,R=(1<<N.distbits)-1;e:do{_<15&&(p+=V[r++]<<_,_+=8,p+=V[r++]<<_,_+=8),B=y[p&w];t:for(;;){if(T=B>>>24,p>>>=T,_-=T,T=B>>>16&255,T===0)se[s++]=B&65535;else if(T&16){ee=B&65535,T&=15,T&&(_<T&&(p+=V[r++]<<_,_+=8),ee+=p&(1<<T)-1,p>>>=T,_-=T),_<15&&(p+=V[r++]<<_,_+=8,p+=V[r++]<<_,_+=8),B=E[p&R];n:for(;;){if(T=B>>>24,p>>>=T,_-=T,T=B>>>16&255,T&16){if(ve=B&65535,T&=15,_<T&&(p+=V[r++]<<_,_+=8,_<T&&(p+=V[r++]<<_,_+=8)),ve+=p&(1<<T)-1,ve>l){e.msg="invalid distance too far back",N.mode=ch;break e}if(p>>>=T,_-=T,T=s-o,ve>T){if(T=ve-T,T>u&&N.sane){e.msg="invalid distance too far back",N.mode=ch;break e}if(fe=0,ne=m,d===0){if(fe+=c-T,T<ee){ee-=T;do se[s++]=m[fe++];while(--T);fe=s-ve,ne=se}}else if(d<T){if(fe+=c+d-T,T-=d,T<ee){ee-=T;do se[s++]=m[fe++];while(--T);if(fe=0,d<ee){T=d,ee-=T;do se[s++]=m[fe++];while(--T);fe=s-ve,ne=se}}}else if(fe+=d-T,T<ee){ee-=T;do se[s++]=m[fe++];while(--T);fe=s-ve,ne=se}for(;ee>2;)se[s++]=ne[fe++],se[s++]=ne[fe++],se[s++]=ne[fe++],ee-=3;ee&&(se[s++]=ne[fe++],ee>1&&(se[s++]=ne[fe++]))}else{fe=s-ve;do se[s++]=se[fe++],se[s++]=se[fe++],se[s++]=se[fe++],ee-=3;while(ee>2);ee&&(se[s++]=se[fe++],ee>1&&(se[s++]=se[fe++]))}}else if((T&64)===0){B=E[(B&65535)+(p&(1<<T)-1)];continue n}else{e.msg="invalid distance code",N.mode=ch;break e}break}}else if((T&64)===0){B=y[(B&65535)+(p&(1<<T)-1)];continue t}else if(T&32){N.mode=Uk;break e}else{e.msg="invalid literal/length code",N.mode=ch;break e}break}}while(r<i&&s<a);ee=_>>3,r-=ee,_-=ee<<3,p&=(1<<_)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),N.hold=p,N.bits=_};const Ba=15,F2=852,M2=592,j2=0,ep=1,B2=2,zk=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Hk=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Wk=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Vk=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),$k=(t,e,n,r,i,s,o,a)=>{const l=a.bits;let c=0,u=0,d=0,m=0,p=0,_=0,y=0,E=0,w=0,R=0,B,T,ee,ve,fe,ne=null,V;const se=new Uint16Array(Ba+1),N=new Uint16Array(Ba+1);let U=null,K,G,pe;for(c=0;c<=Ba;c++)se[c]=0;for(u=0;u<r;u++)se[e[n+u]]++;for(p=l,m=Ba;m>=1&&se[m]===0;m--);if(p>m&&(p=m),m===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<m&&se[d]===0;d++);for(p<d&&(p=d),E=1,c=1;c<=Ba;c++)if(E<<=1,E-=se[c],E<0)return-1;if(E>0&&(t===j2||m!==1))return-1;for(N[1]=0,c=1;c<Ba;c++)N[c+1]=N[c]+se[c];for(u=0;u<r;u++)e[n+u]!==0&&(o[N[e[n+u]]++]=u);if(t===j2?(ne=U=o,V=20):t===ep?(ne=zk,U=Hk,V=257):(ne=Wk,U=Vk,V=0),R=0,u=0,c=d,fe=s,_=p,y=0,ee=-1,w=1<<p,ve=w-1,t===ep&&w>F2||t===B2&&w>M2)return 1;for(;;){K=c-y,o[u]+1<V?(G=0,pe=o[u]):o[u]>=V?(G=U[o[u]-V],pe=ne[o[u]-V]):(G=96,pe=0),B=1<<c-y,T=1<<_,d=T;do T-=B,i[fe+(R>>y)+T]=K<<24|G<<16|pe|0;while(T!==0);for(B=1<<c-1;R&B;)B>>=1;if(B!==0?(R&=B-1,R+=B):R=0,u++,--se[c]===0){if(c===m)break;c=e[n+o[u]]}if(c>p&&(R&ve)!==ee){for(y===0&&(y=p),fe+=d,_=c-y,E=1<<_;_+y<m&&(E-=se[_+y],!(E<=0));)_++,E<<=1;if(w+=1<<_,t===ep&&w>F2||t===B2&&w>M2)return 1;ee=R&ve,i[ee]=p<<24|_<<16|fe-s|0}}return R!==0&&(i[fe+R]=c-y<<24|64<<16|0),a.bits=p,0};var Rc=$k;const Gk=0,jy=1,By=2,{Z_FINISH:U2,Z_BLOCK:Kk,Z_TREES:uh,Z_OK:ma,Z_STREAM_END:Yk,Z_NEED_DICT:Jk,Z_STREAM_ERROR:ei,Z_DATA_ERROR:Uy,Z_MEM_ERROR:qy,Z_BUF_ERROR:Xk,Z_DEFLATED:q2}=Dy,Hf=16180,z2=16181,H2=16182,W2=16183,V2=16184,$2=16185,G2=16186,K2=16187,Y2=16188,J2=16189,ff=16190,as=16191,tp=16192,X2=16193,np=16194,Q2=16195,Z2=16196,ev=16197,tv=16198,hh=16199,fh=16200,nv=16201,rv=16202,iv=16203,sv=16204,ov=16205,rp=16206,av=16207,lv=16208,on=16209,zy=16210,Hy=16211,Qk=852,Zk=592,eT=15,tT=eT,cv=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function nT(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Sa=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Hf||e.mode>Hy?1:0},Wy=t=>{if(Sa(t))return ei;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Hf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Qk),e.distcode=e.distdyn=new Int32Array(Zk),e.sane=1,e.back=-1,ma},Vy=t=>{if(Sa(t))return ei;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Wy(t)},$y=(t,e)=>{let n;if(Sa(t))return ei;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ei:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,Vy(t))},Gy=(t,e)=>{if(!t)return ei;const n=new nT;t.state=n,n.strm=t,n.window=null,n.mode=Hf;const r=$y(t,e);return r!==ma&&(t.state=null),r},rT=t=>Gy(t,tT);let uv=!0,ip,sp;const iT=t=>{if(uv){ip=new Int32Array(512),sp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Rc(jy,t.lens,0,288,ip,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Rc(By,t.lens,0,32,sp,0,t.work,{bits:5}),uv=!1}t.lencode=ip,t.lenbits=9,t.distcode=sp,t.distbits=5},Ky=(t,e,n,r)=>{let i;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},sT=(t,e)=>{let n,r,i,s,o,a,l,c,u,d,m,p,_,y,E=0,w,R,B,T,ee,ve,fe,ne;const V=new Uint8Array(4);let se,N;const U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Sa(t)||!t.output||!t.input&&t.avail_in!==0)return ei;n=t.state,n.mode===as&&(n.mode=tp),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,d=a,m=l,ne=ma;e:for(;;)switch(n.mode){case Hf:if(n.wrap===0){n.mode=tp;break}for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,V[0]=c&255,V[1]=c>>>8&255,n.check=Li(n.check,V,2,0),c=0,u=0,n.mode=z2;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",n.mode=on;break}if((c&15)!==q2){t.msg="unknown compression method",n.mode=on;break}if(c>>>=4,u-=4,fe=(c&15)+8,n.wbits===0&&(n.wbits=fe),fe>15||fe>n.wbits){t.msg="invalid window size",n.mode=on;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=c&512?J2:as,c=0,u=0;break;case z2:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==q2){t.msg="unknown compression method",n.mode=on;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=on;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,n.check=Li(n.check,V,2,0)),c=0,u=0,n.mode=H2;case H2:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,V[2]=c>>>16&255,V[3]=c>>>24&255,n.check=Li(n.check,V,4,0)),c=0,u=0,n.mode=W2;case W2:for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,n.check=Li(n.check,V,2,0)),c=0,u=0,n.mode=V2;case V2:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(V[0]=c&255,V[1]=c>>>8&255,n.check=Li(n.check,V,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=$2;case $2:if(n.flags&1024&&(p=n.length,p>a&&(p=a),p&&(n.head&&(fe=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+p),fe)),n.flags&512&&n.wrap&4&&(n.check=Li(n.check,r,p,s)),a-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=G2;case G2:if(n.flags&2048){if(a===0)break e;p=0;do fe=r[s+p++],n.head&&fe&&n.length<65536&&(n.head.name+=String.fromCharCode(fe));while(fe&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Li(n.check,r,p,s)),a-=p,s+=p,fe)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=K2;case K2:if(n.flags&4096){if(a===0)break e;p=0;do fe=r[s+p++],n.head&&fe&&n.length<65536&&(n.head.comment+=String.fromCharCode(fe));while(fe&&p<a);if(n.flags&512&&n.wrap&4&&(n.check=Li(n.check,r,p,s)),a-=p,s+=p,fe)break e}else n.head&&(n.head.comment=null);n.mode=Y2;case Y2:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){t.msg="header crc mismatch",n.mode=on;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=as;break;case J2:for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}t.adler=n.check=cv(c),c=0,u=0,n.mode=ff;case ff:if(n.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,Jk;t.adler=n.check=1,n.mode=as;case as:if(e===Kk||e===uh)break e;case tp:if(n.last){c>>>=u&7,u-=u&7,n.mode=rp;break}for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=X2;break;case 1:if(iT(n),n.mode=hh,e===uh){c>>>=2,u-=2;break e}break;case 2:n.mode=Z2;break;case 3:t.msg="invalid block type",n.mode=on}c>>>=2,u-=2;break;case X2:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=on;break}if(n.length=c&65535,c=0,u=0,n.mode=np,e===uh)break e;case np:n.mode=Q2;case Q2:if(p=n.length,p){if(p>a&&(p=a),p>l&&(p=l),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,l-=p,o+=p,n.length-=p;break}n.mode=as;break;case Z2:for(;u<14;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=on;break}n.have=0,n.mode=ev;case ev:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.lens[U[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[U[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,se={bits:n.lenbits},ne=Rc(Gk,n.lens,0,19,n.lencode,0,n.work,se),n.lenbits=se.bits,ne){t.msg="invalid code lengths set",n.mode=on;break}n.have=0,n.mode=tv;case tv:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],w=E>>>24,R=E>>>16&255,B=E&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(B<16)c>>>=w,u-=w,n.lens[n.have++]=B;else{if(B===16){for(N=w+2;u<N;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(c>>>=w,u-=w,n.have===0){t.msg="invalid bit length repeat",n.mode=on;break}fe=n.lens[n.have-1],p=3+(c&3),c>>>=2,u-=2}else if(B===17){for(N=w+3;u<N;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,fe=0,p=3+(c&7),c>>>=3,u-=3}else{for(N=w+7;u<N;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=w,u-=w,fe=0,p=11+(c&127),c>>>=7,u-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=on;break}for(;p--;)n.lens[n.have++]=fe}}if(n.mode===on)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=on;break}if(n.lenbits=9,se={bits:n.lenbits},ne=Rc(jy,n.lens,0,n.nlen,n.lencode,0,n.work,se),n.lenbits=se.bits,ne){t.msg="invalid literal/lengths set",n.mode=on;break}if(n.distbits=6,n.distcode=n.distdyn,se={bits:n.distbits},ne=Rc(By,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,se),n.distbits=se.bits,ne){t.msg="invalid distances set",n.mode=on;break}if(n.mode=hh,e===uh)break e;case hh:n.mode=fh;case fh:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,qk(t,m),o=t.next_out,i=t.output,l=t.avail_out,s=t.next_in,r=t.input,a=t.avail_in,c=n.hold,u=n.bits,n.mode===as&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],w=E>>>24,R=E>>>16&255,B=E&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(R&&(R&240)===0){for(T=w,ee=R,ve=B;E=n.lencode[ve+((c&(1<<T+ee)-1)>>T)],w=E>>>24,R=E>>>16&255,B=E&65535,!(T+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=T,u-=T,n.back+=T}if(c>>>=w,u-=w,n.back+=w,n.length=B,R===0){n.mode=ov;break}if(R&32){n.back=-1,n.mode=as;break}if(R&64){t.msg="invalid literal/length code",n.mode=on;break}n.extra=R&15,n.mode=nv;case nv:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=rv;case rv:for(;E=n.distcode[c&(1<<n.distbits)-1],w=E>>>24,R=E>>>16&255,B=E&65535,!(w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if((R&240)===0){for(T=w,ee=R,ve=B;E=n.distcode[ve+((c&(1<<T+ee)-1)>>T)],w=E>>>24,R=E>>>16&255,B=E&65535,!(T+w<=u);){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}c>>>=T,u-=T,n.back+=T}if(c>>>=w,u-=w,n.back+=w,R&64){t.msg="invalid distance code",n.mode=on;break}n.offset=B,n.extra=R&15,n.mode=iv;case iv:if(n.extra){for(N=n.extra;u<N;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=on;break}n.mode=sv;case sv:if(l===0)break e;if(p=m-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=on;break}p>n.wnext?(p-=n.wnext,_=n.wsize-p):_=n.wnext-p,p>n.length&&(p=n.length),y=n.window}else y=i,_=o-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do i[o++]=y[_++];while(--p);n.length===0&&(n.mode=fh);break;case ov:if(l===0)break e;i[o++]=n.length,l--,n.mode=fh;break;case rp:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[s++]<<u,u+=8}if(m-=l,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Li(n.check,i,m,o-m):lg(n.check,i,m,o-m)),m=l,n.wrap&4&&(n.flags?c:cv(c))!==n.check){t.msg="incorrect data check",n.mode=on;break}c=0,u=0}n.mode=av;case av:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=on;break}c=0,u=0}n.mode=lv;case lv:ne=Yk;break e;case on:ne=Uy;break e;case zy:return qy;case Hy:default:return ei}return t.next_out=o,t.avail_out=l,t.next_in=s,t.avail_in=a,n.hold=c,n.bits=u,(n.wsize||m!==t.avail_out&&n.mode<on&&(n.mode<rp||e!==U2))&&Ky(t,t.output,t.next_out,m-t.avail_out),d-=t.avail_in,m-=t.avail_out,t.total_in+=d,t.total_out+=m,n.total+=m,n.wrap&4&&m&&(t.adler=n.check=n.flags?Li(n.check,i,m,t.next_out-m):lg(n.check,i,m,t.next_out-m)),t.data_type=n.bits+(n.last?64:0)+(n.mode===as?128:0)+(n.mode===hh||n.mode===np?256:0),(d===0&&m===0||e===U2)&&ne===ma&&(ne=Xk),ne},oT=t=>{if(Sa(t))return ei;let e=t.state;return e.window&&(e.window=null),t.state=null,ma},aT=(t,e)=>{if(Sa(t))return ei;const n=t.state;return(n.wrap&2)===0?ei:(n.head=e,e.done=!1,ma)},lT=(t,e)=>{const n=e.length;let r,i,s;return Sa(t)||(r=t.state,r.wrap!==0&&r.mode!==ff)?ei:r.mode===ff&&(i=1,i=lg(i,e,n,0),i!==r.check)?Uy:(s=Ky(t,e,n,n),s?(r.mode=zy,qy):(r.havedict=1,ma))};var cT=Vy,uT=$y,hT=Wy,fT=rT,dT=Gy,pT=sT,gT=oT,mT=aT,vT=lT,bT="pako inflate (from Nodeca project)",cs={inflateReset:cT,inflateReset2:uT,inflateResetKeep:hT,inflateInit:fT,inflateInit2:dT,inflate:pT,inflateEnd:gT,inflateGetHeader:mT,inflateSetDictionary:vT,inflateInfo:bT};function _T(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yT=_T;const Yy=Object.prototype.toString,{Z_NO_FLUSH:wT,Z_FINISH:ST,Z_OK:iu,Z_STREAM_END:op,Z_NEED_DICT:ap,Z_STREAM_ERROR:xT,Z_DATA_ERROR:hv,Z_MEM_ERROR:AT}=Dy;function wu(t){this.options=Fy.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bk,this.strm.avail_out=0;let n=cs.inflateInit2(this.strm,e.windowBits);if(n!==iu)throw new Error(cg[n]);if(this.header=new yT,cs.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ug.string2buf(e.dictionary):Yy.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=cs.inflateSetDictionary(this.strm,e.dictionary),n!==iu)))throw new Error(cg[n])}wu.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?ST:wT,Yy.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=cs.inflate(n,o),s===ap&&i&&(s=cs.inflateSetDictionary(n,i),s===iu?s=cs.inflate(n,o):s===hv&&(s=ap));n.avail_in>0&&s===op&&n.state.wrap>0&&t[n.next_in]!==0;)cs.inflateReset(n),s=cs.inflate(n,o);switch(s){case xT:case hv:case ap:case AT:return this.onEnd(s),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||s===op))if(this.options.to==="string"){let l=ug.utf8border(n.output,n.next_out),c=n.next_out-l,u=ug.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===iu&&a===0)){if(s===op)return s=cs.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};wu.prototype.onData=function(t){this.chunks.push(t)};wu.prototype.onEnd=function(t){t===iu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Fy.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function IT(t,e){const n=new wu(e);if(n.push(t),n.err)throw n.msg||cg[n.err];return n.result}var ET=wu,CT=IT,PT={Inflate:ET,inflate:CT};const{Inflate:NT,inflate:LT}=PT;var fv=NT,kT=LT;const Jy=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Jy[t]=e}const dv=4294967295;function TT(t,e,n){let r=t;for(let i=0;i<n;i++)r=Jy[(r^e[i])&255]^r>>>8;return r}function RT(t,e){return(TT(dv,t,e)^dv)>>>0}function pv(t,e,n){const r=t.readUint32(),i=RT(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Xy(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function Qy(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function Zy(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function ew(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=t[s]+(n[s]>>1)&255;for(;s<r;s++)e[s]=t[s]+(e[s-i]+n[s]>>1)&255}}function tw(t,e,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=t[s]+n[s]&255;for(;s<r;s++)e[s]=t[s]+OT(e[s-i],n[s],n[s-i])&255}}function OT(t,e,n){const r=t+e-n,i=Math.abs(r-t),s=Math.abs(r-e),o=Math.abs(r-n);return i<=s&&i<=o?t:s<=o?e:n}function DT(t,e,n,r,i,s){switch(t){case 0:Xy(e,n,i);break;case 1:Qy(e,n,i,s);break;case 2:Zy(e,n,r,i);break;case 3:ew(e,n,r,i,s);break;case 4:tw(e,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const FT=new Uint16Array([255]),MT=new Uint8Array(FT.buffer),jT=MT[0]===255;function BT(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(s/8)*i,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const d=o[u],m=Math.ceil((n-d.x)/d.xStep),p=Math.ceil((r-d.y)/d.yStep);if(m<=0||p<=0)continue;const _=m*a,y=new Uint8Array(_);for(let E=0;E<p;E++){const w=e[c++],R=e.subarray(c,c+_);c+=_;const B=new Uint8Array(_);DT(w,R,B,y,_,a),y.set(B);for(let T=0;T<m;T++){const ee=d.x+T*d.xStep,ve=d.y+E*d.yStep;if(!(ee>=n||ve>=r))for(let fe=0;fe<a;fe++)l[(ve*n+ee)*a+fe]=B[T*a+fe]}}}if(s===16){const u=new Uint16Array(l.buffer);if(jT)for(let d=0;d<u.length;d++)u[d]=UT(u[d]);return u}else return l}function UT(t){return(t&255)<<8|t>>8&255}const qT=new Uint16Array([255]),zT=new Uint8Array(qT.buffer),HT=zT[0]===255,WT=new Uint8Array(0);function gv(t){const{data:e,width:n,height:r,channels:i,depth:s}=t,o=Math.ceil(s/8)*i,a=Math.ceil(s/8*i*n),l=new Uint8Array(r*a);let c=WT,u=0,d,m;for(let p=0;p<r;p++){switch(d=e.subarray(u+1,u+1+a),m=l.subarray(p*a,(p+1)*a),e[u]){case 0:Xy(d,m,a);break;case 1:Qy(d,m,a,o);break;case 2:Zy(d,m,c,a);break;case 3:ew(d,m,c,a,o);break;case 4:tw(d,m,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=m,u+=a+1}if(s===16){const p=new Uint16Array(l.buffer);if(HT)for(let _=0;_<p.length;_++)p[_]=VT(p[_]);return p}else return l}function VT(t){return(t&255)<<8|t>>8&255}const Ch=Uint8Array.of(137,80,78,71,13,10,26,10);function mv(t){if(!$T(t.readBytes(Ch.length)))throw new Error("wrong PNG signature")}function $T(t){if(t.length<Ch.length)return!1;for(let e=0;e<Ch.length;e++)if(t[e]!==Ch[e])return!1;return!0}const GT="tEXt",KT=0,nw=new TextDecoder("latin1");function YT(t){if(XT(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const JT=/^[\u0000-\u00FF]*$/;function XT(t){if(!JT.test(t))throw new Error("invalid latin1 text")}function QT(t,e,n){const r=rw(e);t[r]=ZT(e,n-r.length-1)}function rw(t){for(t.mark();t.readByte()!==KT;);const e=t.offset;t.reset();const n=nw.decode(t.readBytes(e-t.offset-1));return t.skip(1),YT(n),n}function ZT(t,e){return nw.decode(t.readBytes(e))}const Dr={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lp={UNKNOWN:-1,DEFLATE:0},vv={UNKNOWN:-1,ADAPTIVE:0},cp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},dh={NONE:0,BACKGROUND:1,PREVIOUS:2},up={SOURCE:0,OVER:1};class e8 extends Bm{constructor(n,r={}){super(n);qt(this,"_checkCrc");qt(this,"_inflator");qt(this,"_png");qt(this,"_apng");qt(this,"_end");qt(this,"_hasPalette");qt(this,"_palette");qt(this,"_hasTransparency");qt(this,"_transparency");qt(this,"_compressionMethod");qt(this,"_filterMethod");qt(this,"_interlaceMethod");qt(this,"_colorType");qt(this,"_isAnimated");qt(this,"_numberOfFrames");qt(this,"_numberOfPlays");qt(this,"_frames");qt(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new fv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lp.UNKNOWN,this._filterMethod=vv.UNKNOWN,this._interlaceMethod=cp.UNKNOWN,this._colorType=Dr.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(mv(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(mv(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case GT:QT(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?pv(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?pv(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=t8(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Dr.GREYSCALE:i=1;break;case Dr.TRUECOLOUR:i=3;break;case Dr.INDEXED_COLOUR:i=1;break;case Dr.GREYSCALE_ALPHA:i=2;break;case Dr.TRUECOLOUR_ALPHA:i=4;break;case Dr.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==lp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<r;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Dr.GREYSCALE:case Dr.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Dr.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Dr.UNKNOWN:case Dr.GREYSCALE_ALPHA:case Dr.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=rw(this),i=this.readUint8();if(i!==lp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:kT(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=gv({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(i,s,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case dh.NONE:break;case dh.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const a=(s*n.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case dh.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,s=(o,a)=>{const l=((o+r.yOffset)*this._png.width+r.xOffset+a)*this._png.channels,c=(o*r.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(r.blendOp){case up.SOURCE:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++)n.data[l+u]=r.data[c+u]}break;case up.OVER:for(let o=0;o<r.height;o++)for(let a=0;a<r.width;a++){const{index:l,frameIndex:c}=s(o,a);for(let u=0;u<this._png.channels;u++){const d=r.data[c+this._png.channels-1]/i,m=u%(this._png.channels-1)===0?1:r.data[c+u],p=Math.floor(d*m+(1-d)*n.data[l+u]);n.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==vv.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cp.NO_INTERLACE)this._png.data=gv({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cp.ADAM7)this._png.data=BT({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:dh.NONE,blendOp:up.SOURCE,data:n}),this._inflator=new fv,this._writingDataChunks=!1}}function t8(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var bv;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(bv||(bv={}));function n8(t,e){return new e8(t,e).decode()}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hp(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var Kt={log:hp,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):hp.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):hp(t))}};function fp(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ta(r.response,e,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function _v(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function ph(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ta=lt.saveAs||((typeof window>"u"?"undefined":zt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?_v(i.href)?fp(t,e,n):ph(i,i.target="_blank"):ph(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){ph(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(_v(t))fp(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){ph(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:zt(s)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return fp(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":zt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function iw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Ph=lt.atob.bind(lt),yv=lt.btoa.bind(lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dp(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=tr(n,r,i,s,e[0],7,-680876936),s=tr(s,n,r,i,e[1],12,-389564586),i=tr(i,s,n,r,e[2],17,606105819),r=tr(r,i,s,n,e[3],22,-1044525330),n=tr(n,r,i,s,e[4],7,-176418897),s=tr(s,n,r,i,e[5],12,1200080426),i=tr(i,s,n,r,e[6],17,-1473231341),r=tr(r,i,s,n,e[7],22,-45705983),n=tr(n,r,i,s,e[8],7,1770035416),s=tr(s,n,r,i,e[9],12,-1958414417),i=tr(i,s,n,r,e[10],17,-42063),r=tr(r,i,s,n,e[11],22,-1990404162),n=tr(n,r,i,s,e[12],7,1804603682),s=tr(s,n,r,i,e[13],12,-40341101),i=tr(i,s,n,r,e[14],17,-1502002290),n=nr(n,r=tr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=nr(s,n,r,i,e[6],9,-1069501632),i=nr(i,s,n,r,e[11],14,643717713),r=nr(r,i,s,n,e[0],20,-373897302),n=nr(n,r,i,s,e[5],5,-701558691),s=nr(s,n,r,i,e[10],9,38016083),i=nr(i,s,n,r,e[15],14,-660478335),r=nr(r,i,s,n,e[4],20,-405537848),n=nr(n,r,i,s,e[9],5,568446438),s=nr(s,n,r,i,e[14],9,-1019803690),i=nr(i,s,n,r,e[3],14,-187363961),r=nr(r,i,s,n,e[8],20,1163531501),n=nr(n,r,i,s,e[13],5,-1444681467),s=nr(s,n,r,i,e[2],9,-51403784),i=nr(i,s,n,r,e[7],14,1735328473),n=rr(n,r=nr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=rr(s,n,r,i,e[8],11,-2022574463),i=rr(i,s,n,r,e[11],16,1839030562),r=rr(r,i,s,n,e[14],23,-35309556),n=rr(n,r,i,s,e[1],4,-1530992060),s=rr(s,n,r,i,e[4],11,1272893353),i=rr(i,s,n,r,e[7],16,-155497632),r=rr(r,i,s,n,e[10],23,-1094730640),n=rr(n,r,i,s,e[13],4,681279174),s=rr(s,n,r,i,e[0],11,-358537222),i=rr(i,s,n,r,e[3],16,-722521979),r=rr(r,i,s,n,e[6],23,76029189),n=rr(n,r,i,s,e[9],4,-640364487),s=rr(s,n,r,i,e[12],11,-421815835),i=rr(i,s,n,r,e[15],16,530742520),n=ir(n,r=rr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ir(s,n,r,i,e[7],10,1126891415),i=ir(i,s,n,r,e[14],15,-1416354905),r=ir(r,i,s,n,e[5],21,-57434055),n=ir(n,r,i,s,e[12],6,1700485571),s=ir(s,n,r,i,e[3],10,-1894986606),i=ir(i,s,n,r,e[10],15,-1051523),r=ir(r,i,s,n,e[1],21,-2054922799),n=ir(n,r,i,s,e[8],6,1873313359),s=ir(s,n,r,i,e[15],10,-30611744),i=ir(i,s,n,r,e[6],15,-1560198380),r=ir(r,i,s,n,e[13],21,1309151649),n=ir(n,r,i,s,e[4],6,-145523070),s=ir(s,n,r,i,e[11],10,-1120210379),i=ir(i,s,n,r,e[2],15,718787259),r=ir(r,i,s,n,e[9],21,-343485551),t[0]=oo(n,t[0]),t[1]=oo(r,t[1]),t[2]=oo(i,t[2]),t[3]=oo(s,t[3])}function Wf(t,e,n,r,i,s){return e=oo(oo(e,t),oo(r,s)),oo(e<<i|e>>>32-i,n)}function tr(t,e,n,r,i,s,o){return Wf(e&n|~e&r,t,e,i,s,o)}function nr(t,e,n,r,i,s,o){return Wf(e&r|n&~r,t,e,i,s,o)}function rr(t,e,n,r,i,s,o){return Wf(e^n^r,t,e,i,s,o)}function ir(t,e,n,r,i,s,o){return Wf(n^(e|~r),t,e,i,s,o)}function sw(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)dp(r,r8(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(dp(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,dp(r,i),r}function r8(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var wv="0123456789abcdef".split("");function i8(t){for(var e="",n=0;n<4;n++)e+=wv[t>>8*n+4&15]+wv[t>>8*n&15];return e}function s8(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function hg(t){return sw(t).map(s8).join("")}var o8=function(t){for(var e=0;e<t.length;e++)t[e]=i8(t[e]);return t.join("")}(sw("hello"))!="5d41402abc4b2a76b9719d911017c592";function oo(t,e){if(o8){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function fg(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length|0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=t,r=a}else a=r;var d=e.length,m=0,p=0,_="";for(l=0;l<d;l++)p=(p+(u=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=u,o=a[(a[m]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Sv={print:4,modify:8,copy:16,"annot-forms":32};function Wa(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Sv.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Sv[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=hg(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=fg(this.encryptionKey,this.padding)}function Va(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function xv(t){if(zt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){lt.console&&Kt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function df(t){if(!(this instanceof df))return new df(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function ow(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function na(t,e,n,r,i){if(!(this instanceof na))return new na(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,ow.call(this,r,i)}function Ka(t,e,n,r,i){if(!(this instanceof Ka))return new Ka(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,ow.call(this,r,i)}function Ze(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;zt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=xv;var _="1.3",y=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(g){_=g};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var w=p.__private__.getPageFormat=function(g){return E[g]};i=i||"a4";var R="compat",B="advanced",T=R;function ee(){this.saveGraphicsState(),C(new it(Ge,0,0,-Ge,0,jo()*Ge).toString()+" cm"),this.setFontSize(this.getFontSize()/Ge),c="n",T=B}function ve(){this.restoreGraphicsState(),c="S",T=R}var fe=p.__private__.combineFontStyleAndFontWeight=function(g,S){if(g=="bold"&&S=="normal"||g=="bold"&&S==400||g=="normal"&&S=="italic"||g=="bold"&&S=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return S&&(g=S==400||S==="normal"?g==="italic"?"italic":"normal":S!=700&&S!=="bold"||g!=="normal"?(S==700?"bold":S)+""+g:"bold"),g};p.advancedAPI=function(g){var S=T===R;return S&&ee.call(this),typeof g!="function"||(g(this),S&&ve.call(this)),this},p.compatAPI=function(g){var S=T===B;return S&&ve.call(this),typeof g!="function"||(g(this),S&&ee.call(this)),this},p.isAdvancedAPI=function(){return T===B};var ne,V=function(g){if(T!==B)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},se=p.roundToPrecision=p.__private__.roundToPrecision=function(g,S){var W=e||S;if(isNaN(g)||isNaN(W))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(W).replace(/0+$/,"")};ne=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return se(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return se(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return se(g,16)};var N=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return se(g,2)},U=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return se(g,3)},K=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return T===R?g*Ge:T===B?g:void 0},G=function(g){return K(function(S){return T===R?jo()-S:T===B?S:void 0}(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,be="00000000000000000000000000000000",he=p.__private__.getFileId=function(){return be},te=p.__private__.setFileId=function(g){return be=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(vn=new Wa(u.userPermissions,u.userPassword,u.ownerPassword,be)),be};p.setFileId=function(g){return te(g),this},p.getFileId=function(){return he()};var we=p.__private__.convertDateToPDFDate=function(g){var S=g.getTimezoneOffset(),W=S<0?"+":"-",Y=Math.floor(Math.abs(S/60)),ie=Math.abs(S%60),Ce=[W,F(Y),"'",F(ie),"'"].join("");return["D:",g.getFullYear(),F(g.getMonth()+1),F(g.getDate()),F(g.getHours()),F(g.getMinutes()),F(g.getSeconds()),Ce].join("")},Te=p.__private__.convertPDFDateToDate=function(g){var S=parseInt(g.substr(2,4),10),W=parseInt(g.substr(6,2),10)-1,Y=parseInt(g.substr(8,2),10),ie=parseInt(g.substr(10,2),10),Ce=parseInt(g.substr(12,2),10),ke=parseInt(g.substr(14,2),10);return new Date(S,W,Y,ie,Ce,ke,0)},Ne=p.__private__.setCreationDate=function(g){var S;if(g===void 0&&(g=new Date),g instanceof Date)S=we(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");S=g}return pe=S},I=p.__private__.getCreationDate=function(g){var S=pe;return g==="jsDate"&&(S=Te(pe)),S};p.setCreationDate=function(g){return Ne(g),this},p.getCreationDate=function(g){return I(g)};var k,F=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},$=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},X=0,q=[],Z=[],J=0,oe=[],Ee=[],O=!1,M=Z;p.__private__.setCustomOutputDestination=function(g){O=!0,M=g};var j=function(g){O||(M=g)};p.__private__.resetCustomOutputDestination=function(){O=!1,M=Z};var C=p.__private__.out=function(g){return g=g.toString(),J+=g.length+1,M.push(g),M},_e=p.__private__.write=function(g){return C(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},me=p.__private__.getArrayBuffer=function(g){for(var S=g.length,W=new ArrayBuffer(S),Y=new Uint8Array(W);S--;)Y[S]=g.charCodeAt(S);return W},xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return xe};var ae=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return ae=T===B?g/Ge:g,this};var ye,ue=p.__private__.getFontSize=p.getFontSize=function(){return T===R?ae:ae*Ge},Oe=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return Oe=g,this},p.__private__.getR2L=p.getR2L=function(){return Oe};var Ae,Me=p.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))ye=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');ye=g}else ye=parseInt(g,10)};p.__private__.getZoomMode=function(){return ye};var De,Be=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ae=g};p.__private__.getPageMode=function(){return Ae};var tt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');De=g};p.__private__.getLayoutMode=function(){return De},p.__private__.setDisplayMode=p.setDisplayMode=function(g,S,W){return Me(g),tt(S),Be(W),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(Ue).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[g]},p.__private__.getDocumentProperties=function(){return Ue},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var S in Ue)Ue.hasOwnProperty(S)&&g[S]&&(Ue[S]=g[S]);return this},p.__private__.setDocumentProperty=function(g,S){if(Object.keys(Ue).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[g]=S};var qe,Ge,ze,St,xt,Ke={},et={},yt=[],rt={},Et={},pt={},mn={},Ln=null,Vt=0,ut=[],Ot=new xv(p),Eo=t.hotfixes||[],Qn={},Wi={},Si=[],it=function g(S,W,Y,ie,Ce,ke){if(!(this instanceof g))return new g(S,W,Y,ie,Ce,ke);isNaN(S)&&(S=1),isNaN(W)&&(W=0),isNaN(Y)&&(Y=0),isNaN(ie)&&(ie=1),isNaN(Ce)&&(Ce=0),isNaN(ke)&&(ke=0),this._matrix=[S,W,Y,ie,Ce,ke]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ne).join(g)},it.prototype.multiply=function(g){var S=g.sx*this.sx+g.shy*this.shx,W=g.sx*this.shy+g.shy*this.sy,Y=g.shx*this.sx+g.sy*this.shx,ie=g.shx*this.shy+g.sy*this.sy,Ce=g.tx*this.sx+g.ty*this.shx+this.tx,ke=g.tx*this.shy+g.ty*this.sy+this.ty;return new it(S,W,Y,ie,Ce,ke)},it.prototype.decompose=function(){var g=this.sx,S=this.shy,W=this.shx,Y=this.sy,ie=this.tx,Ce=this.ty,ke=Math.sqrt(g*g+S*S),$e=(g/=ke)*W+(S/=ke)*Y;W-=g*$e,Y-=S*$e;var Xe=Math.sqrt(W*W+Y*Y);return $e/=Xe,g*(Y/=Xe)<S*(W/=Xe)&&(g=-g,S=-S,$e=-$e,ke=-ke),{scale:new it(ke,0,0,Xe,0,0),translate:new it(1,0,0,1,ie,Ce),rotate:new it(g,S,-S,g,0,0),skew:new it(1,0,$e,1,0,0)}},it.prototype.toString=function(g){return this.join(" ")},it.prototype.inversed=function(){var g=this.sx,S=this.shy,W=this.shx,Y=this.sy,ie=this.tx,Ce=this.ty,ke=1/(g*Y-S*W),$e=Y*ke,Xe=-S*ke,ct=-W*ke,ft=g*ke;return new it($e,Xe,ct,ft,-$e*ie-ct*Ce,-Xe*ie-ft*Ce)},it.prototype.applyToPoint=function(g){var S=g.x*this.sx+g.y*this.shx+this.tx,W=g.x*this.shy+g.y*this.sy+this.ty;return new Fo(S,W)},it.prototype.applyToRectangle=function(g){var S=this.applyToPoint(g),W=this.applyToPoint(new Fo(g.x+g.w,g.y+g.h));return new zl(S.x,S.y,W.x-S.x,W.y-S.y)},it.prototype.clone=function(){var g=this.sx,S=this.shy,W=this.shx,Y=this.sy,ie=this.tx,Ce=this.ty;return new it(g,S,W,Y,ie,Ce)},p.Matrix=it;var Vi=p.matrixMult=function(g,S){return S.multiply(g)},$i=new it(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=$i;var Ur=function(g,S){if(!Et[g]){var W=(S instanceof na?"Sh":"P")+(Object.keys(rt).length+1).toString(10);S.id=W,Et[g]=W,rt[W]=S,Ot.publish("addPattern",S)}};p.ShadingPattern=na,p.TilingPattern=Ka,p.addShadingPattern=function(g,S){return V("addShadingPattern()"),Ur(g,S),this},p.beginTilingPattern=function(g){V("beginTilingPattern()"),Hl(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,S){V("endTilingPattern()"),S.stream=Ee[k].join(`
`),Ur(g,S),Ot.publish("endTilingPattern",S),Si.pop().restore()};var qr,cn=p.__private__.newObject=function(){var g=Bn();return Hn(g,!0),g},Bn=p.__private__.newObjectDeferred=function(){return X++,q[X]=function(){return J},X},Hn=function(g,S){return S=typeof S=="boolean"&&S,q[g]=J,S&&C(g+" 0 obj"),g},Co=p.__private__.newAdditionalObject=function(){var g={objId:Bn(),content:""};return oe.push(g),g},Cs=Bn(),ti=Bn(),xi=p.__private__.decodeColorString=function(g){var S=g.split(" ");if(S.length!==2||S[1]!=="g"&&S[1]!=="G")S.length!==5||S[4]!=="k"&&S[4]!=="K"||(S=[(1-S[0])*(1-S[3]),(1-S[1])*(1-S[3]),(1-S[2])*(1-S[3]),"r"]);else{var W=parseFloat(S[0]);S=[W,W,W,"r"]}for(var Y="#",ie=0;ie<3;ie++)Y+=("0"+Math.floor(255*parseFloat(S[ie])).toString(16)).slice(-2);return Y},ni=p.__private__.encodeColorString=function(g){var S;typeof g=="string"&&(g={ch1:g});var W=g.ch1,Y=g.ch2,ie=g.ch3,Ce=g.ch4,ke=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof W=="string"&&W.charAt(0)!=="#"){var $e=new iw(W);if($e.ok)W=$e.toHex();else if(!/^\d*\.?\d*$/.test(W))throw new Error('Invalid color "'+W+'" passed to jsPDF.encodeColorString.')}if(typeof W=="string"&&/^#[0-9A-Fa-f]{3}$/.test(W)&&(W="#"+W[1]+W[1]+W[2]+W[2]+W[3]+W[3]),typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W)){var Xe=parseInt(W.substr(1),16);W=Xe>>16&255,Y=Xe>>8&255,ie=255&Xe}if(Y===void 0||Ce===void 0&&W===Y&&Y===ie)S=typeof W=="string"?W+" "+ke[0]:g.precision===2?N(W/255)+" "+ke[0]:U(W/255)+" "+ke[0];else if(Ce===void 0||zt(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return["1.","1.","1.",ke[1]].join(" ");S=typeof W=="string"?[W,Y,ie,ke[1]].join(" "):g.precision===2?[N(W/255),N(Y/255),N(ie/255),ke[1]].join(" "):[U(W/255),U(Y/255),U(ie/255),ke[1]].join(" ")}else S=typeof W=="string"?[W,Y,ie,Ce,ke[2]].join(" "):g.precision===2?[N(W),N(Y),N(ie),N(Ce),ke[2]].join(" "):[U(W),U(Y),U(ie),U(Ce),ke[2]].join(" ");return S},ri=p.__private__.getFilters=function(){return o},zr=p.__private__.putStream=function(g){var S=(g=g||{}).data||"",W=g.filters||ri(),Y=g.alreadyAppliedFilters||[],ie=g.addLength1||!1,Ce=S.length,ke=g.objectId,$e=function(kn){return kn};if(u!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($e=vn.encryptor(ke,0));var Xe={};W===!0&&(W=["FlateEncode"]);var ct=g.additionalKeyValues||[],ft=(Xe=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(S,W):{data:S,reverseChain:[]}).reverseChain+(Array.isArray(Y)?Y.join(" "):Y.toString());if(Xe.data.length!==0&&(ct.push({key:"Length",value:Xe.data.length}),ie===!0&&ct.push({key:"Length1",value:Ce})),ft.length!=0)if(ft.split("/").length-1==1)ct.push({key:"Filter",value:ft});else{ct.push({key:"Filter",value:"["+ft+"]"});for(var kt=0;kt<ct.length;kt+=1)if(ct[kt].key==="DecodeParms"){for(var an=[],En=0;En<Xe.reverseChain.split("/").length-1;En+=1)an.push("null");an.push(ct[kt].value),ct[kt].value="["+an.join(" ")+"]"}}C("<<");for(var Xt=0;Xt<ct.length;Xt++)C("/"+ct[Xt].key+" "+ct[Xt].value);C(">>"),Xe.data.length!==0&&(C("stream"),C($e(Xe.data)),C("endstream"))},Po=p.__private__.putPage=function(g){var S=g.number,W=g.data,Y=g.objId,ie=g.contentsObjId;Hn(Y,!0),C("<</Type /Page"),C("/Parent "+g.rootDictionaryObjId+" 0 R"),C("/Resources "+g.resourceDictionaryObjId+" 0 R"),C("/MediaBox ["+parseFloat(ne(g.mediaBox.bottomLeftX))+" "+parseFloat(ne(g.mediaBox.bottomLeftY))+" "+ne(g.mediaBox.topRightX)+" "+ne(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&C("/CropBox ["+ne(g.cropBox.bottomLeftX)+" "+ne(g.cropBox.bottomLeftY)+" "+ne(g.cropBox.topRightX)+" "+ne(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&C("/BleedBox ["+ne(g.bleedBox.bottomLeftX)+" "+ne(g.bleedBox.bottomLeftY)+" "+ne(g.bleedBox.topRightX)+" "+ne(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&C("/TrimBox ["+ne(g.trimBox.bottomLeftX)+" "+ne(g.trimBox.bottomLeftY)+" "+ne(g.trimBox.topRightX)+" "+ne(g.trimBox.topRightY)+"]"),g.artBox!==null&&C("/ArtBox ["+ne(g.artBox.bottomLeftX)+" "+ne(g.artBox.bottomLeftY)+" "+ne(g.artBox.topRightX)+" "+ne(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&C("/UserUnit "+g.userUnit),Ot.publish("putPage",{objId:Y,pageContext:ut[S],pageNumber:S,page:W}),C("/Contents "+ie+" 0 R"),C(">>"),C("endobj");var Ce=W.join(`
`);return T===B&&(Ce+=`
Q`),Hn(ie,!0),zr({data:Ce,filters:ri(),objectId:ie}),C("endobj"),Y},Ai=p.__private__.putPages=function(){var g,S,W=[];for(g=1;g<=Vt;g++)ut[g].objId=Bn(),ut[g].contentsObjId=Bn();for(g=1;g<=Vt;g++)W.push(Po({number:g,data:Ee[g],objId:ut[g].objId,contentsObjId:ut[g].contentsObjId,mediaBox:ut[g].mediaBox,cropBox:ut[g].cropBox,bleedBox:ut[g].bleedBox,trimBox:ut[g].trimBox,artBox:ut[g].artBox,userUnit:ut[g].userUnit,rootDictionaryObjId:Cs,resourceDictionaryObjId:ti}));Hn(Cs,!0),C("<</Type /Pages");var Y="/Kids [";for(S=0;S<Vt;S++)Y+=W[S]+" 0 R ";C(Y+"]"),C("/Count "+Vt),C(">>"),C("endobj"),Ot.publish("postPutPages")},No=function(g){Ot.publish("putFont",{font:g,out:C,newObject:cn,putStream:zr}),g.isAlreadyPutted!==!0&&(g.objectNumber=cn(),C("<<"),C("/Type /Font"),C("/BaseFont /"+Va(g.postScriptName)),C("/Subtype /Type1"),typeof g.encoding=="string"&&C("/Encoding /"+g.encoding),C("/FirstChar 32"),C("/LastChar 255"),C(">>"),C("endobj"))},Aa=function(g){g.objectNumber=cn();var S=[];S.push({key:"Type",value:"/XObject"}),S.push({key:"Subtype",value:"/Form"}),S.push({key:"BBox",value:"["+[ne(g.x),ne(g.y),ne(g.x+g.width),ne(g.y+g.height)].join(" ")+"]"}),S.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var W=g.pages[1].join(`
`);zr({data:W,additionalKeyValues:S,objectId:g.objectNumber}),C("endobj")},Ia=function(g,S){S||(S=21);var W=cn(),Y=function(ke,$e){var Xe,ct=[],ft=1/($e-1);for(Xe=0;Xe<1;Xe+=ft)ct.push(Xe);if(ct.push(1),ke[0].offset!=0){var kt={offset:0,color:ke[0].color};ke.unshift(kt)}if(ke[ke.length-1].offset!=1){var an={offset:1,color:ke[ke.length-1].color};ke.push(an)}for(var En="",Xt=0,kn=0;kn<ct.length;kn++){for(Xe=ct[kn];Xe>ke[Xt+1].offset;)Xt++;var Cn=ke[Xt].offset,Wn=(Xe-Cn)/(ke[Xt+1].offset-Cn),Wr=ke[Xt].color,yr=ke[Xt+1].color;En+=$(Math.round((1-Wn)*Wr[0]+Wn*yr[0]).toString(16))+$(Math.round((1-Wn)*Wr[1]+Wn*yr[1]).toString(16))+$(Math.round((1-Wn)*Wr[2]+Wn*yr[2]).toString(16))}return En.trim()}(g.colors,S),ie=[];ie.push({key:"FunctionType",value:"0"}),ie.push({key:"Domain",value:"[0.0 1.0]"}),ie.push({key:"Size",value:"["+S+"]"}),ie.push({key:"BitsPerSample",value:"8"}),ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zr({data:Y,additionalKeyValues:ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:W}),C("endobj"),g.objectNumber=cn(),C("<< /ShadingType "+g.type),C("/ColorSpace /DeviceRGB");var Ce="/Coords ["+ne(parseFloat(g.coords[0]))+" "+ne(parseFloat(g.coords[1]))+" ";g.type===2?Ce+=ne(parseFloat(g.coords[2]))+" "+ne(parseFloat(g.coords[3])):Ce+=ne(parseFloat(g.coords[2]))+" "+ne(parseFloat(g.coords[3]))+" "+ne(parseFloat(g.coords[4]))+" "+ne(parseFloat(g.coords[5])),C(Ce+="]"),g.matrix&&C("/Matrix ["+g.matrix.toString()+"]"),C("/Function "+W+" 0 R"),C("/Extend [true true]"),C(">>"),C("endobj")},Ea=function(g,S){var W=Bn(),Y=cn();S.push({resourcesOid:W,objectOid:Y}),g.objectNumber=Y;var ie=[];ie.push({key:"Type",value:"/Pattern"}),ie.push({key:"PatternType",value:"1"}),ie.push({key:"PaintType",value:"1"}),ie.push({key:"TilingType",value:"1"}),ie.push({key:"BBox",value:"["+g.boundingBox.map(ne).join(" ")+"]"}),ie.push({key:"XStep",value:ne(g.xStep)}),ie.push({key:"YStep",value:ne(g.yStep)}),ie.push({key:"Resources",value:W+" 0 R"}),g.matrix&&ie.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),zr({data:g.stream,additionalKeyValues:ie,objectId:g.objectNumber}),C("endobj")},$f=function(g){for(var S in g.objectNumber=cn(),C("<<"),g)switch(S){case"opacity":C("/ca "+N(g[S]));break;case"stroke-opacity":C("/CA "+N(g[S]))}C(">>"),C("endobj")},Tl=function(g){Hn(g.resourcesOid,!0),C("<<"),C("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var S in C("/Font <<"),Ke)Ke.hasOwnProperty(S)&&(d===!1||d===!0&&m.hasOwnProperty(S))&&C("/"+S+" "+Ke[S].objectNumber+" 0 R");C(">>")}(),function(){if(Object.keys(rt).length>0){for(var S in C("/Shading <<"),rt)rt.hasOwnProperty(S)&&rt[S]instanceof na&&rt[S].objectNumber>=0&&C("/"+S+" "+rt[S].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),C(">>")}}(),function(S){if(Object.keys(rt).length>0){for(var W in C("/Pattern <<"),rt)rt.hasOwnProperty(W)&&rt[W]instanceof p.TilingPattern&&rt[W].objectNumber>=0&&rt[W].objectNumber<S&&C("/"+W+" "+rt[W].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),C(">>")}}(g.objectOid),function(){if(Object.keys(pt).length>0){var S;for(S in C("/ExtGState <<"),pt)pt.hasOwnProperty(S)&&pt[S].objectNumber>=0&&C("/"+S+" "+pt[S].objectNumber+" 0 R");Ot.publish("putGStateDict"),C(">>")}}(),function(){for(var S in C("/XObject <<"),Qn)Qn.hasOwnProperty(S)&&Qn[S].objectNumber>=0&&C("/"+S+" "+Qn[S].objectNumber+" 0 R");Ot.publish("putXobjectDict"),C(">>")}(),C(">>"),C("endobj")},Su=function(g){et[g.fontName]=et[g.fontName]||{},et[g.fontName][g.fontStyle]=g.id},xu=function(g,S,W,Y,ie){var Ce={id:"F"+(Object.keys(Ke).length+1).toString(10),postScriptName:g,fontName:S,fontStyle:W,encoding:Y,isStandardFont:ie||!1,metadata:{}};return Ot.publish("addFont",{font:Ce,instance:this}),Ke[Ce.id]=Ce,Su(Ce),Ce.id},Hr=p.__private__.pdfEscape=p.pdfEscape=function(g,S){return function(W,Y){var ie,Ce,ke,$e,Xe,ct,ft,kt,an;if(ke=(Y=Y||{}).sourceEncoding||"Unicode",Xe=Y.outputEncoding,(Y.autoencode||Xe)&&Ke[qe].metadata&&Ke[qe].metadata[ke]&&Ke[qe].metadata[ke].encoding&&($e=Ke[qe].metadata[ke].encoding,!Xe&&Ke[qe].encoding&&(Xe=Ke[qe].encoding),!Xe&&$e.codePages&&(Xe=$e.codePages[0]),typeof Xe=="string"&&(Xe=$e[Xe]),Xe)){for(ft=!1,ct=[],ie=0,Ce=W.length;ie<Ce;ie++)(kt=Xe[W.charCodeAt(ie)])?ct.push(String.fromCharCode(kt)):ct.push(W[ie]),ct[ie].charCodeAt(0)>>8&&(ft=!0);W=ct.join("")}for(ie=W.length;ft===void 0&&ie!==0;)W.charCodeAt(ie-1)>>8&&(ft=!0),ie--;if(!ft)return W;for(ct=Y.noBOM?[]:[254,255],ie=0,Ce=W.length;ie<Ce;ie++){if((an=(kt=W.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+W+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(an),ct.push(kt-(an<<8))}return String.fromCharCode.apply(void 0,ct)}(g,S).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rl=p.__private__.beginPage=function(g){Ee[++Vt]=[],ut[Vt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Iu(Vt),j(Ee[k])},Au=function(g,S){var W,Y,ie;switch(n=S||n,typeof g=="string"&&(W=w(g.toLowerCase()),Array.isArray(W)&&(Y=W[0],ie=W[1])),Array.isArray(g)&&(Y=g[0]*Ge,ie=g[1]*Ge),isNaN(Y)&&(Y=i[0],ie=i[1]),(Y>14400||ie>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Y=Math.min(14400,Y),ie=Math.min(14400,ie)),i=[Y,ie],n.substr(0,1)){case"l":ie>Y&&(i=[ie,Y]);break;case"p":Y>ie&&(i=[ie,Y])}Rl(i),td(jl),C(Pa),Ul!==0&&C(Ul+" J"),ql!==0&&C(ql+" j"),Ot.publish("addPage",{pageNumber:Vt})},Ol=function(g){g>0&&g<=Vt&&(Ee.splice(g,1),ut.splice(g,1),Vt--,k>Vt&&(k=Vt),this.setPage(k))},Iu=function(g){g>0&&g<=Vt&&(k=g)},Eu=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Ee.length-1},Cu=function(g,S,W){var Y,ie=void 0;return W=W||{},g=g!==void 0?g:Ke[qe].fontName,S=S!==void 0?S:Ke[qe].fontStyle,Y=g.toLowerCase(),et[Y]!==void 0&&et[Y][S]!==void 0?ie=et[Y][S]:et[g]!==void 0&&et[g][S]!==void 0?ie=et[g][S]:W.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+g+"', '"+S+"'. Refer to getFontList() for available fonts."),ie||W.noFallback||(ie=et.times[S])==null&&(ie=et.times.normal),ie},Ca=p.__private__.putInfo=function(){var g=cn(),S=function(Y){return Y};for(var W in u!==null&&(S=vn.encryptor(g,0)),C("<<"),C("/Producer ("+Hr(S("jsPDF "+Ze.version))+")"),Ue)Ue.hasOwnProperty(W)&&Ue[W]&&C("/"+W.substr(0,1).toUpperCase()+W.substr(1)+" ("+Hr(S(Ue[W]))+")");C("/CreationDate ("+Hr(S(pe))+")"),C(">>"),C("endobj")},Gf=p.__private__.putCatalog=function(g){var S=(g=g||{}).rootDictionaryObjId||Cs;switch(cn(),C("<<"),C("/Type /Catalog"),C("/Pages "+S+" 0 R"),ye||(ye="fullwidth"),ye){case"fullwidth":C("/OpenAction [3 0 R /FitH null]");break;case"fullheight":C("/OpenAction [3 0 R /FitV null]");break;case"fullpage":C("/OpenAction [3 0 R /Fit]");break;case"original":C("/OpenAction [3 0 R /XYZ null null 1]");break;default:var W=""+ye;W.substr(W.length-1)==="%"&&(ye=parseInt(ye)/100),typeof ye=="number"&&C("/OpenAction [3 0 R /XYZ null null "+N(ye)+"]")}switch(De||(De="continuous"),De){case"continuous":C("/PageLayout /OneColumn");break;case"single":C("/PageLayout /SinglePage");break;case"two":case"twoleft":C("/PageLayout /TwoColumnLeft");break;case"tworight":C("/PageLayout /TwoColumnRight")}Ae&&C("/PageMode /"+Ae),Ot.publish("putCatalog"),C(">>"),C("endobj")},In=p.__private__.putTrailer=function(){C("trailer"),C("<<"),C("/Size "+(X+1)),C("/Root "+X+" 0 R"),C("/Info "+(X-1)+" 0 R"),u!==null&&C("/Encrypt "+vn.oid+" 0 R"),C("/ID [ <"+be+"> <"+be+"> ]"),C(">>")},Pu=p.__private__.putHeader=function(){C("%PDF-"+_),C("%")},Nu=p.__private__.putXRef=function(){var g="0000000000";C("xref"),C("0 "+(X+1)),C("0000000000 65535 f ");for(var S=1;S<=X;S++)typeof q[S]=="function"?C((g+q[S]()).slice(-10)+" 00000 n "):q[S]!==void 0?C((g+q[S]).slice(-10)+" 00000 n "):C("0000000000 00000 n ")},Gi=p.__private__.buildDocument=function(){var g;X=0,J=0,Z=[],q=[],oe=[],Cs=Bn(),ti=Bn(),j(Z),Ot.publish("buildDocument"),Pu(),Ai(),function(){Ot.publish("putAdditionalObjects");for(var W=0;W<oe.length;W++){var Y=oe[W];Hn(Y.objId,!0),C(Y.content),C("endobj")}Ot.publish("postPutAdditionalObjects")}(),g=[],function(){for(var W in Ke)Ke.hasOwnProperty(W)&&(d===!1||d===!0&&m.hasOwnProperty(W))&&No(Ke[W])}(),function(){var W;for(W in pt)pt.hasOwnProperty(W)&&$f(pt[W])}(),function(){for(var W in Qn)Qn.hasOwnProperty(W)&&Aa(Qn[W])}(),function(W){var Y;for(Y in rt)rt.hasOwnProperty(Y)&&(rt[Y]instanceof na?Ia(rt[Y]):rt[Y]instanceof Ka&&Ea(rt[Y],W))}(g),Ot.publish("putResources"),g.forEach(Tl),Tl({resourcesOid:ti,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources"),u!==null&&(vn.oid=cn(),C("<<"),C("/Filter /Standard"),C("/V "+vn.v),C("/R "+vn.r),C("/U <"+vn.toHexString(vn.U)+">"),C("/O <"+vn.toHexString(vn.O)+">"),C("/P "+vn.P),C(">>"),C("endobj")),Ca(),Gf();var S=J;return Nu(),In(),C("startxref"),C(""+S),C("%%EOF"),j(Ee[k]),Z.join(`
`)},Lo=p.__private__.getBlob=function(g){return new Blob([me(g)],{type:"application/pdf"})},ii=p.output=p.__private__.output=(qr=function(g,S){switch(typeof(S=S||{})=="string"?S={filename:S}:S.filename=S.filename||"generated.pdf",g){case void 0:return Gi();case"save":p.save(S.filename);break;case"arraybuffer":return me(Gi());case"blob":return Lo(Gi());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(Lo(Gi()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var W="",Y=Gi();try{W=yv(Y)}catch{W=yv(unescape(encodeURIComponent(Y)))}return"data:application/pdf;filename="+S.filename+";base64,"+W;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';S.pdfObjectUrl&&(ie=S.pdfObjectUrl,Ce="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ie+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(S)+");<\/script></body></html>",$e=lt.open();return $e!==null&&$e.document.write(ke),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(S.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+S.filename+'" width="500px" height="400px" /></body></html>',ct=lt.open();if(ct!==null){ct.document.write(Xe);var ft=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=S.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ft.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",S)+'"></iframe></body></html>',an=lt.open();if(an!==null&&(an.document.write(kt),an.document.title=S.filename),an||typeof safari>"u")return an;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",S);default:return null}},qr.foo=function(){try{return qr.apply(this,arguments)}catch(W){var g=W.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var S="Error in function "+g.split(`
`)[0].split("<")[0]+": "+W.message;if(!lt.console)throw new Error(S);lt.console.error(S,W),lt.alert&&alert(S)}},qr.foo.bar=qr,qr.foo),ko=function(g){return Array.isArray(Eo)===!0&&Eo.indexOf(g)>-1};switch(r){case"pt":Ge=1;break;case"mm":Ge=72/25.4;break;case"cm":Ge=72/2.54;break;case"in":Ge=72;break;case"px":Ge=ko("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ge=12;break;case"ex":Ge=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ge=r}var vn=null;Ne(),te();var Dl=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[g].objId,pageNumber:g,pageContext:ut[g]}},Kf=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var S in ut)if(ut[S].objId===g)break;return Dl(S)},Yf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ut[k].objId,pageNumber:k,pageContext:ut[k]}};p.addPage=function(){return Au.apply(this,arguments),this},p.setPage=function(){return Iu.apply(this,arguments),j.call(this,Ee[k]),this},p.insertPage=function(g){return this.addPage(),this.movePage(k,g),this},p.movePage=function(g,S){var W,Y;if(g>S){W=Ee[g],Y=ut[g];for(var ie=g;ie>S;ie--)Ee[ie]=Ee[ie-1],ut[ie]=ut[ie-1];Ee[S]=W,ut[S]=Y,this.setPage(S)}else if(g<S){W=Ee[g],Y=ut[g];for(var Ce=g;Ce<S;Ce++)Ee[Ce]=Ee[Ce+1],ut[Ce]=ut[Ce+1];Ee[S]=W,ut[S]=Y,this.setPage(S)}return this},p.deletePage=function(){return Ol.apply(this,arguments),this},p.__private__.text=p.text=function(g,S,W,Y,ie){var Ce,ke,$e,Xe,ct,ft,kt,an,En,Xt=(Y=Y||{}).scope||this;if(typeof g=="number"&&typeof S=="number"&&(typeof W=="string"||Array.isArray(W))){var kn=W;W=S,S=g,g=kn}if(arguments[3]instanceof it==0?($e=arguments[4],Xe=arguments[5],zt(kt=arguments[3])==="object"&&kt!==null||(typeof $e=="string"&&(Xe=$e,$e=null),typeof kt=="string"&&(Xe=kt,kt=null),typeof kt=="number"&&($e=kt,kt=null),Y={flags:kt,angle:$e,align:Xe})):(V("The transform parameter of text() with a Matrix value"),En=ie),isNaN(S)||isNaN(W)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Xt;var Cn,Wn="",Wr=typeof Y.lineHeightFactor=="number"?Y.lineHeightFactor:Ro,yr=Xt.internal.scaleFactor;function Mu(Dt){return Dt=Dt.split("	").join(Array(Y.TabLen||9).join(" ")),Hr(Dt,kt)}function Ta(Dt){for(var $t,_n=Dt.concat(),Tn=[],es=_n.length;es--;)typeof($t=_n.shift())=="string"?Tn.push($t):Array.isArray(Dt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?Tn.push($t[0]):Tn.push([$t[0],$t[1],$t[2]]);return Tn}function Bo(Dt,$t){var _n;if(typeof Dt=="string")_n=$t(Dt)[0];else if(Array.isArray(Dt)){for(var Tn,es,Zl=Dt.concat(),Da=[],Uu=Zl.length;Uu--;)typeof(Tn=Zl.shift())=="string"?Da.push($t(Tn)[0]):Array.isArray(Tn)&&typeof Tn[0]=="string"&&(es=$t(Tn[0],Tn[1],Tn[2]),Da.push([es[0],es[1],es[2]]));_n=Da}return _n}var Ls=!1,Uo=!0;if(typeof g=="string")Ls=!0;else if(Array.isArray(g)){var qo=g.concat();ke=[];for(var zo,Zn=qo.length;Zn--;)(typeof(zo=qo.shift())!="string"||Array.isArray(zo)&&typeof zo[0]!="string")&&(Uo=!1);Ls=Uo}if(Ls===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Ho=ae/Xt.internal.scaleFactor,Wo=Ho*(Wr-1);switch(Y.baseline){case"bottom":W-=Wo;break;case"top":W+=Ho-Wo;break;case"hanging":W+=Ho-2*Wo;break;case"middle":W+=Ho/2-Wo}if((ft=Y.maxWidth||0)>0&&(typeof g=="string"?g=Xt.splitTextToSize(g,ft):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Dt,$t){return Dt.concat(Xt.splitTextToSize($t,ft))},[]))),Ce={text:g,x:S,y:W,options:Y,mutex:{pdfEscape:Hr,activeFontKey:qe,fonts:Ke,activeFontSize:ae}},Ot.publish("preProcessText",Ce),g=Ce.text,$e=(Y=Ce.options).angle,En instanceof it==0&&$e&&typeof $e=="number"){$e*=Math.PI/180,Y.rotationDirection===0&&($e=-$e),T===B&&($e=-$e);var Wl=Math.cos($e),Vl=Math.sin($e);En=new it(Wl,Vl,-Vl,Wl,0,0)}else $e&&$e instanceof it&&(En=$e);T!==B||En||(En=$i),(ct=Y.charSpace||La)!==void 0&&(Wn+=ne(K(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(an=Y.horizontalScale)!==void 0&&(Wn+=ne(100*an)+` Tz
`),Y.lang;var un=-1,Qi=Y.renderingMode!==void 0?Y.renderingMode:Y.stroke,Ra=Xt.internal.getCurrentPageInfo().pageContext;switch(Qi){case 0:case!1:case"fill":un=0;break;case 1:case!0:case"stroke":un=1;break;case 2:case"fillThenStroke":un=2;break;case 3:case"invisible":un=3;break;case 4:case"fillAndAddForClipping":un=4;break;case 5:case"strokeAndAddPathForClipping":un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":un=6;break;case 7:case"addToPathForClipping":un=7}var ju=Ra.usedRenderingMode!==void 0?Ra.usedRenderingMode:-1;un!==-1?Wn+=un+` Tr
`:ju!==-1&&(Wn+=`0 Tr
`),un!==-1&&(Ra.usedRenderingMode=un),Xe=Y.align||"left";var Vr,Vo=ae*Wr,$l=Xt.internal.pageSize.getWidth(),Gl=Ke[qe];ct=Y.charSpace||La,ft=Y.maxWidth||0,kt=Object.assign({autoencode:!0,noBOM:!0},Y.flags);var ks=[],$o=function(Dt){return Xt.getStringUnitWidth(Dt,{font:Gl,charSpace:ct,fontSize:ae,doKerning:!1})*ae/yr};if(Object.prototype.toString.call(g)==="[object Array]"){var Cr;ke=Ta(g),Xe!=="left"&&(Vr=ke.map($o));var Pr,Ts=0;if(Xe==="right"){S-=Vr[0],g=[],Zn=ke.length;for(var Zi=0;Zi<Zn;Zi++)Zi===0?(Pr=Ki(S),Cr=Yi(W)):(Pr=K(Ts-Vr[Zi]),Cr=-Vo),g.push([ke[Zi],Pr,Cr]),Ts=Vr[Zi]}else if(Xe==="center"){S-=Vr[0]/2,g=[],Zn=ke.length;for(var Rs=0;Rs<Zn;Rs++)Rs===0?(Pr=Ki(S),Cr=Yi(W)):(Pr=K((Ts-Vr[Rs])/2),Cr=-Vo),g.push([ke[Rs],Pr,Cr]),Ts=Vr[Rs]}else if(Xe==="left"){g=[],Zn=ke.length;for(var Kl=0;Kl<Zn;Kl++)g.push(ke[Kl])}else if(Xe==="justify"&&Gl.encoding==="Identity-H"){g=[],Zn=ke.length,ft=ft!==0?ft:$l;for(var Oa=0,bn=0;bn<Zn;bn++)if(Cr=bn===0?Yi(W):-Vo,Pr=bn===0?Ki(S):Oa,bn<Zn-1){var Bu=K((ft-Vr[bn])/(ke[bn].split(" ").length-1)),Ei=ke[bn].split(" ");g.push([Ei[0]+" ",Pr,Cr]),Oa=0;for(var Ci=1;Ci<Ei.length;Ci++){var Yl=($o(Ei[Ci-1]+" "+Ei[Ci])-$o(Ei[Ci]))*yr+Bu;Ci==Ei.length-1?g.push([Ei[Ci],Yl,0]):g.push([Ei[Ci]+" ",Yl,0]),Oa-=Yl}}else g.push([ke[bn],Pr,Cr]);g.push(["",Oa,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Zn=ke.length,ft=ft!==0?ft:$l,bn=0;bn<Zn;bn++){Cr=bn===0?Yi(W):-Vo,Pr=bn===0?Ki(S):0;var Jl=ke[bn].split(" ").length-1,Xl=Jl>0?(ft-Vr[bn])/Jl:0;bn<Zn-1?ks.push(ne(K(Xl))):ks.push(0),g.push([ke[bn],Pr,Cr])}}}(typeof Y.R2L=="boolean"?Y.R2L:Oe)===!0&&(g=Bo(g,function(Dt,$t,_n){return[Dt.split("").reverse().join(""),$t,_n]})),Ce={text:g,x:S,y:W,options:Y,mutex:{pdfEscape:Hr,activeFontKey:qe,fonts:Ke,activeFontSize:ae}},Ot.publish("postProcessText",Ce),g=Ce.text,Cn=Ce.mutex.isHex||!1;var Ql=Ke[qe].encoding;Ql!=="WinAnsiEncoding"&&Ql!=="StandardEncoding"||(g=Bo(g,function(Dt,$t,_n){return[Mu(Dt),$t,_n]})),ke=Ta(g),g=[];for(var Os,Ds,Fs,Go=Array.isArray(ke[0])?1:0,Ms="",Ko=function(Dt,$t,_n){var Tn="";return _n instanceof it?(_n=typeof Y.angle=="number"?Vi(_n,new it(1,0,0,1,Dt,$t)):Vi(new it(1,0,0,1,Dt,$t),_n),T===B&&(_n=Vi(new it(1,0,0,-1,0,0),_n)),Tn=_n.join(" ")+` Tm
`):Tn=ne(Dt)+" "+ne($t)+` Td
`,Tn},$r=0;$r<ke.length;$r++){switch(Ms="",Go){case 1:Fs=(Cn?"<":"(")+ke[$r][0]+(Cn?">":")"),Os=parseFloat(ke[$r][1]),Ds=parseFloat(ke[$r][2]);break;case 0:Fs=(Cn?"<":"(")+ke[$r]+(Cn?">":")"),Os=Ki(S),Ds=Yi(W)}ks!==void 0&&ks[$r]!==void 0&&(Ms=ks[$r]+` Tw
`),$r===0?g.push(Ms+Ko(Os,Ds,En)+Fs):Go===0?g.push(Ms+Fs):Go===1&&g.push(Ms+Ko(Os,Ds,En)+Fs)}g=Go===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Pi=`BT
/`;return Pi+=qe+" "+ae+` Tf
`,Pi+=ne(ae*Wr)+` TL
`,Pi+=Oo+`
`,Pi+=Wn,Pi+=g,C(Pi+="ET"),m[qe]=!0,Xt};var Jf=p.__private__.clip=p.clip=function(g){return C(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Jf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return C("n"),this};var Ii=p.__private__.isValidStyle=function(g){var S=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(S=!0),S};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Ii(g)&&(c=g),this};var Lu=p.__private__.getStyle=p.getStyle=function(g){var S=c;switch(g){case"D":case"S":S="S";break;case"F":S="f";break;case"FD":case"DF":S="B";break;case"f":case"f*":case"B":case"B*":S=g}return S},ku=p.close=function(){return C("h"),this};p.stroke=function(){return C("S"),this},p.fill=function(g){return Ps("f",g),this},p.fillEvenOdd=function(g){return Ps("f*",g),this},p.fillStroke=function(g){return Ps("B",g),this},p.fillStrokeEvenOdd=function(g){return Ps("B*",g),this};var Ps=function(g,S){zt(S)==="object"?Qf(S,g):C(g)},Fl=function(g){g===null||T===B&&g===void 0||(g=Lu(g),C(g))};function Xf(g,S,W,Y,ie){var Ce=new Ka(S||this.boundingBox,W||this.xStep,Y||this.yStep,this.gState,ie||this.matrix);Ce.stream=this.stream;var ke=g+"$$"+this.cloneIndex+++"$$";return Ur(ke,Ce),Ce}var Qf=function(g,S){var W=Et[g.key],Y=rt[W];if(Y instanceof na)C("q"),C(Zf(S)),Y.gState&&p.setGState(Y.gState),C(g.matrix.toString()+" cm"),C("/"+W+" sh"),C("Q");else if(Y instanceof Ka){var ie=new it(1,0,0,-1,0,jo());g.matrix&&(ie=ie.multiply(g.matrix||$i),W=Xf.call(Y,g.key,g.boundingBox,g.xStep,g.yStep,ie).id),C("q"),C("/Pattern cs"),C("/"+W+" scn"),Y.gState&&p.setGState(Y.gState),C(S),C("Q")}},Zf=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ml=p.moveTo=function(g,S){return C(ne(K(g))+" "+ne(G(S))+" m"),this},To=p.lineTo=function(g,S){return C(ne(K(g))+" "+ne(G(S))+" l"),this},Ns=p.curveTo=function(g,S,W,Y,ie,Ce){return C([ne(K(g)),ne(G(S)),ne(K(W)),ne(G(Y)),ne(K(ie)),ne(G(Ce)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,S,W,Y,ie){if(isNaN(g)||isNaN(S)||isNaN(W)||isNaN(Y)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.line");return T===R?this.lines([[W-g,Y-S]],g,S,[1,1],ie||"S"):this.lines([[W-g,Y-S]],g,S,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,S,W,Y,ie,Ce){var ke,$e,Xe,ct,ft,kt,an,En,Xt,kn,Cn,Wn;if(typeof g=="number"&&(Wn=W,W=S,S=g,g=Wn),Y=Y||[1,1],Ce=Ce||!1,isNaN(S)||isNaN(W)||!Array.isArray(g)||!Array.isArray(Y)||!Ii(ie)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ml(S,W),ke=Y[0],$e=Y[1],ct=g.length,kn=S,Cn=W,Xe=0;Xe<ct;Xe++)(ft=g[Xe]).length===2?(kn=ft[0]*ke+kn,Cn=ft[1]*$e+Cn,To(kn,Cn)):(kt=ft[0]*ke+kn,an=ft[1]*$e+Cn,En=ft[2]*ke+kn,Xt=ft[3]*$e+Cn,kn=ft[4]*ke+kn,Cn=ft[5]*$e+Cn,Ns(kt,an,En,Xt,kn,Cn));return Ce&&ku(),Fl(ie),this},p.path=function(g){for(var S=0;S<g.length;S++){var W=g[S],Y=W.c;switch(W.op){case"m":Ml(Y[0],Y[1]);break;case"l":To(Y[0],Y[1]);break;case"c":Ns.apply(this,Y);break;case"h":ku()}}return this},p.__private__.rect=p.rect=function(g,S,W,Y,ie){if(isNaN(g)||isNaN(S)||isNaN(W)||isNaN(Y)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.rect");return T===R&&(Y=-Y),C([ne(K(g)),ne(G(S)),ne(K(W)),ne(K(Y)),"re"].join(" ")),Fl(ie),this},p.__private__.triangle=p.triangle=function(g,S,W,Y,ie,Ce,ke){if(isNaN(g)||isNaN(S)||isNaN(W)||isNaN(Y)||isNaN(ie)||isNaN(Ce)||!Ii(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[W-g,Y-S],[ie-W,Ce-Y],[g-ie,S-Ce]],g,S,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,S,W,Y,ie,Ce,ke){if(isNaN(g)||isNaN(S)||isNaN(W)||isNaN(Y)||isNaN(ie)||isNaN(Ce)||!Ii(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return ie=Math.min(ie,.5*W),Ce=Math.min(Ce,.5*Y),this.lines([[W-2*ie,0],[ie*$e,0,ie,Ce-Ce*$e,ie,Ce],[0,Y-2*Ce],[0,Ce*$e,-ie*$e,Ce,-ie,Ce],[2*ie-W,0],[-ie*$e,0,-ie,-Ce*$e,-ie,-Ce],[0,2*Ce-Y],[0,-Ce*$e,ie*$e,-Ce,ie,-Ce]],g+ie,S,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(g,S,W,Y,ie){if(isNaN(g)||isNaN(S)||isNaN(W)||isNaN(Y)||!Ii(ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*W,ke=4/3*(Math.SQRT2-1)*Y;return Ml(g+W,S),Ns(g+W,S-ke,g+Ce,S-Y,g,S-Y),Ns(g-Ce,S-Y,g-W,S-ke,g-W,S),Ns(g-W,S+ke,g-Ce,S+Y,g,S+Y),Ns(g+Ce,S+Y,g+W,S+ke,g+W,S),Fl(ie),this},p.__private__.circle=p.circle=function(g,S,W,Y){if(isNaN(g)||isNaN(S)||isNaN(W)||!Ii(Y))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,S,W,W,Y)},p.setFont=function(g,S,W){return W&&(S=fe(S,W)),qe=Cu(g,S,{disableWarning:!1}),this};var ed=p.__private__.getFont=p.getFont=function(){return Ke[Cu.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,S,W={};for(g in et)if(et.hasOwnProperty(g))for(S in W[g]=[],et[g])et[g].hasOwnProperty(S)&&W[g].push(S);return W},p.addFont=function(g,S,W,Y,ie){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?ie=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(W=fe(W,Y)),xu.call(this,g,S,W,ie=ie||"Identity-H")};var Ro,jl=t.lineWidth||.200025,ht=p.__private__.getLineWidth=p.getLineWidth=function(){return jl},td=p.__private__.setLineWidth=p.setLineWidth=function(g){return jl=g,C(ne(K(g))+" w"),this};p.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(g,S){if(g=g||[],S=S||0,isNaN(S)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(W){return ne(K(W))}).join(" "),S=ne(K(S)),C("["+g+"] "+S+" d"),this};var nd=p.__private__.getLineHeight=p.getLineHeight=function(){return ae*Ro};p.__private__.getLineHeight=p.getLineHeight=function(){return ae*Ro};var rd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Ro=g),this},id=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Ro};rd(t.lineHeight);var Ki=p.__private__.getHorizontalCoordinate=function(g){return K(g)},Yi=p.__private__.getVerticalCoordinate=function(g){return T===B?g:ut[k].mediaBox.topRightY-ut[k].mediaBox.bottomLeftY-K(g)},sd=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return ne(Ki(g))},od=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return ne(Yi(g))},Pa=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return xi(Pa)},p.__private__.setStrokeColor=p.setDrawColor=function(g,S,W,Y){return Pa=ni({ch1:g,ch2:S,ch3:W,ch4:Y,pdfColorType:"draw",precision:2}),C(Pa),this};var Bl=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return xi(Bl)},p.__private__.setFillColor=p.setFillColor=function(g,S,W,Y){return Bl=ni({ch1:g,ch2:S,ch3:W,ch4:Y,pdfColorType:"fill",precision:2}),C(Bl),this};var Oo=t.textColor||"0 g",Na=p.__private__.getTextColor=p.getTextColor=function(){return xi(Oo)};p.__private__.setTextColor=p.setTextColor=function(g,S,W,Y){return Oo=ni({ch1:g,ch2:S,ch3:W,ch4:Y,pdfColorType:"text",precision:3}),this};var La=t.charSpace,ad=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(La||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return La=g,this};var Ul=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var S=p.CapJoinStyles[g];if(S===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ul=S,C(S+" J"),this};var ql=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var S=p.CapJoinStyles[g];if(S===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=S,C(S+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return C(ne(K(g))+" M"),this},p.GState=df,p.setGState=function(g){(g=typeof g=="string"?pt[mn[g]]:Do(null,g)).equals(Ln)||(C("/"+g.id+" gs"),Ln=g)};var Do=function(g,S){if(!g||!mn[g]){var W=!1;for(var Y in pt)if(pt.hasOwnProperty(Y)&&pt[Y].equals(S)){W=!0;break}if(W)S=pt[Y];else{var ie="GS"+(Object.keys(pt).length+1).toString(10);pt[ie]=S,S.id=ie}return g&&(mn[g]=S.id),Ot.publish("addGState",S),S}};p.addGState=function(g,S){return Do(g,S),this},p.saveGraphicsState=function(){return C("q"),yt.push({key:qe,size:ae,color:Oo}),this},p.restoreGraphicsState=function(){C("Q");var g=yt.pop();return qe=g.key,ae=g.size,Oo=g.color,Ln=null,this},p.setCurrentTransformationMatrix=function(g){return C(g.toString()+" cm"),this},p.comment=function(g){return C("#"+g),this};var Fo=function(g,S){var W=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(Ce){isNaN(Ce)||(W=parseFloat(Ce))}});var Y=S||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Y},set:function(Ce){isNaN(Ce)||(Y=parseFloat(Ce))}});var ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ie},set:function(Ce){ie=Ce.toString()}}),this},zl=function(g,S,W,Y){Fo.call(this,g,S),this.type="rect";var ie=W||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ie},set:function(ke){isNaN(ke)||(ie=parseFloat(ke))}});var Ce=Y||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(ke){isNaN(ke)||(Ce=parseFloat(ke))}}),this},ka=function(){this.page=Vt,this.currentPage=k,this.pages=Ee.slice(0),this.pagesContext=ut.slice(0),this.x=ze,this.y=St,this.matrix=xt,this.width=Tu(k),this.height=Ji(k),this.outputDestination=M,this.id="",this.objectNumber=-1};ka.prototype.restore=function(){Vt=this.page,k=this.currentPage,ut=this.pagesContext,Ee=this.pages,ze=this.x,St=this.y,xt=this.matrix,Ru(k,this.width),Xi(k,this.height),M=this.outputDestination};var Hl=function(g,S,W,Y,ie){Si.push(new ka),Vt=k=0,Ee=[],ze=g,St=S,xt=ie,Rl([W,Y])};for(var Mo in p.beginFormObject=function(g,S,W,Y,ie){return Hl(g,S,W,Y,ie),this},p.endFormObject=function(g){return function(S){if(Wi[S])Si.pop().restore();else{var W=new ka,Y="Xo"+(Object.keys(Qn).length+1).toString(10);W.id=Y,Wi[S]=Y,Qn[Y]=W,Ot.publish("addFormObject",W),Si.pop().restore()}}(g),this},p.doFormObject=function(g,S){var W=Qn[Wi[g]];return C("q"),C(S.toString()+" cm"),C("/"+W.id+" Do"),C("Q"),this},p.getFormObject=function(g){var S=Qn[Wi[g]];return{x:S.x,y:S.y,width:S.width,height:S.height,matrix:S.matrix}},p.save=function(g,S){return g=g||"generated.pdf",(S=S||{}).returnPromise=S.returnPromise||!1,S.returnPromise===!1?(ta(Lo(Gi()),g),typeof ta.unload=="function"&&lt.setTimeout&&setTimeout(ta.unload,911),this):new Promise(function(W,Y){try{var ie=ta(Lo(Gi()),g);typeof ta.unload=="function"&&lt.setTimeout&&setTimeout(ta.unload,911),W(ie)}catch(Ce){Y(Ce.message)}})},Ze.API)Ze.API.hasOwnProperty(Mo)&&(Mo==="events"&&Ze.API.events.length?function(g,S){var W,Y,ie;for(ie=S.length-1;ie!==-1;ie--)W=S[ie][0],Y=S[ie][1],g.subscribe.apply(g,[W].concat(typeof Y=="function"?[Y]:Y))}(Ot,Ze.API.events):p[Mo]=Ze.API[Mo]);function Tu(g){return ut[g].mediaBox.topRightX-ut[g].mediaBox.bottomLeftX}function Ru(g,S){ut[g].mediaBox.topRightX=S+ut[g].mediaBox.bottomLeftX}function Ji(g){return ut[g].mediaBox.topRightY-ut[g].mediaBox.bottomLeftY}function Xi(g,S){ut[g].mediaBox.topRightY=S+ut[g].mediaBox.bottomLeftY}var Ou=p.getPageWidth=function(g){return Tu(g=g||k)/Ge},Du=p.setPageWidth=function(g,S){Ru(g,S*Ge)},jo=p.getPageHeight=function(g){return Ji(g=g||k)/Ge},Fu=p.setPageHeight=function(g,S){Xi(g,S*Ge)};return p.internal={pdfEscape:Hr,getStyle:Lu,getFont:ed,getFontSize:ue,getCharSpace:ad,getTextColor:Na,getLineHeight:nd,getLineHeightFactor:id,getLineWidth:ht,write:_e,getHorizontalCoordinate:Ki,getVerticalCoordinate:Yi,getCoordinateString:sd,getVerticalCoordinateString:od,collections:{},newObject:cn,newAdditionalObject:Co,newObjectDeferred:Bn,newObjectDeferredBegin:Hn,getFilters:ri,putStream:zr,events:Ot,scaleFactor:Ge,pageSize:{getWidth:function(){return Ou(k)},setWidth:function(g){Du(k,g)},getHeight:function(){return jo(k)},setHeight:function(g){Fu(k,g)}},encryptionOptions:u,encryption:vn,getEncryptor:function(g){return u!==null?vn.encryptor(g,0):function(S){return S}},output:ii,getNumberOfPages:Eu,pages:Ee,out:C,f2:N,f3:U,getPageInfo:Dl,getPageInfoByObjId:Kf,getCurrentPageInfo:Yf,getPDFVersion:y,Point:Fo,Rectangle:zl,Matrix:it,hasHotfix:ko},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return Ou(k)},set:function(g){Du(k,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return jo(k)},set:function(g){Fu(k,g)},enumerable:!0,configurable:!0}),(function(g){for(var S=0,W=xe.length;S<W;S++){var Y=xu.call(this,g[S][0],g[S][1],g[S][2],xe[S][3],!0);d===!1&&(m[Y]=!0);var ie=g[S][0].split("-");Su({id:Y,fontName:ie[0],fontStyle:ie[1]||""})}Ot.publish("addFonts",{fonts:Ke,dictionary:et})}).call(p,xe),qe="F1",Au(i,n),Ot.publish("initialized"),p}Wa.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Wa.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wa.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Wa.prototype.processOwnerPassword=function(t,e){return fg(hg(e).substr(0,5),t)},Wa.prototype.encryptor=function(t,e){var n=hg(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return fg(n,r)}},df.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||zt(t)!==zt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ze.API={events:[]},Ze.version="3.0.3";var dn=Ze.API,Um=1,xa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ua=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dt=function(t){return t.toFixed(2)},Gs=function(t){return t.toFixed(5)};dn.__acroform__={};var Er=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Av=function(t){return t*Um},ki=function(t){var e=new lw,n=Ve.internal.getHeight(t)||0,r=Ve.internal.getWidth(t)||0;return e.BBox=[0,0,Number(dt(r)),Number(dt(n))],e},a8=dn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},l8=dn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},c8=dn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Sn=dn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return c8(t,e-1)},xn=dn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return a8(t,e-1)},An=dn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return l8(t,e-1)},u8=dn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(dt(l.lowerLeft_X)),Number(dt(l.lowerLeft_Y)),Number(dt(l.upperRight_X)),Number(dt(l.upperRight_Y))]},h8=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=dg(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+dt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ki(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},dg=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=n,o=Ve.internal.getHeight(t)||0;o=o<0?-o:o;var a=Ve.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(N,U,K){if(N+1<i.length){var G=U+" "+i[N+1][0];return gh(G,t,K).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,d=gh("3",t,s).height,m=t.multiline?o-s:(o-d)/2,p=m+=2,_=0,y=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+gh(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",R=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var T=!1;if(i[B].length!==1&&E!==i[B].length-1){if((d+2)*(R+2)+2>o)continue e;w+=i[B][E],T=!0,y=B,B--}else{w=(w+=i[B][E]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var ee=parseInt(B),ve=l(ee,w,s),fe=B>=i.length-1;if(ve&&!fe){w+=" ",E=0;continue}if(ve||fe){if(fe)y=ee;else if(t.multiline&&(d+2)*(R+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(R+2)+2>o)continue e;y=ee}}for(var ne="",V=_;V<=y;V++){var se=i[V];if(t.multiline){if(V===y){ne+=se[E]+" ",E=(E+1)%se.length;continue}if(V===_){ne+=se[se.length-1]+" ";continue}}ne+=se[0]+" "}switch(ne=ne.substr(ne.length-1)==" "?ne.substr(0,ne.length-1):ne,u=gh(ne,t,s).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=dt(c)+" "+dt(p)+` Td
`,e+="("+xa(ne)+`) Tj
`,e+=-dt(c)+` 0 Td
`,p=-(s+2),u=0,_=T?y:y+1,R++,w=""}break}return r.text=e,r.fontSize=s,r},gh=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},f8={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},d8=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},p8=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(f8)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&d8(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=u8(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Ve.createDefaultAppearanceStream(a),zt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=h8(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&function(y,E){for(var w in y)if(y.hasOwnProperty(w)){var R=w,B=y[w];E.internal.newObjectDeferredBegin(B.objId,!0),zt(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete y[R]}}(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},aw=dn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),zt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+xa(r(t[s].toString()))+")"):i+=t[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},pp=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+xa(r(t))+")"},Fi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Fi.prototype.toString=function(){return this.objId+" 0 R"},Fi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Fi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:aw(i,this.objId,this.scope)}):i instanceof Fi?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var lw=function(){Fi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Er(lw,Fi);var cw=function(){Fi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+xa(n(t))+")"}},set:function(n){t=n}})};Er(cw,Fi);var yi=function t(){Fi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Sn(e,3)},set:function(w){w?this.F=xn(e,3):this.F=An(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof pf)return;s="FieldObject"+t.FieldNum++}var w=function(R){return R};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+xa(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Um:c},set:function(w){c=w}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(w){u=w}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof pf||this instanceof oa))return pp(d,this.objId,this.scope)},set:function(w){w=w.toString(),d=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof zn==0?pp(m,this.objId,this.scope):m},set:function(w){w=w.toString(),m=this instanceof zn==0?w.substr(0,1)==="("?Ua(w.substr(1,w.length-2)):Ua(w):w}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn==1?Ua(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof zn==1?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof zn==0?pp(p,this.objId,this.scope):p},set:function(w){w=w.toString(),p=this instanceof zn==0?w.substr(0,1)==="("?Ua(w.substr(1,w.length-2)):Ua(w):w}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zn==1?Ua(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof zn==1?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(w){w=!!w,y=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(w){_=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,1)},set:function(w){w?this.Ff=xn(this.Ff,1):this.Ff=An(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,2)},set:function(w){w?this.Ff=xn(this.Ff,2):this.Ff=An(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,3)},set:function(w){w?this.Ff=xn(this.Ff,3):this.Ff=An(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');E=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(E){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:E=2;break;case"center":case 1:E=1;break;default:E=0}}})};Er(yi,Fi);var ol=function(){yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aw(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,18)},set:function(n){n?this.Ff=xn(this.Ff,18):this.Ff=An(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=xn(this.Ff,19):this.Ff=An(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,20)},set:function(n){n?(this.Ff=xn(this.Ff,20),e.sort()):this.Ff=An(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,22)},set:function(n){n?this.Ff=xn(this.Ff,22):this.Ff=An(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(n){n?this.Ff=xn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,27)},set:function(n){n?this.Ff=xn(this.Ff,27):this.Ff=An(this.Ff,27)}}),this.hasAppearanceStream=!1};Er(ol,yi);var al=function(){ol.call(this),this.fontName="helvetica",this.combo=!1};Er(al,ol);var ll=function(){al.call(this),this.combo=!0};Er(ll,al);var Nh=function(){ll.call(this),this.edit=!0};Er(Nh,ll);var zn=function(){yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,15)},set:function(n){n?this.Ff=xn(this.Ff,15):this.Ff=An(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,16)},set:function(n){n?this.Ff=xn(this.Ff,16):this.Ff=An(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,17)},set:function(n){n?this.Ff=xn(this.Ff,17):this.Ff=An(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(n){n?this.Ff=xn(this.Ff,26):this.Ff=An(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+xa(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){zt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Er(zn,yi);var Lh=function(){zn.call(this),this.pushButton=!0};Er(Lh,zn);var cl=function(){zn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Er(cl,zn);var pf=function(){var t,e;yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+xa(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){zt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ve.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Er(pf,yi),cl.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},cl.prototype.createOption=function(t){var e=new pf;return e.Parent=this,e.optionName=t,this.Kids.push(e),g8.call(this.scope,e),e};var kh=function(){zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ve.CheckBox.createAppearanceStream()};Er(kh,zn);var oa=function(){yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,13)},set:function(e){e?this.Ff=xn(this.Ff,13):this.Ff=An(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,21)},set:function(e){e?this.Ff=xn(this.Ff,21):this.Ff=An(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,23)},set:function(e){e?this.Ff=xn(this.Ff,23):this.Ff=An(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,24)},set:function(e){e?this.Ff=xn(this.Ff,24):this.Ff=An(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,25)},set:function(e){e?this.Ff=xn(this.Ff,25):this.Ff=An(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,26)},set:function(e){e?this.Ff=xn(this.Ff,26):this.Ff=An(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Er(oa,yi);var Th=function(){oa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Sn(this.Ff,14)},set:function(t){t?this.Ff=xn(this.Ff,14):this.Ff=An(this.Ff,14)}}),this.password=!0};Er(Th,oa);var Ve={CheckBox:{createAppearanceStream:function(){return{N:{On:Ve.CheckBox.YesNormal},D:{On:Ve.CheckBox.YesPushDown,Off:Ve.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=dg(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+dt(Ve.internal.getWidth(t))+" "+dt(Ve.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+dt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ve.internal.getHeight(t),o=Ve.internal.getWidth(t),a=dg(t,t.caption);return i.push("1 g"),i.push("0 0 "+dt(o)+" "+dt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+dt(o-1)+" "+dt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+dt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ve.internal.getWidth(t))+" "+dt(Ve.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Circle.YesNormal,e.D[t]=Ve.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ve.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Gs(Ve.internal.getWidth(t)/2)+" "+Gs(Ve.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ve.internal.Bezier_C).toFixed(5)),o=Number((r*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gs(Ve.internal.getWidth(t)/2)+" "+Gs(Ve.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Gs(Ve.internal.getWidth(t)/2)+" "+Gs(Ve.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Ve.internal.getWidth(t)<=Ve.internal.getHeight(t)?Ve.internal.getWidth(t)/4:Ve.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ve.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Gs(Ve.internal.getWidth(t)/2)+" "+Gs(Ve.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ve.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ve.RadioButton.Cross.YesNormal,e.D[t]=Ve.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ki(t);e.scope=t.scope;var n=[],r=Ve.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+dt(Ve.internal.getWidth(t)-2)+" "+dt(Ve.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(dt(r.x1.x)+" "+dt(r.x1.y)+" m"),n.push(dt(r.x2.x)+" "+dt(r.x2.y)+" l"),n.push(dt(r.x4.x)+" "+dt(r.x4.y)+" m"),n.push(dt(r.x3.x)+" "+dt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=Ve.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+dt(Ve.internal.getWidth(t))+" "+dt(Ve.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+dt(Ve.internal.getWidth(t)-2)+" "+dt(Ve.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(dt(n.x1.x)+" "+dt(n.x1.y)+" m"),r.push(dt(n.x2.x)+" "+dt(n.x2.y)+" l"),r.push(dt(n.x4.x)+" "+dt(n.x4.y)+" m"),r.push(dt(n.x3.x)+" "+dt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ki(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+dt(Ve.internal.getWidth(t))+" "+dt(Ve.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ve.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ve.internal.getWidth(t),n=Ve.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ve.internal.getWidth=function(t){var e=0;return zt(t)==="object"&&(e=Av(t.Rect[2])),e},Ve.internal.getHeight=function(t){var e=0;return zt(t)==="object"&&(e=Av(t.Rect[3])),e};var g8=dn.addField=function(t){if(p8(this,t),!(t instanceof yi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};dn.AcroFormChoiceField=ol,dn.AcroFormListBox=al,dn.AcroFormComboBox=ll,dn.AcroFormEditBox=Nh,dn.AcroFormButton=zn,dn.AcroFormPushButton=Lh,dn.AcroFormRadioButton=cl,dn.AcroFormCheckBox=kh,dn.AcroFormTextField=oa,dn.AcroFormPasswordField=Th,dn.AcroFormAppearance=Ve,dn.AcroForm={ChoiceField:ol,ListBox:al,ComboBox:ll,EditBox:Nh,Button:zn,PushButton:Lh,RadioButton:cl,CheckBox:kh,TextField:oa,PasswordField:Th,Appearance:Ve},Ze.AcroForm={ChoiceField:ol,ListBox:al,ComboBox:ll,EditBox:Nh,Button:zn,PushButton:Lh,RadioButton:cl,CheckBox:kh,TextField:oa,PasswordField:Th,Appearance:Ve};Ze.AcroForm;function uw(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(N,U){var K,G,pe,be,he,te=n;if((U=U||n)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(ve(N))for(he in r)for(pe=r[he],K=0;K<pe.length;K+=1){for(be=!0,G=0;G<pe[K].length;G+=1)if(pe[K][G]!==void 0&&pe[K][G]!==N[G]){be=!1;break}if(be===!0){te=he;break}}else for(he in r)for(pe=r[he],K=0;K<pe.length;K+=1){for(be=!0,G=0;G<pe[K].length;G+=1)if(pe[K][G]!==void 0&&pe[K][G]!==N.charCodeAt(G)){be=!1;break}if(be===!0){te=he;break}}return te===n&&U!==n&&(te=U),te},s=function N(U){for(var K=this.internal.write,G=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:U.width}),be.push({key:"Height",value:U.height}),U.colorSpace===w.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===w.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)&&U.transparency.length>0){for(var he="",te=0,we=U.transparency.length;te<we;te++)he+=U.transparency[te]+" "+U.transparency[te]+" ";be.push({key:"Mask",value:"["+he+"]"})}U.sMask!==void 0&&be.push({key:"SMask",value:U.objectId+1+" 0 R"});var Te=U.filter!==void 0?["/"+U.filter]:void 0;if(G({data:U.data,additionalKeyValues:be,alreadyAppliedFilters:Te,objectId:U.objectId}),K("endobj"),"sMask"in U&&U.sMask!==void 0){var Ne,I=(Ne=U.sMaskBitsPerComponent)!==null&&Ne!==void 0?Ne:U.bitsPerComponent,k={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:U.sMask};"filter"in U&&(k.decodeParameters="/Predictor ".concat(U.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(U.width),k.filter=U.filter),N.call(this,k)}if(U.colorSpace===w.INDEXED){var F=this.internal.newObject();G({data:ne(new Uint8Array(U.palette)),objectId:F}),K("endobj")}},o=function(){var N=this.internal.collections[e+"images"];for(var U in N)s.call(this,N[U])},a=function(){var N,U=this.internal.collections[e+"images"],K=this.internal.write;for(var G in U)K("/I"+(N=U[G]).index,N.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var N=this.internal.collections[e+"images"];return l.call(this),N},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},d=function(N){return typeof t["process"+N.toUpperCase()]=="function"},m=function(N){return zt(N)==="object"&&N.nodeType===1},p=function(N,U){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var K=""+N.getAttribute("src");if(K.indexOf("data:image/")===0)return Ph(unescape(K).split("base64,").pop());var G=t.loadFile(K,!0);if(G!==void 0)return G}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var pe;switch(U){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return Ph(N.toDataURL(pe,1).split("base64,").pop())}},_=function(N){var U=this.internal.collections[e+"images"];if(U){for(var K in U)if(N===U[K].alias)return U[K]}},y=function(N,U,K){return N||U||(N=-96,U=-96),N<0&&(N=-1*K.width*72/N/this.internal.scaleFactor),U<0&&(U=-1*K.height*72/U/this.internal.scaleFactor),N===0&&(N=U*K.width/K.height),U===0&&(U=N*K.height/K.width),[N,U]},E=function(N,U,K,G,pe,be){var he=y.call(this,K,G,pe),te=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,Te=c.call(this);if(K=he[0],G=he[1],Te[pe.index]=pe,be){be*=Math.PI/180;var Ne=Math.cos(be),I=Math.sin(be),k=function($){return $.toFixed(4)},F=[k(Ne),k(I),k(-1*I),k(Ne),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,te(N),we(U+G),"cm"].join(" ")),this.internal.write(F.join(" ")),this.internal.write([te(K),"0","0",te(G),"0","0","cm"].join(" "))):this.internal.write([te(K),"0","0",te(G),te(N),we(U+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},w=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(N){var U,K,G=0;if(typeof N=="string")for(K=N.length,U=0;U<K;U++)G=(G<<5)-G+N.charCodeAt(U),G|=0;else if(ve(N))for(K=N.byteLength/2,U=0;U<K;U++)G=(G<<5)-G+N[U],G|=0;return G},T=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var U=!0;return N.length===0&&(U=!1),N.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(U=!1),U},ee=t.__addimage__.extractImageFromDataUrl=function(N){if(N==null||!(N=N.trim()).startsWith("data:"))return null;var U=N.indexOf(",");return U<0?null:N.substring(0,U).trim().endsWith("base64")?N.substring(U+1):null};t.__addimage__.isArrayBuffer=function(N){return N instanceof ArrayBuffer};var ve=t.__addimage__.isArrayBufferView=function(N){return N instanceof Int8Array||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array},fe=t.__addimage__.binaryStringToUint8Array=function(N){for(var U=N.length,K=new Uint8Array(U),G=0;G<U;G++)K[G]=N.charCodeAt(G);return K},ne=t.__addimage__.arrayBufferToBinaryString=function(N){for(var U="",K=ve(N)?N:new Uint8Array(N),G=0;G<K.length;G+=8192)U+=String.fromCharCode.apply(null,K.subarray(G,G+8192));return U};t.addImage=function(){var N,U,K,G,pe,be,he,te,we;if(typeof arguments[1]=="number"?(U=n,K=arguments[1],G=arguments[2],pe=arguments[3],be=arguments[4],he=arguments[5],te=arguments[6],we=arguments[7]):(U=arguments[1],K=arguments[2],G=arguments[3],pe=arguments[4],be=arguments[5],he=arguments[6],te=arguments[7],we=arguments[8]),zt(N=arguments[0])==="object"&&!m(N)&&"imageData"in N){var Te=N;N=Te.imageData,U=Te.format||U||n,K=Te.x||K||0,G=Te.y||G||0,pe=Te.w||Te.width||pe,be=Te.h||Te.height||be,he=Te.alias||he,te=Te.compression||te,we=Te.rotation||Te.angle||we}var Ne=this.internal.getFilters();if(te===void 0&&Ne.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(K)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=V.call(this,N,U,he,te);return E.call(this,K,G,pe,be,I,we),this};var V=function(N,U,K,G){var pe,be,he;if(typeof N=="string"&&i(N)===n){N=unescape(N);var te=se(N,!1);(te!==""||(te=t.loadFile(N,!0))!==void 0)&&(N=te)}if(m(N)&&(N=p(N,U)),U=i(N,U),!d(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((he=K)==null||he.length===0)&&(K=function(we){return typeof we=="string"||ve(we)?B(we):ve(we.data)?B(we.data):null}(N)),(pe=_.call(this,K))||(N instanceof Uint8Array||U==="RGBA"||(be=N,N=fe(N)),pe=this["process"+U.toUpperCase()](N,u.call(this),K,function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in t.image_compression?we:R.NONE}(G),be)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},se=t.__addimage__.convertBase64ToBinaryString=function(N,U){U=typeof U!="boolean"||U;var K,G="";if(typeof N=="string"){var pe;K=(pe=ee(N))!==null&&pe!==void 0?pe:N;try{G=Ph(K)}catch(be){if(U)throw T(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};t.getImageProperties=function(N){var U,K,G="";if(m(N)&&(N=p(N)),typeof N=="string"&&i(N)===n&&((G=se(N,!1))===""&&(G=t.loadFile(N)||""),N=G),K=i(N),!d(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(N instanceof Uint8Array||(N=fe(N)),!(U=this["process"+K.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=K,U}})(Ze.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ze.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var m=0;m<c.length;m++){r=c[m];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(y.objId),R=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(R))+") >>",y.content=s;var B=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(y.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var T=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+T+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var ee=this.annotations._nameMap[r.options.name];r.options.pageNumber=ee.page,r.options.top=ee.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var ve=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ve+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},a=t.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&s(y)&&e[y.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(y){var E=0,w=n,R="",B=0;for(E=0;E<y.length;E+=1)w[y.charCodeAt(E)]!==void 0?(B++,typeof(w=w[y.charCodeAt(E)])=="number"&&(R+=String.fromCharCode(w),w=n,B=0),E===y.length-1&&(w=n,R+=y.charAt(E-(B-1)),E-=B-1,B=0)):(w=n,R+=y.charAt(E-B),E-=B,B=0);return R};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(y,E,w){return o(y)?s(y)===!1?-1:!c(y)||!o(E)&&!o(w)||!o(w)&&a(E)||a(y)&&!o(E)||a(y)&&l(E)||a(y)&&a(E)?0:u(y)&&o(E)&&!a(E)&&o(w)&&c(w)?3:a(y)||!o(w)?1:2:-1},p=function(y){var E=0,w=0,R=0,B="",T="",ee="",ve=(y=y||"").split("\\s+"),fe=[];for(E=0;E<ve.length;E+=1){for(fe.push(""),w=0;w<ve[E].length;w+=1)B=ve[E][w],T=ve[E][w-1],ee=ve[E][w+1],o(B)?(R=m(B,T,ee),fe[E]+=R!==-1?String.fromCharCode(e[B.charCodeAt(0)][R]):B):fe[E]+=B;fe[E]=d(fe[E])}return fe.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var y,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(E)){var R=0;for(w=[],R=0;R<E.length;R+=1)Array.isArray(E[R])?w.push([p(E[R][0]),E[R][1],E[R][2]]):w.push([p(E[R])]);y=w}else y=p(E);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",_])}(Ze.API),Ze.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(y){_=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),m=c.scaleFactor||this.internal.scaleFactor,p=0,_=0,y=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,T){return B.concat(E.splitTextToSize(T,w))},[])):l=Array.isArray(l)?l:[l];for(var R=0;R<l.length;R++)p<(y=this.getStringUnitWidth(l[R],{font:d})*u)&&(p=y);return p!==0&&(_=l.length),{w:p/=m,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,d,m){if(r.call(this),!u)throw new Error("No data for PDF table.");var p,_,y,E,w=[],R=[],B=[],T={},ee={},ve=[],fe=[],ne=(m=m||{}).autoSize||!1,V=m.printHeaders!==!1,se=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,N=m.margins||Object.assign({width:this.getPageWidth()},e),U=typeof m.padding=="number"?m.padding:3,K=m.headerBackgroundColor||"#c8c8c8",G=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=G,this.setFontSize(se),d==null)R=w=Object.keys(u[0]),B=w.map(function(){return"left"});else if(Array.isArray(d)&&zt(d[0])==="object")for(w=d.map(function(Te){return Te.name}),R=d.map(function(Te){return Te.prompt||Te.name||""}),B=d.map(function(Te){return Te.align||"left"}),p=0;p<d.length;p+=1)ee[d[p].name]=.7499990551181103*d[p].width;else Array.isArray(d)&&typeof d[0]=="string"&&(R=w=d,B=w.map(function(){return"left"}));if(ne||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<w.length;p+=1){for(T[E=w[p]]=u.map(function(Te){return Te[E]}),this.setFont(void 0,"bold"),ve.push(this.getTextDimensions(R[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=T[E],this.setFont(void 0,"normal"),y=0;y<_.length;y+=1)ve.push(this.getTextDimensions(_[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ee[E]=Math.max.apply(null,ve)+U+U,ve=[]}if(V){var pe={};for(p=0;p<w.length;p+=1)pe[w[p]]={},pe[w[p]].text=R[p],pe[w[p]].align=B[p];var be=a.call(this,pe,ee);fe=w.map(function(Te){return new s(l,c,ee[Te],be,pe[Te].text,void 0,pe[Te].align)}),this.setTableHeaderRow(fe),this.printHeaderRow(1,!1)}var he=d.reduce(function(Te,Ne){return Te[Ne.name]=Ne.align,Te},{});for(p=0;p<u.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:u[p]},this);var te=a.call(this,u[p],ee);for(y=0;y<w.length;y+=1){var we=u[p][w[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:y,data:we},this),o.call(this,new s(l,c,ee[w[y]],te,we,p+2,he[w[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/m+u+u},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,m.push(u)),u.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(_)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(Ze.API);var hw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],pg=uw(fw),dw=[100,200,300,400,500,600,700,800,900],m8=uw(dw);function gp(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return hw[s=s||"normal"]?s:"normal"}(t.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(t.weight),i=function(s){return typeof pg[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Iv(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var v8={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ev={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cv(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Pv(t){return t.trimLeft()}function b8(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function _8(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var mh,Nv,Lv,qa,vh,kv,Tv,Rv,mp=["times"];function Ov(t,e,n,r,i){var s=4,o=Fv;switch(i){case Ze.API.image_compression.FAST:s=1,o=Dv;break;case Ze.API.image_compression.MEDIUM:s=6,o=Mv;break;case Ze.API.image_compression.SLOW:s=9,o=jv}t=function(l,c,u,d){for(var m,p=l.length/c,_=new Uint8Array(l.length+p),y=[y8,Dv,Fv,Mv,jv],E=0;E<p;E+=1){var w=E*c,R=l.subarray(w,w+c);if(d)_.set(d(R,u,m),w+E);else{for(var B=y.length,T=[],ee=0;ee<B;ee+=1)T[ee]=y[ee](R,u,m);var ve=S8(T.concat());_.set(T[ve],w+E)}m=R}return _}(t,e,Math.ceil(n*r/8),o);var a=ag(t,{level:s});return Ze.API.__addimage__.arrayBufferToBinaryString(a)}function y8(t){var e=Array.apply([],t);return e.unshift(0),e}function Dv(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=t[i-e]||0;r[i+1]=t[i]-s+256&255}return r}function Fv(t,e,n){var r=t.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var o=n&&n[s]||0;i[s+1]=t[s]-o+256&255}return i}function Mv(t,e,n){var r=t.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var o=t[s-e]||0,a=n&&n[s]||0;i[s+1]=t[s]+256-(o+a>>>1)&255}return i}function jv(t,e,n){var r=t.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var o=w8(t[s-e]||0,n&&n[s]||0,n&&n[s-e]||0);i[s+1]=t[s]-o+256&255}return i}function w8(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),s=Math.abs(t+e-n-n);return r<=i&&r<=s?t:i<=s?e:n}function S8(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function vp(t,e,n){var r=e*n,i=Math.floor(r/8),s=16-(r-8*i+n),o=(1<<n)-1;return pw(t,i)>>s&o}function Bv(t,e,n,r){var i=n*r,s=Math.floor(i/8),o=16-(i-8*s+r),a=(1<<r)-1,l=(e&a)<<o;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var m=d>>8&255;c.setUint8(u,m)}})(t,s,pw(t,s)&~(a<<o)&65535|l)}function pw(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function x8(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var c=!0,u=[],d=0,m=null,p=0,_=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];d=t[e++]|t[e++]<<8,m=t[e++],1&y||(m=null),p=y>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,R=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,T=t[e++],ee=T>>6&1,ve=1<<1+(7&T),fe=a,ne=l,V=!1;T>>7&&(V=!0,fe=e,ne=ve,e+=3*ve);var se=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}u.push({x:E,y:w,width:R,height:B,has_local_palette:V,palette_offset:fe,palette_size:ne,data_offset:se,data_length:e-se,transparent_index:m,interlaced:!!ee,delay:d,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(U){if(U<0||U>=u.length)throw new Error("Frame index out of range.");return u[U]},this.decodeAndBlitFrameBGRA=function(U,K){var G=this.frameInfo(U),pe=G.width*G.height,be=new Uint8Array(pe);Uv(t,G.data_offset,be,pe);var he=G.palette_offset,te=G.transparent_index;te===null&&(te=256);var we=G.width,Te=n-we,Ne=we,I=4*(G.y*n+G.x),k=4*((G.y+G.height)*n+G.x),F=I,$=4*Te;G.interlaced===!0&&($+=4*n*7);for(var X=8,q=0,Z=be.length;q<Z;++q){var J=be[q];if(Ne===0&&(Ne=we,(F+=$)>=k&&($=4*Te+4*n*(X-1),F=I+(we+Te)*(X<<1),X>>=1)),J===te)F+=4;else{var oe=t[he+3*J],Ee=t[he+3*J+1],O=t[he+3*J+2];K[F++]=O,K[F++]=Ee,K[F++]=oe,K[F++]=255}--Ne}},this.decodeAndBlitFrameRGBA=function(U,K){var G=this.frameInfo(U),pe=G.width*G.height,be=new Uint8Array(pe);Uv(t,G.data_offset,be,pe);var he=G.palette_offset,te=G.transparent_index;te===null&&(te=256);var we=G.width,Te=n-we,Ne=we,I=4*(G.y*n+G.x),k=4*((G.y+G.height)*n+G.x),F=I,$=4*Te;G.interlaced===!0&&($+=4*n*7);for(var X=8,q=0,Z=be.length;q<Z;++q){var J=be[q];if(Ne===0&&(Ne=we,(F+=$)>=k&&($=4*Te+4*n*(X-1),F=I+(we+Te)*(X<<1),X>>=1)),J===te)F+=4;else{var oe=t[he+3*J],Ee=t[he+3*J+1],O=t[he+3*J+2];K[F++]=oe,K[F++]=Ee,K[F++]=O,K[F++]=255}--Ne}}}function Uv(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,c=(1<<l)-1,u=0,d=0,m=0,p=t[e++],_=new Int32Array(4096),y=null;;){for(;u<16&&p!==0;)d|=t[e++]<<u,u+=8,p===1?p=t[e++]:--p;if(u<l)break;var E=d&c;if(d>>=l,u-=l,E!==s){if(E===o)break;for(var w=E<a?E:y,R=0,B=w;B>s;)B=_[B]>>8,++R;var T=B;if(m+R+(w!==E?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[m++]=T;var ee=m+=R;for(w!==E&&(n[m++]=T),B=w;R--;)B=_[B],n[--ee]=255&B,B>>=8;y!==null&&a<4096&&(_[a++]=y<<8|T,a>=c+1&&l<12&&(++l,c=c<<1|1)),y=E}else a=o+1,c=(1<<(l=i+1))-1,y=null}return m!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function bp(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),m=new Array(65535),p=new Array(64),_=new Array(64),y=[],E=0,w=7,R=new Array(64),B=new Array(64),T=new Array(64),ee=new Array(256),ve=new Array(2048),fe=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],ne=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(I,k){for(var F=0,$=0,X=new Array,q=1;q<=16;q++){for(var Z=1;Z<=I[q];Z++)X[k[$]]=[],X[k[$]][0]=F,X[k[$]][1]=q,$++,F++;F*=2}return X}function he(I){for(var k=I[0],F=I[1]-1;F>=0;)k&1<<F&&(E|=1<<w),F--,--w<0&&(E==255?(te(255),te(0)):te(E),w=7,E=0)}function te(I){y.push(I)}function we(I){te(I>>8&255),te(255&I)}function Te(I,k,F,$,X){for(var q,Z=X[0],J=X[240],oe=function(ae,ye){var ue,Oe,Ae,Me,De,Be,tt,Ue,qe,Ge,ze=0;for(qe=0;qe<8;++qe){ue=ae[ze],Oe=ae[ze+1],Ae=ae[ze+2],Me=ae[ze+3],De=ae[ze+4],Be=ae[ze+5],tt=ae[ze+6];var St=ue+(Ue=ae[ze+7]),xt=ue-Ue,Ke=Oe+tt,et=Oe-tt,yt=Ae+Be,rt=Ae-Be,Et=Me+De,pt=Me-De,mn=St+Et,Ln=St-Et,Vt=Ke+yt,ut=Ke-yt;ae[ze]=mn+Vt,ae[ze+4]=mn-Vt;var Ot=.707106781*(ut+Ln);ae[ze+2]=Ln+Ot,ae[ze+6]=Ln-Ot;var Eo=.382683433*((mn=pt+rt)-(ut=et+xt)),Qn=.5411961*mn+Eo,Wi=1.306562965*ut+Eo,Si=.707106781*(Vt=rt+et),it=xt+Si,Vi=xt-Si;ae[ze+5]=Vi+Qn,ae[ze+3]=Vi-Qn,ae[ze+1]=it+Wi,ae[ze+7]=it-Wi,ze+=8}for(ze=0,qe=0;qe<8;++qe){ue=ae[ze],Oe=ae[ze+8],Ae=ae[ze+16],Me=ae[ze+24],De=ae[ze+32],Be=ae[ze+40],tt=ae[ze+48];var $i=ue+(Ue=ae[ze+56]),Ur=ue-Ue,qr=Oe+tt,cn=Oe-tt,Bn=Ae+Be,Hn=Ae-Be,Co=Me+De,Cs=Me-De,ti=$i+Co,xi=$i-Co,ni=qr+Bn,ri=qr-Bn;ae[ze]=ti+ni,ae[ze+32]=ti-ni;var zr=.707106781*(ri+xi);ae[ze+16]=xi+zr,ae[ze+48]=xi-zr;var Po=.382683433*((ti=Cs+Hn)-(ri=cn+Ur)),Ai=.5411961*ti+Po,No=1.306562965*ri+Po,Aa=.707106781*(ni=Hn+cn),Ia=Ur+Aa,Ea=Ur-Aa;ae[ze+40]=Ea+Ai,ae[ze+24]=Ea-Ai,ae[ze+8]=Ia+No,ae[ze+56]=Ia-No,ze++}for(qe=0;qe<64;++qe)Ge=ae[qe]*ye[qe],p[qe]=Ge>0?Ge+.5|0:Ge-.5|0;return p}(I,k),Ee=0;Ee<64;++Ee)_[fe[Ee]]=oe[Ee];var O=_[0]-F;F=_[0],O==0?he($[0]):(he($[m[q=32767+O]]),he(d[q]));for(var M=63;M>0&&_[M]==0;)M--;if(M==0)return he(Z),F;for(var j,C=1;C<=M;){for(var _e=C;_[C]==0&&C<=M;)++C;var me=C-_e;if(me>=16){j=me>>4;for(var xe=1;xe<=j;++xe)he(J);me&=15}q=32767+_[C],he(X[(me<<4)+m[q]]),he(d[q]),C++}return M!=63&&he(Z),F}function Ne(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(k){for(var F=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$=0;$<64;$++){var X=o((F[$]*k+50)/100);X=Math.min(Math.max(X,1),255),a[fe[$]]=X}for(var q=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var J=o((q[Z]*k+50)/100);J=Math.min(Math.max(J,1),255),l[fe[Z]]=J}for(var oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,O=0;O<8;O++)for(var M=0;M<8;M++)c[Ee]=1/(a[fe[Ee]]*oe[O]*oe[M]*8),u[Ee]=1/(l[fe[Ee]]*oe[O]*oe[M]*8),Ee++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,k){k&&Ne(k),y=new Array,E=0,w=7,we(65496),we(65504),we(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),we(1),we(1),te(0),te(0),function(){we(65499),we(132),te(0);for(var Oe=0;Oe<64;Oe++)te(a[Oe]);te(1);for(var Ae=0;Ae<64;Ae++)te(l[Ae])}(),function(Oe,Ae){we(65472),we(17),te(8),we(Ae),we(Oe),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(I.width,I.height),function(){we(65476),we(418),te(0);for(var Oe=0;Oe<16;Oe++)te(ne[Oe+1]);for(var Ae=0;Ae<=11;Ae++)te(V[Ae]);te(16);for(var Me=0;Me<16;Me++)te(se[Me+1]);for(var De=0;De<=161;De++)te(N[De]);te(1);for(var Be=0;Be<16;Be++)te(U[Be+1]);for(var tt=0;tt<=11;tt++)te(K[tt]);te(17);for(var Ue=0;Ue<16;Ue++)te(G[Ue+1]);for(var qe=0;qe<=161;qe++)te(pe[qe])}(),we(65498),we(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var F=0,$=0,X=0;E=0,w=7,this.encode.displayName="_encode_";for(var q,Z,J,oe,Ee,O,M,j,C,_e=I.data,me=I.width,xe=I.height,ae=4*me,ye=0;ye<xe;){for(q=0;q<ae;){for(Ee=ae*ye+q,M=-1,j=0,C=0;C<64;C++)O=Ee+(j=C>>3)*ae+(M=4*(7&C)),ye+j>=xe&&(O-=ae*(ye+1+j-xe)),q+M>=ae&&(O-=q+M-ae+4),Z=_e[O++],J=_e[O++],oe=_e[O++],R[C]=(ve[Z]+ve[J+256|0]+ve[oe+512|0]>>16)-128,B[C]=(ve[Z+768|0]+ve[J+1024|0]+ve[oe+1280|0]>>16)-128,T[C]=(ve[Z+1280|0]+ve[J+1536|0]+ve[oe+1792|0]>>16)-128;F=Te(R,c,F,e,r),$=Te(B,u,$,n,i),X=Te(T,u,X,n,i),q+=32}ye+=8}if(w>=0){var ue=[];ue[1]=w+1,ue[0]=(1<<w+1)-1,he(ue)}return we(65497),new Uint8Array(y)},t=t||50,function(){for(var I=String.fromCharCode,k=0;k<256;k++)ee[k]=I(k)}(),e=be(ne,V),n=be(U,K),r=be(se,N),i=be(G,pe),function(){for(var I=1,k=2,F=1;F<=15;F++){for(var $=I;$<k;$++)m[32767+$]=F,d[32767+$]=[],d[32767+$][1]=F,d[32767+$][0]=$;for(var X=-(k-1);X<=-I;X++)m[32767+X]=F,d[32767+X]=[],d[32767+X][1]=F,d[32767+X][0]=k-1+X;I<<=1,k<<=1}}(),function(){for(var I=0;I<256;I++)ve[I]=19595*I,ve[I+256|0]=38470*I,ve[I+512|0]=7471*I+32768,ve[I+768|0]=-11059*I,ve[I+1024|0]=-21709*I,ve[I+1280|0]=32768*I+8421375,ve[I+1536|0]=-27439*I,ve[I+1792|0]=-5329*I}(),Ne(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function li(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function qv(t){function e(V){if(!V)throw Error("assert :P")}function n(V,se,N){for(var U=0;4>U;U++)if(V[se+U]!=N.charCodeAt(U))return!0;return!1}function r(V,se,N,U,K){for(var G=0;G<K;G++)V[se+G]=N[U+G]}function i(V,se,N,U){for(var K=0;K<U;K++)V[se+K]=N}function s(V){return new Int32Array(V)}function o(V,se){for(var N=[],U=0;U<V;U++)N.push(new se);return N}function a(V,se){var N=[];return function U(K,G,pe){for(var be=pe[G],he=0;he<be&&(K.push(pe.length>G+1?[]:new se),!(pe.length<G+1));he++)U(K[he],G+1,pe)}(N,0,V),N}var l=function(){var V=this;function se(h,f){for(var v=1<<f-1>>>0;h&v;)v>>>=1;return v?(h&v-1)+v:h}function N(h,f,v,b,x){e(!(b%v));do h[f+(b-=v)]=x;while(0<b)}function U(h,f,v,b,x){if(e(2328>=x),512>=x)var A=s(512);else if((A=s(x))==null)return 0;return function(P,L,D,z,Q,ge){var H,re,ce=L,Se=1<<D,de=s(16),Ie=s(16);for(e(Q!=0),e(z!=null),e(P!=null),e(0<D),re=0;re<Q;++re){if(15<z[re])return 0;++de[z[re]]}if(de[0]==Q)return 0;for(Ie[1]=0,H=1;15>H;++H){if(de[H]>1<<H)return 0;Ie[H+1]=Ie[H]+de[H]}for(re=0;re<Q;++re)H=z[re],0<z[re]&&(ge[Ie[H]++]=re);if(Ie[15]==1)return(z=new K).g=0,z.value=ge[0],N(P,ce,1,Se,z),Se;var Pe,Re=-1,Le=Se-1,Qe=0,We=1,vt=1,Ye=1<<D;for(re=0,H=1,Q=2;H<=D;++H,Q<<=1){if(We+=vt<<=1,0>(vt-=de[H]))return 0;for(;0<de[H];--de[H])(z=new K).g=H,z.value=ge[re++],N(P,ce+Qe,Q,Ye,z),Qe=se(Qe,H)}for(H=D+1,Q=2;15>=H;++H,Q<<=1){if(We+=vt<<=1,0>(vt-=de[H]))return 0;for(;0<de[H];--de[H]){if(z=new K,(Qe&Le)!=Re){for(ce+=Ye,Pe=1<<(Re=H)-D;15>Re&&!(0>=(Pe-=de[Re]));)++Re,Pe<<=1;Se+=Ye=1<<(Pe=Re-D),P[L+(Re=Qe&Le)].g=Pe+D,P[L+Re].value=ce-L-Re}z.g=H-D,z.value=ge[re++],N(P,ce+(Qe>>D),Q,Ye,z),Qe=se(Qe,H)}}return We!=2*Ie[15]-1?0:Se}(h,f,v,b,x,A)}function K(){this.value=this.g=0}function G(){this.value=this.g=0}function pe(){this.G=o(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o($o,G)}function be(h,f,v,b){e(h!=null),e(f!=null),e(2147483648>b),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=f,h.pa=v,h.Jd=f,h.Yc=v+b,h.Zc=4<=b?v+b-4+1:v,Z(h)}function he(h,f){for(var v=0;0<f--;)v|=oe(h,128)<<f;return v}function te(h,f){var v=he(h,f);return J(h)?-v:v}function we(h,f,v,b){var x,A=0;for(e(h!=null),e(f!=null),e(4294967288>b),h.Sb=b,h.Ra=0,h.u=0,h.h=0,4<b&&(b=4),x=0;x<b;++x)A+=f[v+x]<<8*x;h.Ra=A,h.bb=b,h.oa=f,h.pa=v}function Te(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Ts-8>>>0,++h.bb,h.u-=8;$(h)&&(h.h=1,h.u=0)}function Ne(h,f){if(e(0<=f),!h.h&&f<=Pr){var v=F(h)&Cr[f];return h.u+=f,Te(h),v}return h.h=1,h.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(h){return h.Ra>>>(h.u&Ts-1)>>>0}function $(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Ts}function X(h,f){h.u=f,h.h=$(h)}function q(h){h.u>=Zi&&(e(h.u>=Zi),Te(h))}function Z(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function J(h){return he(h,1)}function oe(h,f){var v=h.Ca;0>h.b&&Z(h);var b=h.b,x=v*f>>>8,A=(h.I>>>b>x)+0;for(A?(v-=x,h.I-=x+1<<b>>>0):v=x+1,b=v,x=0;256<=b;)x+=8,b>>=8;return b=7^x+Rs[b],h.b-=b,h.Ca=(v<<b)-1,A}function Ee(h,f,v){h[f+0]=v>>24&255,h[f+1]=v>>16&255,h[f+2]=v>>8&255,h[f+3]=255&v}function O(h,f){return h[f+0]|h[f+1]<<8}function M(h,f){return O(h,f)|h[f+2]<<16}function j(h,f){return O(h,f)|O(h,f+2)<<16}function C(h,f){var v=1<<f;return e(h!=null),e(0<f),h.X=s(v),h.X==null?0:(h.Mb=32-f,h.Xa=f,1)}function _e(h,f){e(h!=null),e(f!=null),e(h.Xa==f.Xa),r(f.X,0,h.X,0,1<<f.Xa)}function me(){this.X=[],this.Xa=this.Mb=0}function xe(h,f,v,b){e(v!=null),e(b!=null);var x=v[0],A=b[0];return x==0&&(x=(h*A+f/2)/f),A==0&&(A=(f*x+h/2)/h),0>=x||0>=A?0:(v[0]=x,b[0]=A,1)}function ae(h,f){return h+(1<<f)-1>>>f}function ye(h,f){return((4278255360&h)+(4278255360&f)>>>0&4278255360)+((16711935&h)+(16711935&f)>>>0&16711935)>>>0}function ue(h,f){V[f]=function(v,b,x,A,P,L,D){var z;for(z=0;z<P;++z){var Q=V[h](L[D+z-1],x,A+z);L[D+z]=ye(v[b+z],Q)}}}function Oe(){this.ud=this.hd=this.jd=0}function Ae(h,f){return((4278124286&(h^f))>>>1)+(h&f)>>>0}function Me(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function De(h,f){return Me(h+(h-f+.5>>1))}function Be(h,f,v){return Math.abs(f-v)-Math.abs(h-v)}function tt(h,f,v,b,x,A,P){for(b=A[P-1],v=0;v<x;++v)A[P+v]=b=ye(h[f+v],b)}function Ue(h,f,v,b,x){var A;for(A=0;A<v;++A){var P=h[f+A],L=P>>8&255,D=16711935&(D=(D=16711935&P)+((L<<16)+L));b[x+A]=(4278255360&P)+D>>>0}}function qe(h,f){f.jd=255&h,f.hd=h>>8&255,f.ud=h>>16&255}function Ge(h,f,v,b,x,A){var P;for(P=0;P<b;++P){var L=f[v+P],D=L>>>8,z=L,Q=255&(Q=(Q=L>>>16)+((h.jd<<24>>24)*(D<<24>>24)>>>5));z=255&(z=(z+=(h.hd<<24>>24)*(D<<24>>24)>>>5)+((h.ud<<24>>24)*(Q<<24>>24)>>>5)),x[A+P]=(4278255360&L)+(Q<<16)+z}}function ze(h,f,v,b,x){V[f]=function(A,P,L,D,z,Q,ge,H,re){for(D=ge;D<H;++D)for(ge=0;ge<re;++ge)z[Q++]=x(L[b(A[P++])])},V[h]=function(A,P,L,D,z,Q,ge){var H=8>>A.b,re=A.Ea,ce=A.K[0],Se=A.w;if(8>H)for(A=(1<<A.b)-1,Se=(1<<H)-1;P<L;++P){var de,Ie=0;for(de=0;de<re;++de)de&A||(Ie=b(D[z++])),Q[ge++]=x(ce[Ie&Se]),Ie>>=H}else V["VP8LMapColor"+v](D,z,ce,Se,Q,ge,P,L,re)}}function St(h,f,v,b,x){for(v=f+v;f<v;){var A=h[f++];b[x++]=A>>16&255,b[x++]=A>>8&255,b[x++]=255&A}}function xt(h,f,v,b,x){for(v=f+v;f<v;){var A=h[f++];b[x++]=A>>16&255,b[x++]=A>>8&255,b[x++]=255&A,b[x++]=A>>24&255}}function Ke(h,f,v,b,x){for(v=f+v;f<v;){var A=(P=h[f++])>>16&240|P>>12&15,P=240&P|P>>28&15;b[x++]=A,b[x++]=P}}function et(h,f,v,b,x){for(v=f+v;f<v;){var A=(P=h[f++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;b[x++]=A,b[x++]=P}}function yt(h,f,v,b,x){for(v=f+v;f<v;){var A=h[f++];b[x++]=255&A,b[x++]=A>>8&255,b[x++]=A>>16&255}}function rt(h,f,v,b,x,A){if(A==0)for(v=f+v;f<v;)Ee(b,((A=h[f++])[0]>>24|A[1]>>8&65280|A[2]<<8&16711680|A[3]<<24)>>>0),x+=32;else r(b,x,h,f,v)}function Et(h,f){V[f][0]=V[h+"0"],V[f][1]=V[h+"1"],V[f][2]=V[h+"2"],V[f][3]=V[h+"3"],V[f][4]=V[h+"4"],V[f][5]=V[h+"5"],V[f][6]=V[h+"6"],V[f][7]=V[h+"7"],V[f][8]=V[h+"8"],V[f][9]=V[h+"9"],V[f][10]=V[h+"10"],V[f][11]=V[h+"11"],V[f][12]=V[h+"12"],V[f][13]=V[h+"13"],V[f][14]=V[h+"0"],V[f][15]=V[h+"0"]}function pt(h){return h==ud||h==hd||h==$u||h==fd}function mn(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mn,this.f.kb=new Ln,this.sd=null}function ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ot(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Eo(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Qn(h,f){var v=h.T,b=f.ba.f.RGBA,x=b.eb,A=b.fb+h.ka*b.A,P=Kr[f.ba.S],L=h.y,D=h.O,z=h.f,Q=h.N,ge=h.ea,H=h.W,re=f.cc,ce=f.dc,Se=f.Mc,de=f.Nc,Ie=h.ka,Pe=h.ka+h.T,Re=h.U,Le=Re+1>>1;for(Ie==0?P(L,D,null,null,z,Q,ge,H,z,Q,ge,H,x,A,null,null,Re):(P(f.ec,f.fc,L,D,re,ce,Se,de,z,Q,ge,H,x,A-b.A,x,A,Re),++v);Ie+2<Pe;Ie+=2)re=z,ce=Q,Se=ge,de=H,Q+=h.Rc,H+=h.Rc,A+=2*b.A,P(L,(D+=2*h.fa)-h.fa,L,D,re,ce,Se,de,z,Q,ge,H,x,A-b.A,x,A,Re);return D+=h.fa,h.j+Pe<h.o?(r(f.ec,f.fc,L,D,Re),r(f.cc,f.dc,z,Q,Le),r(f.Mc,f.Nc,ge,H,Le),v--):1&Pe||P(L,D,null,null,z,Q,ge,H,z,Q,ge,H,x,A+b.A,null,null,Re),v}function Wi(h,f,v){var b=h.F,x=[h.J];if(b!=null){var A=h.U,P=f.ba.S,L=P==Vu||P==$u;f=f.ba.f.RGBA;var D=[0],z=h.ka;D[0]=h.T,h.Kb&&(z==0?--D[0]:(--z,x[0]-=h.width),h.j+h.ka+h.T==h.o&&(D[0]=h.o-h.j-z));var Q=f.eb;z=f.fb+z*f.A,h=Km(b,x[0],h.width,A,D,Q,z+(L?0:3),f.A),e(v==D),h&&pt(P)&&ec(Q,z,L,A,D,f.A)}return 0}function Si(h){var f=h.ma,v=f.ba.S,b=11>v,x=v==Hu||v==Wu||v==Vu||v==cd||v==12||pt(v);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!$l(f.Oa,h,x?11:12))return 0;if(x&&pt(v)&&Mu(),h.da)alert("todo:use_scaling");else{if(b){if(f.Ib=Eo,h.Kb){if(v=h.U+1>>1,f.memory=s(h.U+2*v),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+h.U,f.Mc=f.cc,f.Nc=f.dc+v,f.Ib=Qn,Mu()}}else alert("todo:EmitYUV");x&&(f.Jb=Wi,b&&Wr())}if(b&&!u1){for(h=0;256>h;++h)Zw[h]=89858*(h-128)+Ku>>Gu,nS[h]=-22014*(h-128)+Ku,tS[h]=-45773*(h-128),eS[h]=113618*(h-128)+Ku>>Gu;for(h=nc;h<gd;++h)f=76283*(h-16)+Ku>>Gu,rS[h-nc]=un(f,255),iS[h-nc]=un(f+8>>4,15);u1=1}return 1}function it(h){var f=h.ma,v=h.U,b=h.T;return e(!(1&h.ka)),0>=v||0>=b?0:(v=f.Ib(h,f),f.Jb!=null&&f.Jb(h,f,v),f.Dc+=v,1)}function Vi(h){h.ma.memory=null}function $i(h,f,v,b){return Ne(h,8)!=47?0:(f[0]=Ne(h,14)+1,v[0]=Ne(h,14)+1,b[0]=Ne(h,1),Ne(h,3)!=0?0:!h.h)}function Ur(h,f){if(4>h)return h+1;var v=h-2>>1;return(2+(1&h)<<v)+Ne(f,v)+1}function qr(h,f){return 120<f?f-120:1<=(v=((v=Bw[f-1])>>4)*h+(8-(15&v)))?v:1;var v}function cn(h,f,v){var b=F(v),x=h[f+=255&b].g-8;return 0<x&&(X(v,v.u+8),b=F(v),f+=h[f].value,f+=b&(1<<x)-1),X(v,v.u+h[f].g),h[f].value}function Bn(h,f,v){return v.g+=h.g,v.value+=h.value<<f>>>0,e(8>=v.g),h.g}function Hn(h,f,v){var b=h.xc;return e((f=b==0?0:h.vc[h.md*(v>>b)+(f>>b)])<h.Wb),h.Ya[f]}function Co(h,f,v,b){var x=h.ab,A=h.c*f,P=h.C;f=P+f;var L=v,D=b;for(b=h.Ta,v=h.Ua;0<x--;){var z=h.gc[x],Q=P,ge=f,H=L,re=D,ce=(D=b,L=v,z.Ea);switch(e(Q<ge),e(ge<=z.nc),z.hc){case 2:bn(H,re,(ge-Q)*ce,D,L);break;case 0:var Se=Q,de=ge,Ie=D,Pe=L,Re=(Ye=z).Ea;Se==0&&(Kl(H,re,null,null,1,Ie,Pe),tt(H,re+1,0,0,Re-1,Ie,Pe+1),re+=Re,Pe+=Re,++Se);for(var Le=1<<Ye.b,Qe=Le-1,We=ae(Re,Ye.b),vt=Ye.K,Ye=Ye.w+(Se>>Ye.b)*We;Se<de;){var Ct=vt,Rn=Ye,bt=1;for(Oa(H,re,Ie,Pe-Re,1,Ie,Pe);bt<Re;){var Je=(bt&~Qe)+Le;Je>Re&&(Je=Re),(0,Jl[Ct[Rn++]>>8&15])(H,re+ +bt,Ie,Pe+bt-Re,Je-bt,Ie,Pe+bt),bt=Je}re+=Re,Pe+=Re,++Se&Qe||(Ye+=We)}ge!=z.nc&&r(D,L-ce,D,L+(ge-Q-1)*ce,ce);break;case 1:for(ce=H,de=re,Re=(H=z.Ea)-(Pe=H&~(Ie=(re=1<<z.b)-1)),Se=ae(H,z.b),Le=z.K,z=z.w+(Q>>z.b)*Se;Q<ge;){for(Qe=Le,We=z,vt=new Oe,Ye=de+Pe,Ct=de+H;de<Ye;)qe(Qe[We++],vt),Xl(vt,ce,de,re,D,L),de+=re,L+=re;de<Ct&&(qe(Qe[We++],vt),Xl(vt,ce,de,Re,D,L),de+=Re,L+=Re),++Q&Ie||(z+=Se)}break;case 3:if(H==D&&re==L&&0<z.b){for(de=D,H=ce=L+(ge-Q)*ce-(Pe=(ge-Q)*ae(z.Ea,z.b)),re=D,Ie=L,Se=[],Pe=(Re=Pe)-1;0<=Pe;--Pe)Se[Pe]=re[Ie+Pe];for(Pe=Re-1;0<=Pe;--Pe)de[H+Pe]=Se[Pe];Bu(z,Q,ge,D,ce,D,L)}else Bu(z,Q,ge,H,re,D,L)}L=b,D=v}D!=v&&r(b,v,L,D,A)}function Cs(h,f){var v=h.V,b=h.Ba+h.c*h.C,x=f-h.C;if(e(f<=h.l.o),e(16>=x),0<x){var A=h.l,P=h.Ta,L=h.Ua,D=A.width;if(Co(h,x,v,b),x=L=[L],e((v=h.C)<(b=f)),e(A.v<A.va),b>A.o&&(b=A.o),v<A.j){var z=A.j-v;v=A.j,x[0]+=z*D}if(v>=b?v=0:(x[0]+=4*A.v,A.ka=v-A.j,A.U=A.va-A.v,A.T=b-v,v=1),v){if(L=L[0],11>(v=h.ca).S){var Q=v.f.RGBA,ge=(b=v.S,x=A.U,A=A.T,z=Q.eb,Q.A),H=A;for(Q=Q.fb+h.Ma*Q.A;0<H--;){var re=P,ce=L,Se=x,de=z,Ie=Q;switch(b){case zu:Ql(re,ce,Se,de,Ie);break;case Hu:Os(re,ce,Se,de,Ie);break;case ud:Os(re,ce,Se,de,Ie),ec(de,Ie,0,Se,1,0);break;case t1:Go(re,ce,Se,de,Ie);break;case Wu:rt(re,ce,Se,de,Ie,1);break;case hd:rt(re,ce,Se,de,Ie,1),ec(de,Ie,0,Se,1,0);break;case Vu:rt(re,ce,Se,de,Ie,0);break;case $u:rt(re,ce,Se,de,Ie,0),ec(de,Ie,1,Se,1,0);break;case cd:Ds(re,ce,Se,de,Ie);break;case fd:Ds(re,ce,Se,de,Ie),Gm(de,Ie,Se,1,0);break;case n1:Fs(re,ce,Se,de,Ie);break;default:e(0)}L+=D,Q+=ge}h.Ma+=A}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=v.height)}}h.C=f,e(h.C<=h.i)}function ti(h){var f;if(0<h.ua)return 0;for(f=0;f<h.Wb;++f){var v=h.Ya[f].G,b=h.Ya[f].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function xi(h,f,v,b,x,A){if(h.Z!=0){var P=h.qd,L=h.rd;for(e(Bs[h.Z]!=null);f<v;++f)Bs[h.Z](P,L,b,x,b,x,A),P=b,L=x,x+=A;h.qd=P,h.rd=L}}function ni(h,f){var v=h.l.ma,b=v.Z==0||v.Z==1?h.l.j:h.C;if(b=h.C<b?b:h.C,e(f<=h.l.o),f>b){var x=h.l.width,A=v.ca,P=v.tb+x*b,L=h.V,D=h.Ba+h.c*b,z=h.gc;e(h.ab==1),e(z[0].hc==3),Ci(z[0],b,f,L,D,A,P),xi(v,b,f,A,P,x)}h.C=h.Ma=f}function ri(h,f,v,b,x,A,P){var L=h.$/b,D=h.$%b,z=h.m,Q=h.s,ge=v+h.$,H=ge;x=v+b*x;var re=v+b*A,ce=280+Q.ua,Se=h.Pb?L:16777216,de=0<Q.ua?Q.Wa:null,Ie=Q.wc,Pe=ge<re?Hn(Q,D,L):null;e(h.C<A),e(re<=x);var Re=!1;e:for(;;){for(;Re||ge<re;){var Le=0;if(L>=Se){var Qe=ge-v;e((Se=h).Pb),Se.wd=Se.m,Se.xd=Qe,0<Se.s.ua&&_e(Se.s.Wa,Se.s.vb),Se=L+qw}if(D&Ie||(Pe=Hn(Q,D,L)),e(Pe!=null),Pe.Qb&&(f[ge]=Pe.qb,Re=!0),!Re)if(q(z),Pe.jc){Le=z,Qe=f;var We=ge,vt=Pe.pd[F(Le)&$o-1];e(Pe.jc),256>vt.g?(X(Le,Le.u+vt.g),Qe[We]=vt.value,Le=0):(X(Le,Le.u+vt.g-256),e(256<=vt.value),Le=vt.value),Le==0&&(Re=!0)}else Le=cn(Pe.G[0],Pe.H[0],z);if(z.h)break;if(Re||256>Le){if(!Re)if(Pe.nd)f[ge]=(Pe.qb|Le<<8)>>>0;else{if(q(z),Re=cn(Pe.G[1],Pe.H[1],z),q(z),Qe=cn(Pe.G[2],Pe.H[2],z),We=cn(Pe.G[3],Pe.H[3],z),z.h)break;f[ge]=(We<<24|Re<<16|Le<<8|Qe)>>>0}if(Re=!1,++ge,++D>=b&&(D=0,++L,P!=null&&L<=A&&!(L%16)&&P(h,L),de!=null))for(;H<ge;)Le=f[H++],de.X[(506832829*Le&4294967295)>>>de.Mb]=Le}else if(280>Le){if(Le=Ur(Le-256,z),Qe=cn(Pe.G[4],Pe.H[4],z),q(z),Qe=qr(b,Qe=Ur(Qe,z)),z.h)break;if(ge-v<Qe||x-ge<Le)break e;for(We=0;We<Le;++We)f[ge+We]=f[ge+We-Qe];for(ge+=Le,D+=Le;D>=b;)D-=b,++L,P!=null&&L<=A&&!(L%16)&&P(h,L);if(e(ge<=x),D&Ie&&(Pe=Hn(Q,D,L)),de!=null)for(;H<ge;)Le=f[H++],de.X[(506832829*Le&4294967295)>>>de.Mb]=Le}else{if(!(Le<ce))break e;for(Re=Le-280,e(de!=null);H<ge;)Le=f[H++],de.X[(506832829*Le&4294967295)>>>de.Mb]=Le;Le=ge,e(!(Re>>>(Qe=de).Xa)),f[Le]=Qe.X[Re],Re=!0}Re||e(z.h==$(z))}if(h.Pb&&z.h&&ge<x)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&_e(h.s.vb,h.s.Wa);else{if(z.h)break e;P!=null&&P(h,L>A?A:L),h.a=0,h.$=ge-v}return 1}return h.a=3,0}function zr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var f=h.Wa;f!=null&&(f.X=null),h.vb=null,e(h!=null)}function Po(){var h=new Xe;return h==null?null:(h.a=0,h.xb=s1,Et("Predictor","VP8LPredictors"),Et("Predictor","VP8LPredictors_C"),Et("PredictorAdd","VP8LPredictorsAdd"),Et("PredictorAdd","VP8LPredictorsAdd_C"),bn=Ue,Xl=Ge,Ql=St,Os=xt,Ds=Ke,Fs=et,Go=yt,V.VP8LMapColor32b=Ei,V.VP8LMapColor8b=Yl,h)}function Ai(h,f,v,b,x){var A=1,P=[h],L=[f],D=b.m,z=b.s,Q=null,ge=0;e:for(;;){if(v)for(;A&&Ne(D,1);){var H=P,re=L,ce=b,Se=1,de=ce.m,Ie=ce.gc[ce.ab],Pe=Ne(de,2);if(ce.Oc&1<<Pe)A=0;else{switch(ce.Oc|=1<<Pe,Ie.hc=Pe,Ie.Ea=H[0],Ie.nc=re[0],Ie.K=[null],++ce.ab,e(4>=ce.ab),Pe){case 0:case 1:Ie.b=Ne(de,3)+2,Se=Ai(ae(Ie.Ea,Ie.b),ae(Ie.nc,Ie.b),0,ce,Ie.K),Ie.K=Ie.K[0];break;case 3:var Re,Le=Ne(de,8)+1,Qe=16<Le?0:4<Le?1:2<Le?2:3;if(H[0]=ae(Ie.Ea,Qe),Ie.b=Qe,Re=Se=Ai(Le,1,0,ce,Ie.K)){var We,vt=Le,Ye=Ie,Ct=1<<(8>>Ye.b),Rn=s(Ct);if(Rn==null)Re=0;else{var bt=Ye.K[0],Je=Ye.w;for(Rn[0]=Ye.K[0][0],We=1;We<1*vt;++We)Rn[We]=ye(bt[Je+We],Rn[We-1]);for(;We<4*Ct;++We)Rn[We]=0;Ye.K[0]=null,Ye.K[0]=Rn,Re=1}}Se=Re;break;case 2:break;default:e(0)}A=Se}}if(P=P[0],L=L[0],A&&Ne(D,1)&&!(A=1<=(ge=Ne(D,4))&&11>=ge)){b.a=3;break e}var je;if(je=A)t:{var yn,gt,Pt,rn=b,Vn=P,ur=L,hn=ge,er=v,hr=rn.m,On=rn.s,Nt=[null],Bt=1,fn=0,Ut=Uw[hn];n:for(;;){if(er&&Ne(hr,1)){var $n=Ne(hr,3)+2,oi=ae(Vn,$n),wn=ae(ur,$n),wr=oi*wn;if(!Ai(oi,wn,0,rn,Nt))break n;for(Nt=Nt[0],On.xc=$n,yn=0;yn<wr;++yn){var Gt=Nt[yn]>>8&65535;Nt[yn]=Gt,Gt>=Bt&&(Bt=Gt+1)}}if(hr.h)break n;for(gt=0;5>gt;++gt){var Dn=r1[gt];!gt&&0<hn&&(Dn+=1<<hn),fn<Dn&&(fn=Dn)}var Lr=o(Bt*Ut,K),fr=Bt,kr=o(fr,pe);if(kr==null)var Tr=null;else e(65536>=fr),Tr=kr;var Sr=s(fn);if(Tr==null||Sr==null||Lr==null){rn.a=1;break n}var Rr=Lr;for(yn=Pt=0;yn<Bt;++yn){var Qt=Tr[yn],Or=Qt.G,ai=Qt.H,Yo=0,ns=1,Gn=0;for(gt=0;5>gt;++gt){Dn=r1[gt],Or[gt]=Rr,ai[gt]=Pt,!gt&&0<hn&&(Dn+=1<<hn);i:{var Ju,md=Dn,Xu=rn,rc=Sr,aS=Rr,lS=Pt,vd=0,Us=Xu.m,cS=Ne(Us,1);if(i(rc,0,0,md),cS){var uS=Ne(Us,1)+1,hS=Ne(Us,1),d1=Ne(Us,hS==0?1:8);rc[d1]=1,uS==2&&(rc[d1=Ne(Us,8)]=1);var Qu=1}else{var p1=s(19),g1=Ne(Us,4)+4;if(19<g1){Xu.a=3;var Zu=0;break i}for(Ju=0;Ju<g1;++Ju)p1[jw[Ju]]=Ne(Us,3);var bd=void 0,ic=void 0,m1=Xu,fS=p1,eh=md,v1=rc,_d=0,qs=m1.m,b1=8,_1=o(128,K);r:for(;U(_1,0,7,fS,19);){if(Ne(qs,1)){var dS=2+2*Ne(qs,3);if((bd=2+Ne(qs,dS))>eh)break r}else bd=eh;for(ic=0;ic<eh&&bd--;){q(qs);var y1=_1[0+(127&F(qs))];X(qs,qs.u+y1.g);var Fa=y1.value;if(16>Fa)v1[ic++]=Fa,Fa!=0&&(b1=Fa);else{var pS=Fa==16,w1=Fa-16,gS=Fw[w1],S1=Ne(qs,Dw[w1])+gS;if(ic+S1>eh)break r;for(var mS=pS?b1:0;0<S1--;)v1[ic++]=mS}}_d=1;break r}_d||(m1.a=3),Qu=_d}(Qu=Qu&&!Us.h)&&(vd=U(aS,lS,8,rc,md)),Qu&&vd!=0?Zu=vd:(Xu.a=3,Zu=0)}if(Zu==0)break n;if(ns&&Mw[gt]==1&&(ns=Rr[Pt].g==0),Yo+=Rr[Pt].g,Pt+=Zu,3>=gt){var sc,yd=Sr[0];for(sc=1;sc<Dn;++sc)Sr[sc]>yd&&(yd=Sr[sc]);Gn+=yd}}if(Qt.nd=ns,Qt.Qb=0,ns&&(Qt.qb=(Or[3][ai[3]+0].value<<24|Or[1][ai[1]+0].value<<16|Or[2][ai[2]+0].value)>>>0,Yo==0&&256>Or[0][ai[0]+0].value&&(Qt.Qb=1,Qt.qb+=Or[0][ai[0]+0].value<<8)),Qt.jc=!Qt.Qb&&6>Gn,Qt.jc){var th,rs=Qt;for(th=0;th<$o;++th){var zs=th,Hs=rs.pd[zs],nh=rs.G[0][rs.H[0]+zs];256<=nh.value?(Hs.g=nh.g+256,Hs.value=nh.value):(Hs.g=0,Hs.value=0,zs>>=Bn(nh,8,Hs),zs>>=Bn(rs.G[1][rs.H[1]+zs],16,Hs),zs>>=Bn(rs.G[2][rs.H[2]+zs],0,Hs),Bn(rs.G[3][rs.H[3]+zs],24,Hs))}}}On.vc=Nt,On.Wb=Bt,On.Ya=Tr,On.yc=Lr,je=1;break t}je=0}if(!(A=je)){b.a=3;break e}if(0<ge){if(z.ua=1<<ge,!C(z.Wa,ge)){b.a=1,A=0;break e}}else z.ua=0;var wd=b,x1=P,vS=L,Sd=wd.s,xd=Sd.xc;if(wd.c=x1,wd.i=vS,Sd.md=ae(x1,xd),Sd.wc=xd==0?-1:(1<<xd)-1,v){b.xb=Kw;break e}if((Q=s(P*L))==null){b.a=1,A=0;break e}A=(A=ri(b,Q,0,P,L,L,null))&&!D.h;break e}return A?(x!=null?x[0]=Q:(e(Q==null),e(v)),b.$=0,v||zr(z)):zr(z),A}function No(h,f){var v=h.c*h.i,b=v+f+16*f;return e(h.c<=f),h.V=s(b),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+v+f,1)}function Aa(h,f){var v=h.C,b=f-v,x=h.V,A=h.Ba+h.c*v;for(e(f<=h.l.o);0<b;){var P=16<b?16:b,L=h.l.ma,D=h.l.width,z=D*P,Q=L.ca,ge=L.tb+D*v,H=h.Ta,re=h.Ua;Co(h,P,x,A),Ym(H,re,Q,ge,z),xi(L,v,v+P,Q,ge,D),b-=P,x+=P*h.c,v+=P}e(v==f),h.C=h.Ma=f}function Ia(){this.ub=this.yd=this.td=this.Rb=0}function Ea(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $f(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Tl(){this.Yb=function(){var h=[];return function f(v,b,x){for(var A=x[b],P=0;P<A&&(v.push(x.length>b+1?[]:0),!(x.length<b+1));P++)f(v[P],b+1,x)}(h,0,[3,11]),h}()}function Su(){this.jb=s(3),this.Wc=a([4,8],Tl),this.Xc=a([4,17],Tl)}function xu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Hr(){this.ld=this.La=this.dd=this.tc=0}function Rl(){this.Na=this.la=0}function Au(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ol(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Iu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Hr),this.Y=0,this.ya=Array(new Ol),this.aa=0,this.l=new Ca}function Eu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Cu(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Ia,this.Kc=new Ea,this.ed=new xu,this.Qa=new $f,this.Ic=this.$c=this.Aa=0,this.D=new Iu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,I),this.ia=0,this.pb=o(4,Au),this.Pa=new Su,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Eu),this.Hd=0,this.rb=Array(new Rl),this.sb=0,this.wa=Array(new Hr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ol),this.L=this.aa=0,this.gd=a([4,2],Hr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ca(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gf(){var h=new Cu;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,tc||(tc=Gi)),h}function In(h,f,v){return h.a==0&&(h.a=f,h.sc=v,h.cb=0),0}function Pu(h,f,v){return 3<=v&&h[f+0]==157&&h[f+1]==1&&h[f+2]==42}function Nu(h,f){if(h==null)return 0;if(h.a=0,h.sc="OK",f==null)return In(h,2,"null VP8Io passed to VP8GetHeaders()");var v=f.data,b=f.w,x=f.ha;if(4>x)return In(h,7,"Truncated header.");var A=v[b+0]|v[b+1]<<8|v[b+2]<<16,P=h.Od;if(P.Rb=!(1&A),P.td=A>>1&7,P.yd=A>>4&1,P.ub=A>>5,3<P.td)return In(h,3,"Incorrect keyframe parameters.");if(!P.yd)return In(h,4,"Frame not displayable.");b+=3,x-=3;var L=h.Kc;if(P.Rb){if(7>x)return In(h,7,"cannot parse picture header");if(!Pu(v,b,x))return In(h,3,"Bad code word");L.c=16383&(v[b+4]<<8|v[b+3]),L.Td=v[b+4]>>6,L.i=16383&(v[b+6]<<8|v[b+5]),L.Ud=v[b+6]>>6,b+=7,x-=7,h.za=L.c+15>>4,h.Ub=L.i+15>>4,f.width=L.c,f.height=L.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,i((A=h.Pa).jb,0,255,A.jb.length),e((A=h.Qa)!=null),A.Cb=0,A.Bb=0,A.Fb=1,i(A.Zb,0,0,A.Zb.length),i(A.Lb,0,0,A.Lb)}if(P.ub>x)return In(h,7,"bad partition length");be(A=h.m,v,b,P.ub),b+=P.ub,x-=P.ub,P.Rb&&(L.Ld=J(A),L.Kd=J(A)),L=h.Qa;var D,z=h.Pa;if(e(A!=null),e(L!=null),L.Cb=J(A),L.Cb){if(L.Bb=J(A),J(A)){for(L.Fb=J(A),D=0;4>D;++D)L.Zb[D]=J(A)?te(A,7):0;for(D=0;4>D;++D)L.Lb[D]=J(A)?te(A,6):0}if(L.Bb)for(D=0;3>D;++D)z.jb[D]=J(A)?he(A,8):255}else L.Bb=0;if(A.Ka)return In(h,3,"cannot parse segment header");if((L=h.ed).zd=J(A),L.Tb=he(A,6),L.wb=he(A,3),L.Pc=J(A),L.Pc&&J(A)){for(z=0;4>z;++z)J(A)&&(L.vd[z]=te(A,6));for(z=0;4>z;++z)J(A)&&(L.od[z]=te(A,6))}if(h.L=L.Tb==0?0:L.zd?1:2,A.Ka)return In(h,3,"cannot parse filter header");var Q=x;if(x=D=b,b=D+Q,L=Q,h.Xb=(1<<he(h.m,2))-1,Q<3*(z=h.Xb))v=7;else{for(D+=3*z,L-=3*z,Q=0;Q<z;++Q){var ge=v[x+0]|v[x+1]<<8|v[x+2]<<16;ge>L&&(ge=L),be(h.Jc[+Q],v,D,ge),D+=ge,L-=ge,x+=3}be(h.Jc[+z],v,D,L),v=D<b?0:5}if(v!=0)return In(h,v,"cannot parse partitions");for(v=he(D=h.m,7),x=J(D)?te(D,4):0,b=J(D)?te(D,4):0,L=J(D)?te(D,4):0,z=J(D)?te(D,4):0,D=J(D)?te(D,4):0,Q=h.Qa,ge=0;4>ge;++ge){if(Q.Cb){var H=Q.Zb[ge];Q.Fb||(H+=v)}else{if(0<ge){h.pb[ge]=h.pb[0];continue}H=v}var re=h.pb[ge];re.Sc[0]=dd[un(H+x,127)],re.Sc[1]=pd[un(H+0,127)],re.Eb[0]=2*dd[un(H+b,127)],re.Eb[1]=101581*pd[un(H+L,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=dd[un(H+z,117)],re.Qc[1]=pd[un(H+D,127)],re.lc=H+D}if(!P.Rb)return In(h,4,"Not a key frame.");for(J(A),P=h.Pa,v=0;4>v;++v){for(x=0;8>x;++x)for(b=0;3>b;++b)for(L=0;11>L;++L)z=oe(A,$w[v][x][b][L])?he(A,8):Ww[v][x][b][L],P.Wc[v][x].Yb[b][L]=z;for(x=0;17>x;++x)P.Xc[v][x]=P.Wc[v][Gw[x]]}return h.kc=J(A),h.kc&&(h.Bd=he(A,8)),h.cb=1}function Gi(h,f,v,b,x,A,P){var L=f[x].Yb[v];for(v=0;16>x;++x){if(!oe(h,L[v+0]))return x;for(;!oe(h,L[v+1]);)if(L=f[++x].Yb[0],v=0,x==16)return 16;var D=f[x+1].Yb;if(oe(h,L[v+2])){var z=h,Q=0;if(oe(z,(H=L)[(ge=v)+3]))if(oe(z,H[ge+6])){for(L=0,ge=2*(Q=oe(z,H[ge+8]))+(H=oe(z,H[ge+9+Q])),Q=0,H=zw[ge];H[L];++L)Q+=Q+oe(z,H[L]);Q+=3+(8<<ge)}else oe(z,H[ge+7])?(Q=7+2*oe(z,165),Q+=oe(z,145)):Q=5+oe(z,159);else Q=oe(z,H[ge+4])?3+oe(z,H[ge+5]):2;L=D[2]}else Q=1,L=D[1];D=P+Hw[x],0>(z=h).b&&Z(z);var ge,H=z.b,re=(ge=z.Ca>>1)-(z.I>>H)>>31;--z.b,z.Ca+=re,z.Ca|=1,z.I-=(ge+1&re)<<H,A[D]=((Q^re)-re)*b[(0<x)+0]}return 16}function Lo(h){var f=h.rb[h.sb-1];f.la=0,f.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function ii(h,f,v,b,x){x=h[f+v+32*b]+(x>>3),h[f+v+32*b]=-256&x?0>x?0:255:x}function ko(h,f,v,b,x,A){ii(h,f,0,v,b+x),ii(h,f,1,v,b+A),ii(h,f,2,v,b-A),ii(h,f,3,v,b-x)}function vn(h){return(20091*h>>16)+h}function Dl(h,f,v,b){var x,A=0,P=s(16);for(x=0;4>x;++x){var L=h[f+0]+h[f+8],D=h[f+0]-h[f+8],z=(35468*h[f+4]>>16)-vn(h[f+12]),Q=vn(h[f+4])+(35468*h[f+12]>>16);P[A+0]=L+Q,P[A+1]=D+z,P[A+2]=D-z,P[A+3]=L-Q,A+=4,f++}for(x=A=0;4>x;++x)L=(h=P[A+0]+4)+P[A+8],D=h-P[A+8],z=(35468*P[A+4]>>16)-vn(P[A+12]),ii(v,b,0,0,L+(Q=vn(P[A+4])+(35468*P[A+12]>>16))),ii(v,b,1,0,D+z),ii(v,b,2,0,D-z),ii(v,b,3,0,L-Q),A++,b+=32}function Kf(h,f,v,b){var x=h[f+0]+4,A=35468*h[f+4]>>16,P=vn(h[f+4]),L=35468*h[f+1]>>16;ko(v,b,0,x+P,h=vn(h[f+1]),L),ko(v,b,1,x+A,h,L),ko(v,b,2,x-A,h,L),ko(v,b,3,x-P,h,L)}function Yf(h,f,v,b,x){Dl(h,f,v,b),x&&Dl(h,f+16,v,b+4)}function Jf(h,f,v,b){Ko(h,f+0,v,b,1),Ko(h,f+32,v,b+128,1)}function Ii(h,f,v,b){var x;for(h=h[f+0]+4,x=0;4>x;++x)for(f=0;4>f;++f)ii(v,b,f,x,h)}function Lu(h,f,v,b){h[f+0]&&Dt(h,f+0,v,b),h[f+16]&&Dt(h,f+16,v,b+4),h[f+32]&&Dt(h,f+32,v,b+128),h[f+48]&&Dt(h,f+48,v,b+128+4)}function ku(h,f,v,b){var x,A=s(16);for(x=0;4>x;++x){var P=h[f+0+x]+h[f+12+x],L=h[f+4+x]+h[f+8+x],D=h[f+4+x]-h[f+8+x],z=h[f+0+x]-h[f+12+x];A[0+x]=P+L,A[8+x]=P-L,A[4+x]=z+D,A[12+x]=z-D}for(x=0;4>x;++x)P=(h=A[0+4*x]+3)+A[3+4*x],L=A[1+4*x]+A[2+4*x],D=A[1+4*x]-A[2+4*x],z=h-A[3+4*x],v[b+0]=P+L>>3,v[b+16]=z+D>>3,v[b+32]=P-L>>3,v[b+48]=z-D>>3,b+=64}function Ps(h,f,v){var b,x=f-32,A=Nr,P=255-h[x-1];for(b=0;b<v;++b){var L,D=A,z=P+h[f-1];for(L=0;L<v;++L)h[f+L]=D[z+h[x+L]];f+=32}}function Fl(h,f){Ps(h,f,4)}function Xf(h,f){Ps(h,f,8)}function Qf(h,f){Ps(h,f,16)}function Zf(h,f){var v;for(v=0;16>v;++v)r(h,f+32*v,h,f-32,16)}function Ml(h,f){var v;for(v=16;0<v;--v)i(h,f,h[f-1],16),f+=32}function To(h,f,v){var b;for(b=0;16>b;++b)i(f,v+32*b,h,16)}function Ns(h,f){var v,b=16;for(v=0;16>v;++v)b+=h[f-1+32*v]+h[f+v-32];To(b>>5,h,f)}function ed(h,f){var v,b=8;for(v=0;16>v;++v)b+=h[f-1+32*v];To(b>>4,h,f)}function Ro(h,f){var v,b=8;for(v=0;16>v;++v)b+=h[f+v-32];To(b>>4,h,f)}function jl(h,f){To(128,h,f)}function ht(h,f,v){return h+2*f+v+2>>2}function td(h,f){var v,b=f-32;for(b=new Uint8Array([ht(h[b-1],h[b+0],h[b+1]),ht(h[b+0],h[b+1],h[b+2]),ht(h[b+1],h[b+2],h[b+3]),ht(h[b+2],h[b+3],h[b+4])]),v=0;4>v;++v)r(h,f+32*v,b,0,b.length)}function nd(h,f){var v=h[f-1],b=h[f-1+32],x=h[f-1+64],A=h[f-1+96];Ee(h,f+0,16843009*ht(h[f-1-32],v,b)),Ee(h,f+32,16843009*ht(v,b,x)),Ee(h,f+64,16843009*ht(b,x,A)),Ee(h,f+96,16843009*ht(x,A,A))}function rd(h,f){var v,b=4;for(v=0;4>v;++v)b+=h[f+v-32]+h[f-1+32*v];for(b>>=3,v=0;4>v;++v)i(h,f+32*v,b,4)}function id(h,f){var v=h[f-1+0],b=h[f-1+32],x=h[f-1+64],A=h[f-1-32],P=h[f+0-32],L=h[f+1-32],D=h[f+2-32],z=h[f+3-32];h[f+0+96]=ht(b,x,h[f-1+96]),h[f+1+96]=h[f+0+64]=ht(v,b,x),h[f+2+96]=h[f+1+64]=h[f+0+32]=ht(A,v,b),h[f+3+96]=h[f+2+64]=h[f+1+32]=h[f+0+0]=ht(P,A,v),h[f+3+64]=h[f+2+32]=h[f+1+0]=ht(L,P,A),h[f+3+32]=h[f+2+0]=ht(D,L,P),h[f+3+0]=ht(z,D,L)}function Ki(h,f){var v=h[f+1-32],b=h[f+2-32],x=h[f+3-32],A=h[f+4-32],P=h[f+5-32],L=h[f+6-32],D=h[f+7-32];h[f+0+0]=ht(h[f+0-32],v,b),h[f+1+0]=h[f+0+32]=ht(v,b,x),h[f+2+0]=h[f+1+32]=h[f+0+64]=ht(b,x,A),h[f+3+0]=h[f+2+32]=h[f+1+64]=h[f+0+96]=ht(x,A,P),h[f+3+32]=h[f+2+64]=h[f+1+96]=ht(A,P,L),h[f+3+64]=h[f+2+96]=ht(P,L,D),h[f+3+96]=ht(L,D,D)}function Yi(h,f){var v=h[f-1+0],b=h[f-1+32],x=h[f-1+64],A=h[f-1-32],P=h[f+0-32],L=h[f+1-32],D=h[f+2-32],z=h[f+3-32];h[f+0+0]=h[f+1+64]=A+P+1>>1,h[f+1+0]=h[f+2+64]=P+L+1>>1,h[f+2+0]=h[f+3+64]=L+D+1>>1,h[f+3+0]=D+z+1>>1,h[f+0+96]=ht(x,b,v),h[f+0+64]=ht(b,v,A),h[f+0+32]=h[f+1+96]=ht(v,A,P),h[f+1+32]=h[f+2+96]=ht(A,P,L),h[f+2+32]=h[f+3+96]=ht(P,L,D),h[f+3+32]=ht(L,D,z)}function sd(h,f){var v=h[f+0-32],b=h[f+1-32],x=h[f+2-32],A=h[f+3-32],P=h[f+4-32],L=h[f+5-32],D=h[f+6-32],z=h[f+7-32];h[f+0+0]=v+b+1>>1,h[f+1+0]=h[f+0+64]=b+x+1>>1,h[f+2+0]=h[f+1+64]=x+A+1>>1,h[f+3+0]=h[f+2+64]=A+P+1>>1,h[f+0+32]=ht(v,b,x),h[f+1+32]=h[f+0+96]=ht(b,x,A),h[f+2+32]=h[f+1+96]=ht(x,A,P),h[f+3+32]=h[f+2+96]=ht(A,P,L),h[f+3+64]=ht(P,L,D),h[f+3+96]=ht(L,D,z)}function od(h,f){var v=h[f-1+0],b=h[f-1+32],x=h[f-1+64],A=h[f-1+96];h[f+0+0]=v+b+1>>1,h[f+2+0]=h[f+0+32]=b+x+1>>1,h[f+2+32]=h[f+0+64]=x+A+1>>1,h[f+1+0]=ht(v,b,x),h[f+3+0]=h[f+1+32]=ht(b,x,A),h[f+3+32]=h[f+1+64]=ht(x,A,A),h[f+3+64]=h[f+2+64]=h[f+0+96]=h[f+1+96]=h[f+2+96]=h[f+3+96]=A}function Pa(h,f){var v=h[f-1+0],b=h[f-1+32],x=h[f-1+64],A=h[f-1+96],P=h[f-1-32],L=h[f+0-32],D=h[f+1-32],z=h[f+2-32];h[f+0+0]=h[f+2+32]=v+P+1>>1,h[f+0+32]=h[f+2+64]=b+v+1>>1,h[f+0+64]=h[f+2+96]=x+b+1>>1,h[f+0+96]=A+x+1>>1,h[f+3+0]=ht(L,D,z),h[f+2+0]=ht(P,L,D),h[f+1+0]=h[f+3+32]=ht(v,P,L),h[f+1+32]=h[f+3+64]=ht(b,v,P),h[f+1+64]=h[f+3+96]=ht(x,b,v),h[f+1+96]=ht(A,x,b)}function Bl(h,f){var v;for(v=0;8>v;++v)r(h,f+32*v,h,f-32,8)}function Oo(h,f){var v;for(v=0;8>v;++v)i(h,f,h[f-1],8),f+=32}function Na(h,f,v){var b;for(b=0;8>b;++b)i(f,v+32*b,h,8)}function La(h,f){var v,b=8;for(v=0;8>v;++v)b+=h[f+v-32]+h[f-1+32*v];Na(b>>4,h,f)}function ad(h,f){var v,b=4;for(v=0;8>v;++v)b+=h[f+v-32];Na(b>>3,h,f)}function Ul(h,f){var v,b=4;for(v=0;8>v;++v)b+=h[f-1+32*v];Na(b>>3,h,f)}function ql(h,f){Na(128,h,f)}function Do(h,f,v){var b=h[f-v],x=h[f+0],A=3*(x-b)+ld[1020+h[f-2*v]-h[f+v]],P=qu[112+(A+4>>3)];h[f-v]=Nr[255+b+qu[112+(A+3>>3)]],h[f+0]=Nr[255+x-P]}function Fo(h,f,v,b){var x=h[f+0],A=h[f+v];return Gr[255+h[f-2*v]-h[f-v]]>b||Gr[255+A-x]>b}function zl(h,f,v,b){return 4*Gr[255+h[f-v]-h[f+0]]+Gr[255+h[f-2*v]-h[f+v]]<=b}function ka(h,f,v,b,x){var A=h[f-3*v],P=h[f-2*v],L=h[f-v],D=h[f+0],z=h[f+v],Q=h[f+2*v],ge=h[f+3*v];return 4*Gr[255+L-D]+Gr[255+P-z]>b?0:Gr[255+h[f-4*v]-A]<=x&&Gr[255+A-P]<=x&&Gr[255+P-L]<=x&&Gr[255+ge-Q]<=x&&Gr[255+Q-z]<=x&&Gr[255+z-D]<=x}function Hl(h,f,v,b){var x=2*b+1;for(b=0;16>b;++b)zl(h,f+b,v,x)&&Do(h,f+b,v)}function Mo(h,f,v,b){var x=2*b+1;for(b=0;16>b;++b)zl(h,f+b*v,1,x)&&Do(h,f+b*v,1)}function Tu(h,f,v,b){var x;for(x=3;0<x;--x)Hl(h,f+=4*v,v,b)}function Ru(h,f,v,b){var x;for(x=3;0<x;--x)Mo(h,f+=4,v,b)}function Ji(h,f,v,b,x,A,P,L){for(A=2*A+1;0<x--;){if(ka(h,f,v,A,P))if(Fo(h,f,v,L))Do(h,f,v);else{var D=h,z=f,Q=v,ge=D[z-2*Q],H=D[z-Q],re=D[z+0],ce=D[z+Q],Se=D[z+2*Q],de=27*(Pe=ld[1020+3*(re-H)+ld[1020+ge-ce]])+63>>7,Ie=18*Pe+63>>7,Pe=9*Pe+63>>7;D[z-3*Q]=Nr[255+D[z-3*Q]+Pe],D[z-2*Q]=Nr[255+ge+Ie],D[z-Q]=Nr[255+H+de],D[z+0]=Nr[255+re-de],D[z+Q]=Nr[255+ce-Ie],D[z+2*Q]=Nr[255+Se-Pe]}f+=b}}function Xi(h,f,v,b,x,A,P,L){for(A=2*A+1;0<x--;){if(ka(h,f,v,A,P))if(Fo(h,f,v,L))Do(h,f,v);else{var D=h,z=f,Q=v,ge=D[z-Q],H=D[z+0],re=D[z+Q],ce=qu[112+(4+(Se=3*(H-ge))>>3)],Se=qu[112+(Se+3>>3)],de=ce+1>>1;D[z-2*Q]=Nr[255+D[z-2*Q]+de],D[z-Q]=Nr[255+ge+Se],D[z+0]=Nr[255+H-ce],D[z+Q]=Nr[255+re-de]}f+=b}}function Ou(h,f,v,b,x,A){Ji(h,f,v,1,16,b,x,A)}function Du(h,f,v,b,x,A){Ji(h,f,1,v,16,b,x,A)}function jo(h,f,v,b,x,A){var P;for(P=3;0<P;--P)Xi(h,f+=4*v,v,1,16,b,x,A)}function Fu(h,f,v,b,x,A){var P;for(P=3;0<P;--P)Xi(h,f+=4,1,v,16,b,x,A)}function g(h,f,v,b,x,A,P,L){Ji(h,f,x,1,8,A,P,L),Ji(v,b,x,1,8,A,P,L)}function S(h,f,v,b,x,A,P,L){Ji(h,f,1,x,8,A,P,L),Ji(v,b,1,x,8,A,P,L)}function W(h,f,v,b,x,A,P,L){Xi(h,f+4*x,x,1,8,A,P,L),Xi(v,b+4*x,x,1,8,A,P,L)}function Y(h,f,v,b,x,A,P,L){Xi(h,f+4,1,x,8,A,P,L),Xi(v,b+4,1,x,8,A,P,L)}function ie(){this.ba=new Vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ot,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ce(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ke(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function $e(){this.ua=0,this.Wa=new me,this.vb=new me,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new K}function Xe(){this.xb=this.a=0,this.l=new Ca,this.ca=new Vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new $e,this.ab=0,this.gc=o(4,ke),this.Oc=0}function ct(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ca,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ft(h,f,v,b,x,A,P){for(h=h==null?0:h[f+0],f=0;f<P;++f)x[A+f]=h+v[b+f]&255,h=x[A+f]}function kt(h,f,v,b,x,A,P){var L;if(h==null)ft(null,null,v,b,x,A,P);else for(L=0;L<P;++L)x[A+L]=h[f+L]+v[b+L]&255}function an(h,f,v,b,x,A,P){if(h==null)ft(null,null,v,b,x,A,P);else{var L,D=h[f+0],z=D,Q=D;for(L=0;L<P;++L)z=Q+(D=h[f+L])-z,Q=v[b+L]+(-256&z?0>z?0:255:z)&255,z=D,x[A+L]=Q}}function En(h,f,v,b){var x=f.width,A=f.o;if(e(h!=null&&f!=null),0>v||0>=b||v+b>A)return null;if(!h.Cc){if(h.ga==null){var P;if(h.ga=new ct,(P=h.ga==null)||(P=f.width*f.o,e(h.Gb.length==0),h.Gb=s(P),h.Uc=0,h.Gb==null?P=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,P=1),P=!P),!P){P=h.ga;var L=h.Fa,D=h.P,z=h.qc,Q=h.mb,ge=h.nb,H=D+1,re=z-1,ce=P.l;if(e(L!=null&&Q!=null&&f!=null),Bs[0]=null,Bs[1]=ft,Bs[2]=kt,Bs[3]=an,P.ca=Q,P.tb=ge,P.c=f.width,P.i=f.height,e(0<P.c&&0<P.i),1>=z)f=0;else if(P.$a=3&L[D+0],P.Z=L[D+0]>>2&3,P.Lc=L[D+0]>>4&3,D=L[D+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||D)f=0;else if(ce.put=it,ce.ac=Si,ce.bc=Vi,ce.ma=P,ce.width=f.width,ce.height=f.height,ce.Da=f.Da,ce.v=f.v,ce.va=f.va,ce.j=f.j,ce.o=f.o,P.$a)e:{e(P.$a==1),f=Po();t:for(;;){if(f==null){f=0;break e}if(e(P!=null),P.mc=f,f.c=P.c,f.i=P.i,f.l=P.l,f.l.ma=P,f.l.width=P.c,f.l.height=P.i,f.a=0,we(f.m,L,H,re),!Ai(P.c,P.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&ti(f.s)?(P.ic=1,L=f.c*f.i,f.Ta=null,f.Ua=0,f.V=s(L),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(P.ic=0,f=No(f,P.c)),!f))break t;f=1;break e}P.mc=null,f=0}else f=re>=P.c*P.i;P=!f}if(P)return null;h.ga.Lc!=1?h.Ga=0:b=A-v}e(h.ga!=null),e(v+b<=A);e:{if(f=(L=h.ga).c,A=L.l.o,L.$a==0){if(H=h.rc,re=h.Vc,ce=h.Fa,D=h.P+1+v*f,z=h.mb,Q=h.nb+v*f,e(D<=h.P+h.qc),L.Z!=0)for(e(Bs[L.Z]!=null),P=0;P<b;++P)Bs[L.Z](H,re,ce,D,z,Q,f),H=z,re=Q,Q+=f,D+=f;else for(P=0;P<b;++P)r(z,Q,ce,D,f),H=z,re=Q,Q+=f,D+=f;h.rc=H,h.Vc=re}else{if(e(L.mc!=null),f=v+b,e((P=L.mc)!=null),e(f<=P.i),P.C>=f)f=1;else if(L.ic||Wr(),L.ic){L=P.V,H=P.Ba,re=P.c;var Se=P.i,de=(ce=1,D=P.$/re,z=P.$%re,Q=P.m,ge=P.s,P.$),Ie=re*Se,Pe=re*f,Re=ge.wc,Le=de<Pe?Hn(ge,z,D):null;e(de<=Ie),e(f<=Se),e(ti(ge));t:for(;;){for(;!Q.h&&de<Pe;){if(z&Re||(Le=Hn(ge,z,D)),e(Le!=null),q(Q),256>(Se=cn(Le.G[0],Le.H[0],Q)))L[H+de]=Se,++de,++z>=re&&(z=0,++D<=f&&!(D%16)&&ni(P,D));else{if(!(280>Se)){ce=0;break t}Se=Ur(Se-256,Q);var Qe,We=cn(Le.G[4],Le.H[4],Q);if(q(Q),!(de>=(We=qr(re,We=Ur(We,Q)))&&Ie-de>=Se)){ce=0;break t}for(Qe=0;Qe<Se;++Qe)L[H+de+Qe]=L[H+de+Qe-We];for(de+=Se,z+=Se;z>=re;)z-=re,++D<=f&&!(D%16)&&ni(P,D);de<Pe&&z&Re&&(Le=Hn(ge,z,D))}e(Q.h==$(Q))}ni(P,D>f?f:D);break t}!ce||Q.h&&de<Ie?(ce=0,P.a=Q.h?5:3):P.$=de,f=ce}else f=ri(P,P.V,P.Ba,P.c,P.i,f,Aa);if(!f){b=0;break e}}v+b>=A&&(h.Cc=1),b=1}if(!b)return null;if(h.Cc&&((b=h.ga)!=null&&(b.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+v*x}function Xt(h,f,v,b,x,A){for(;0<x--;){var P,L=h,D=f+(v?1:0),z=h,Q=f+(v?0:3);for(P=0;P<b;++P){var ge=z[Q+4*P];ge!=255&&(ge*=32897,L[D+4*P+0]=L[D+4*P+0]*ge>>23,L[D+4*P+1]=L[D+4*P+1]*ge>>23,L[D+4*P+2]=L[D+4*P+2]*ge>>23)}f+=A}}function kn(h,f,v,b,x){for(;0<b--;){var A;for(A=0;A<v;++A){var P=h[f+2*A+0],L=15&(z=h[f+2*A+1]),D=4369*L,z=(240&z|z>>4)*D>>16;h[f+2*A+0]=(240&P|P>>4)*D>>16&240|(15&P|P<<4)*D>>16>>4&15,h[f+2*A+1]=240&z|L}f+=x}}function Cn(h,f,v,b,x,A,P,L){var D,z,Q=255;for(z=0;z<x;++z){for(D=0;D<b;++D){var ge=h[f+D];A[P+4*D]=ge,Q&=ge}f+=v,P+=L}return Q!=255}function Wn(h,f,v,b,x){var A;for(A=0;A<x;++A)v[b+A]=h[f+A]>>8}function Wr(){ec=Xt,Gm=kn,Km=Cn,Ym=Wn}function yr(h,f,v){V[h]=function(b,x,A,P,L,D,z,Q,ge,H,re,ce,Se,de,Ie,Pe,Re){var Le,Qe=Re-1>>1,We=L[D+0]|z[Q+0]<<16,vt=ge[H+0]|re[ce+0]<<16;e(b!=null);var Ye=3*We+vt+131074>>2;for(f(b[x+0],255&Ye,Ye>>16,Se,de),A!=null&&(Ye=3*vt+We+131074>>2,f(A[P+0],255&Ye,Ye>>16,Ie,Pe)),Le=1;Le<=Qe;++Le){var Ct=L[D+Le]|z[Q+Le]<<16,Rn=ge[H+Le]|re[ce+Le]<<16,bt=We+Ct+vt+Rn+524296,Je=bt+2*(Ct+vt)>>3;Ye=Je+We>>1,We=(bt=bt+2*(We+Rn)>>3)+Ct>>1,f(b[x+2*Le-1],255&Ye,Ye>>16,Se,de+(2*Le-1)*v),f(b[x+2*Le-0],255&We,We>>16,Se,de+(2*Le-0)*v),A!=null&&(Ye=bt+vt>>1,We=Je+Rn>>1,f(A[P+2*Le-1],255&Ye,Ye>>16,Ie,Pe+(2*Le-1)*v),f(A[P+2*Le+0],255&We,We>>16,Ie,Pe+(2*Le+0)*v)),We=Ct,vt=Rn}1&Re||(Ye=3*We+vt+131074>>2,f(b[x+Re-1],255&Ye,Ye>>16,Se,de+(Re-1)*v),A!=null&&(Ye=3*vt+We+131074>>2,f(A[P+Re-1],255&Ye,Ye>>16,Ie,Pe+(Re-1)*v)))}}function Mu(){Kr[zu]=Yw,Kr[Hu]=o1,Kr[t1]=Jw,Kr[Wu]=a1,Kr[Vu]=l1,Kr[cd]=c1,Kr[n1]=Xw,Kr[ud]=o1,Kr[hd]=a1,Kr[$u]=l1,Kr[fd]=c1}function Ta(h){return h&-16384?0>h?0:255:h>>Qw}function Bo(h,f){return Ta((19077*h>>8)+(26149*f>>8)-14234)}function Ls(h,f,v){return Ta((19077*h>>8)-(6419*f>>8)-(13320*v>>8)+8708)}function Uo(h,f){return Ta((19077*h>>8)+(33050*f>>8)-17685)}function qo(h,f,v,b,x){b[x+0]=Bo(h,v),b[x+1]=Ls(h,f,v),b[x+2]=Uo(h,f)}function zo(h,f,v,b,x){b[x+0]=Uo(h,f),b[x+1]=Ls(h,f,v),b[x+2]=Bo(h,v)}function Zn(h,f,v,b,x){var A=Ls(h,f,v);f=A<<3&224|Uo(h,f)>>3,b[x+0]=248&Bo(h,v)|A>>5,b[x+1]=f}function Ho(h,f,v,b,x){var A=240&Uo(h,f)|15;b[x+0]=240&Bo(h,v)|Ls(h,f,v)>>4,b[x+1]=A}function Wo(h,f,v,b,x){b[x+0]=255,qo(h,f,v,b,x+1)}function Wl(h,f,v,b,x){zo(h,f,v,b,x),b[x+3]=255}function Vl(h,f,v,b,x){qo(h,f,v,b,x),b[x+3]=255}function un(h,f){return 0>h?0:h>f?f:h}function Qi(h,f,v){V[h]=function(b,x,A,P,L,D,z,Q,ge){for(var H=Q+(-2&ge)*v;Q!=H;)f(b[x+0],A[P+0],L[D+0],z,Q),f(b[x+1],A[P+0],L[D+0],z,Q+v),x+=2,++P,++D,Q+=2*v;1&ge&&f(b[x+0],A[P+0],L[D+0],z,Q)}}function Ra(h,f,v){return v==0?h==0?f==0?6:5:f==0?4:0:v}function ju(h,f,v,b,x){switch(h>>>30){case 3:Ko(f,v,b,x,0);break;case 2:$r(f,v,b,x);break;case 1:Dt(f,v,b,x)}}function Vr(h,f){var v,b,x=f.M,A=f.Nb,P=h.oc,L=h.pc+40,D=h.oc,z=h.pc+584,Q=h.oc,ge=h.pc+600;for(v=0;16>v;++v)P[L+32*v-1]=129;for(v=0;8>v;++v)D[z+32*v-1]=129,Q[ge+32*v-1]=129;for(0<x?P[L-1-32]=D[z-1-32]=Q[ge-1-32]=129:(i(P,L-32-1,127,21),i(D,z-32-1,127,9),i(Q,ge-32-1,127,9)),b=0;b<h.za;++b){var H=f.ya[f.aa+b];if(0<b){for(v=-1;16>v;++v)r(P,L+32*v-4,P,L+32*v+12,4);for(v=-1;8>v;++v)r(D,z+32*v-4,D,z+32*v+4,4),r(Q,ge+32*v-4,Q,ge+32*v+4,4)}var re=h.Gd,ce=h.Hd+b,Se=H.ad,de=H.Hc;if(0<x&&(r(P,L-32,re[ce].y,0,16),r(D,z-32,re[ce].f,0,8),r(Q,ge-32,re[ce].ea,0,8)),H.Za){var Ie=P,Pe=L-32+16;for(0<x&&(b>=h.za-1?i(Ie,Pe,re[ce].y[15],4):r(Ie,Pe,re[ce+1].y,0,4)),v=0;4>v;v++)Ie[Pe+128+v]=Ie[Pe+256+v]=Ie[Pe+384+v]=Ie[Pe+0+v];for(v=0;16>v;++v,de<<=2)Ie=P,Pe=L+h1[v],si[H.Ob[v]](Ie,Pe),ju(de,Se,16*+v,Ie,Pe)}else if(Ie=Ra(b,x,H.Ob[0]),js[Ie](P,L),de!=0)for(v=0;16>v;++v,de<<=2)ju(de,Se,16*+v,P,L+h1[v]);for(v=H.Gc,Ie=Ra(b,x,H.Dd),ts[Ie](D,z),ts[Ie](Q,ge),de=Se,Ie=D,Pe=z,255&(H=0|v)&&(170&H?Pi(de,256,Ie,Pe):$t(de,256,Ie,Pe)),H=Q,de=ge,255&(v>>=8)&&(170&v?Pi(Se,320,H,de):$t(Se,320,H,de)),x<h.Ub-1&&(r(re[ce].y,0,P,L+480,16),r(re[ce].f,0,D,z+224,8),r(re[ce].ea,0,Q,ge+224,8)),v=8*A*h.B,re=h.sa,ce=h.ta+16*b+16*A*h.R,Se=h.qa,H=h.ra+8*b+v,de=h.Ha,Ie=h.Ia+8*b+v,v=0;16>v;++v)r(re,ce+v*h.R,P,L+32*v,16);for(v=0;8>v;++v)r(Se,H+v*h.B,D,z+32*v,8),r(de,Ie+v*h.B,Q,ge+32*v,8)}}function Vo(h,f,v,b,x,A,P,L,D){var z=[0],Q=[0],ge=0,H=D!=null?D.kd:0,re=D??new Ce;if(h==null||12>v)return 7;re.data=h,re.w=f,re.ha=v,f=[f],v=[v],re.gb=[re.gb];e:{var ce=f,Se=v,de=re.gb;if(e(h!=null),e(Se!=null),e(de!=null),de[0]=0,12<=Se[0]&&!n(h,ce[0],"RIFF")){if(n(h,ce[0]+8,"WEBP")){de=3;break e}var Ie=j(h,ce[0]+4);if(12>Ie||4294967286<Ie){de=3;break e}if(H&&Ie>Se[0]-8){de=7;break e}de[0]=Ie,ce[0]+=12,Se[0]-=12}de=0}if(de!=0)return de;for(Ie=0<re.gb[0],v=v[0];;){e:{var Pe=h;Se=f,de=v;var Re=z,Le=Q,Qe=ce=[0];if((Ye=ge=[ge])[0]=0,8>de[0])de=7;else{if(!n(Pe,Se[0],"VP8X")){if(j(Pe,Se[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var We=j(Pe,Se[0]+8),vt=1+M(Pe,Se[0]+12);if(2147483648<=vt*(Pe=1+M(Pe,Se[0]+15))){de=3;break e}Qe!=null&&(Qe[0]=We),Re!=null&&(Re[0]=vt),Le!=null&&(Le[0]=Pe),Se[0]+=18,de[0]-=18,Ye[0]=1}de=0}}if(ge=ge[0],ce=ce[0],de!=0)return de;if(Se=!!(2&ce),!Ie&&ge)return 3;if(A!=null&&(A[0]=!!(16&ce)),P!=null&&(P[0]=Se),L!=null&&(L[0]=0),P=z[0],ce=Q[0],ge&&Se&&D==null){de=0;break}if(4>v){de=7;break}if(Ie&&ge||!Ie&&!ge&&!n(h,f[0],"ALPH")){v=[v],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{We=h,de=f,Ie=v;var Ye=re.gb;Re=re.na,Le=re.P,Qe=re.Sa,vt=22,e(We!=null),e(Ie!=null),Pe=de[0];var Ct=Ie[0];for(e(Re!=null),e(Qe!=null),Re[0]=null,Le[0]=null,Qe[0]=0;;){if(de[0]=Pe,Ie[0]=Ct,8>Ct){de=7;break e}var Rn=j(We,Pe+4);if(4294967286<Rn){de=3;break e}var bt=8+Rn+1&-2;if(vt+=bt,0<Ye&&vt>Ye){de=3;break e}if(!n(We,Pe,"VP8 ")||!n(We,Pe,"VP8L")){de=0;break e}if(Ct[0]<bt){de=7;break e}n(We,Pe,"ALPH")||(Re[0]=We,Le[0]=Pe+8,Qe[0]=Rn),Pe+=bt,Ct-=bt}}if(v=v[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],de!=0)break}v=[v],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Ye=h,de=f,Ie=v,Re=re.gb[0],Le=re.Ja,Qe=re.xa,We=de[0],Pe=!n(Ye,We,"VP8 "),vt=!n(Ye,We,"VP8L"),e(Ye!=null),e(Ie!=null),e(Le!=null),e(Qe!=null),8>Ie[0])de=7;else{if(Pe||vt){if(Ye=j(Ye,We+4),12<=Re&&Ye>Re-12){de=3;break e}if(H&&Ye>Ie[0]-8){de=7;break e}Le[0]=Ye,de[0]+=8,Ie[0]-=8,Qe[0]=vt}else Qe[0]=5<=Ie[0]&&Ye[We+0]==47&&!(Ye[We+4]>>5),Le[0]=Ie[0];de=0}if(v=v[0],re.Ja=re.Ja[0],re.xa=re.xa[0],f=f[0],de!=0)break;if(4294967286<re.Ja)return 3;if(L==null||Se||(L[0]=re.xa?2:1),P=[P],ce=[ce],re.xa){if(5>v){de=7;break}L=P,H=ce,Se=A,h==null||5>v?h=0:5<=v&&h[f+0]==47&&!(h[f+4]>>5)?(Ie=[0],Ye=[0],Re=[0],we(Le=new k,h,f,v),$i(Le,Ie,Ye,Re)?(L!=null&&(L[0]=Ie[0]),H!=null&&(H[0]=Ye[0]),Se!=null&&(Se[0]=Re[0]),h=1):h=0):h=0}else{if(10>v){de=7;break}L=ce,h==null||10>v||!Pu(h,f+3,v-3)?h=0:(H=h[f+0]|h[f+1]<<8|h[f+2]<<16,Se=16383&(h[f+7]<<8|h[f+6]),h=16383&(h[f+9]<<8|h[f+8]),1&H||3<(H>>1&7)||!(H>>4&1)||H>>5>=re.Ja||!Se||!h?h=0:(P&&(P[0]=Se),L&&(L[0]=h),h=1))}if(!h||(P=P[0],ce=ce[0],ge&&(z[0]!=P||Q[0]!=ce)))return 3;D!=null&&(D[0]=re,D.offset=f-D.w,e(4294967286>f-D.w),e(D.offset==D.ha-v));break}return de==0||de==7&&ge&&D==null?(A!=null&&(A[0]|=re.na!=null&&0<re.na.length),b!=null&&(b[0]=P),x!=null&&(x[0]=ce),0):de}function $l(h,f,v){var b=f.width,x=f.height,A=0,P=0,L=b,D=x;if(f.Da=h!=null&&0<h.Da,f.Da&&(L=h.cd,D=h.bd,A=h.v,P=h.j,11>v||(A&=-2,P&=-2),0>A||0>P||0>=L||0>=D||A+L>b||P+D>x))return 0;if(f.v=A,f.j=P,f.va=A+L,f.o=P+D,f.U=L,f.T=D,f.da=h!=null&&0<h.da,f.da){if(!xe(L,D,v=[h.ib],A=[h.hb]))return 0;f.ib=v[0],f.hb=A[0]}return f.ob=h!=null&&h.ob,f.Kb=h==null||!h.Sd,f.da&&(f.ob=f.ib<3*b/4&&f.hb<3*x/4,f.Kb=0),1}function Gl(h){if(h==null)return 2;if(11>h.S){var f=h.f.RGBA;f.fb+=(h.height-1)*f.A,f.A=-f.A}else f=h.f.kb,h=h.height,f.O+=(h-1)*f.fa,f.fa=-f.fa,f.N+=(h-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(h-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(h-1)*f.lb,f.lb=-f.lb);return 0}function ks(h,f,v,b){if(b==null||0>=h||0>=f)return 2;if(v!=null){if(v.Da){var x=v.cd,A=v.bd,P=-2&v.v,L=-2&v.j;if(0>P||0>L||0>=x||0>=A||P+x>h||L+A>f)return 2;h=x,f=A}if(v.da){if(!xe(h,f,x=[v.ib],A=[v.hb]))return 2;h=x[0],f=A[0]}}b.width=h,b.height=f;e:{var D=b.width,z=b.height;if(h=b.S,0>=D||0>=z||!(h>=zu&&13>h))h=2;else{if(0>=b.Rd&&b.sd==null){P=A=x=f=0;var Q=(L=D*f1[h])*z;if(11>h||(A=(z+1)/2*(f=(D+1)/2),h==12&&(P=(x=D)*z)),(z=s(Q+2*A+P))==null){h=1;break e}b.sd=z,11>h?((D=b.f.RGBA).eb=z,D.fb=0,D.A=L,D.size=Q):((D=b.f.kb).y=z,D.O=0,D.fa=L,D.Fd=Q,D.f=z,D.N=0+Q,D.Ab=f,D.Cd=A,D.ea=z,D.W=0+Q+A,D.Db=f,D.Ed=A,h==12&&(D.F=z,D.J=0+Q+2*A),D.Tc=P,D.lb=x)}if(f=1,x=b.S,A=b.width,P=b.height,x>=zu&&13>x)if(11>x)h=b.f.RGBA,f&=(L=Math.abs(h.A))*(P-1)+A<=h.size,f&=L>=A*f1[x],f&=h.eb!=null;else{h=b.f.kb,L=(A+1)/2,Q=(P+1)/2,D=Math.abs(h.fa),z=Math.abs(h.Ab);var ge=Math.abs(h.Db),H=Math.abs(h.lb),re=H*(P-1)+A;f&=D*(P-1)+A<=h.Fd,f&=z*(Q-1)+L<=h.Cd,f=(f&=ge*(Q-1)+L<=h.Ed)&D>=A&z>=L&ge>=L,f&=h.y!=null,f&=h.f!=null,f&=h.ea!=null,x==12&&(f&=H>=A,f&=re<=h.Tc,f&=h.F!=null)}else f=0;h=f?0:2}}return h!=0||v!=null&&v.fd&&(h=Gl(b)),h}var $o=64,Cr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pr=24,Ts=32,Zi=8,Rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ue("Predictor0","PredictorAdd0"),V.Predictor0=function(){return 4278190080},V.Predictor1=function(h){return h},V.Predictor2=function(h,f,v){return f[v+0]},V.Predictor3=function(h,f,v){return f[v+1]},V.Predictor4=function(h,f,v){return f[v-1]},V.Predictor5=function(h,f,v){return Ae(Ae(h,f[v+1]),f[v+0])},V.Predictor6=function(h,f,v){return Ae(h,f[v-1])},V.Predictor7=function(h,f,v){return Ae(h,f[v+0])},V.Predictor8=function(h,f,v){return Ae(f[v-1],f[v+0])},V.Predictor9=function(h,f,v){return Ae(f[v+0],f[v+1])},V.Predictor10=function(h,f,v){return Ae(Ae(h,f[v-1]),Ae(f[v+0],f[v+1]))},V.Predictor11=function(h,f,v){var b=f[v+0];return 0>=Be(b>>24&255,h>>24&255,(f=f[v-1])>>24&255)+Be(b>>16&255,h>>16&255,f>>16&255)+Be(b>>8&255,h>>8&255,f>>8&255)+Be(255&b,255&h,255&f)?b:h},V.Predictor12=function(h,f,v){var b=f[v+0];return(Me((h>>24&255)+(b>>24&255)-((f=f[v-1])>>24&255))<<24|Me((h>>16&255)+(b>>16&255)-(f>>16&255))<<16|Me((h>>8&255)+(b>>8&255)-(f>>8&255))<<8|Me((255&h)+(255&b)-(255&f)))>>>0},V.Predictor13=function(h,f,v){var b=f[v-1];return(De((h=Ae(h,f[v+0]))>>24&255,b>>24&255)<<24|De(h>>16&255,b>>16&255)<<16|De(h>>8&255,b>>8&255)<<8|De(255&h,255&b))>>>0};var Kl=V.PredictorAdd0;V.PredictorAdd1=tt,ue("Predictor2","PredictorAdd2"),ue("Predictor3","PredictorAdd3"),ue("Predictor4","PredictorAdd4"),ue("Predictor5","PredictorAdd5"),ue("Predictor6","PredictorAdd6"),ue("Predictor7","PredictorAdd7"),ue("Predictor8","PredictorAdd8"),ue("Predictor9","PredictorAdd9"),ue("Predictor10","PredictorAdd10"),ue("Predictor11","PredictorAdd11"),ue("Predictor12","PredictorAdd12"),ue("Predictor13","PredictorAdd13");var Oa=V.PredictorAdd2;ze("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var bn,Bu=V.ColorIndexInverseTransform,Ei=V.MapARGB,Ci=V.VP8LColorIndexInverseTransformAlpha,Yl=V.MapAlpha,Jl=V.VP8LPredictorsAdd=[];Jl.length=16,(V.VP8LPredictors=[]).length=16,(V.VP8LPredictorsAdd_C=[]).length=16,(V.VP8LPredictors_C=[]).length=16;var Xl,Ql,Os,Ds,Fs,Go,Ms,Ko,$r,Pi,Dt,$t,_n,Tn,es,Zl,Da,Uu,qm,zm,Hm,Wm,Vm,$m,ec,Gm,Km,Ym,Jm=s(511),Xm=s(2041),Qm=s(225),Zm=s(767),e1=0,ld=Xm,qu=Qm,Nr=Zm,Gr=Jm,zu=0,Hu=1,t1=2,Wu=3,Vu=4,cd=5,n1=6,ud=7,hd=8,$u=9,fd=10,Dw=[2,3,7],Fw=[3,3,11],r1=[280,256,256,256,40],Mw=[0,1,1,1,0],jw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Bw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Uw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],qw=8,dd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],pd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],tc=null,zw=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Hw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],i1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Ww=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$w=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Gw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],js=[],si=[],ts=[],Kw=1,s1=2,Bs=[],Kr=[];yr("UpsampleRgbLinePair",qo,3),yr("UpsampleBgrLinePair",zo,3),yr("UpsampleRgbaLinePair",Vl,4),yr("UpsampleBgraLinePair",Wl,4),yr("UpsampleArgbLinePair",Wo,4),yr("UpsampleRgba4444LinePair",Ho,2),yr("UpsampleRgb565LinePair",Zn,2);var Yw=V.UpsampleRgbLinePair,Jw=V.UpsampleBgrLinePair,o1=V.UpsampleRgbaLinePair,a1=V.UpsampleBgraLinePair,l1=V.UpsampleArgbLinePair,c1=V.UpsampleRgba4444LinePair,Xw=V.UpsampleRgb565LinePair,Gu=16,Ku=1<<Gu-1,nc=-227,gd=482,Qw=6,u1=0,Zw=s(256),eS=s(256),tS=s(256),nS=s(256),rS=s(gd-nc),iS=s(gd-nc);Qi("YuvToRgbRow",qo,3),Qi("YuvToBgrRow",zo,3),Qi("YuvToRgbaRow",Vl,4),Qi("YuvToBgraRow",Wl,4),Qi("YuvToArgbRow",Wo,4),Qi("YuvToRgba4444Row",Ho,2),Qi("YuvToRgb565Row",Zn,2);var h1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yu=[0,2,8],sS=[8,7,6,4,4,2,2,2,1,1,1,1],oS=1;this.WebPDecodeRGBA=function(h,f,v,b,x){var A=Hu,P=new ie,L=new Vt;P.ba=L,L.S=A,L.width=[L.width],L.height=[L.height];var D=L.width,z=L.height,Q=new ut;if(Q==null||h==null)var ge=2;else e(Q!=null),ge=Vo(h,f,v,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(ge!=0?D=0:(D!=null&&(D[0]=Q.width[0]),z!=null&&(z[0]=Q.height[0]),D=1),D){L.width=L.width[0],L.height=L.height[0],b!=null&&(b[0]=L.width),x!=null&&(x[0]=L.height);e:{if(b=new Ca,(x=new Ce).data=h,x.w=f,x.ha=v,x.kd=1,f=[0],e(x!=null),((h=Vo(x.data,x.w,x.ha,null,null,null,f,null,x))==0||h==7)&&f[0]&&(h=4),(f=h)==0){if(e(P!=null),b.data=x.data,b.w=x.w+x.offset,b.ha=x.ha-x.offset,b.put=it,b.ac=Si,b.bc=Vi,b.ma=P,x.xa){if((h=Po())==null){P=1;break e}if(function(H,re){var ce=[0],Se=[0],de=[0];t:for(;;){if(H==null)return 0;if(re==null)return H.a=2,0;if(H.l=re,H.a=0,we(H.m,re.data,re.w,re.ha),!$i(H.m,ce,Se,de)){H.a=3;break t}if(H.xb=s1,re.width=ce[0],re.height=Se[0],!Ai(ce[0],Se[0],1,H,null))break t;return 1}return e(H.a!=0),0}(h,b)){if(b=(f=ks(b.width,b.height,P.Oa,P.ba))==0){t:{b=h;n:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((x=v.ma)!=null),b.xb!=0){if(b.ca=x.ba,b.tb=x.tb,e(b.ca!=null),!$l(x.Oa,v,Wu)){b.a=2;break n}if(!No(b,v.width)||v.da)break n;if((v.da||pt(b.ca.S))&&Wr(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&Wr()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!C(b.s.vb,b.s.Wa.Xa)){b.a=1;break n}b.xb=0}if(!ri(b,b.V,b.Ba,b.c,b.i,v.o,Cs))break n;x.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(f=h.a)}else f=h.a}else{if((h=new Gf)==null){P=1;break e}if(h.Fa=x.na,h.P=x.P,h.qc=x.Sa,Nu(h,b)){if((f=ks(b.width,b.height,P.Oa,P.ba))==0){if(h.Aa=0,v=P.Oa,e((x=h)!=null),v!=null){if(0<(D=0>(D=v.Md)?0:100<D?255:255*D/100)){for(z=Q=0;4>z;++z)12>(ge=x.pb[z]).lc&&(ge.ia=D*sS[0>ge.lc?0:ge.lc]>>3),Q|=ge.ia;Q&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=v.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}(function(H,re){if(H==null)return 0;if(re==null)return In(H,2,"NULL VP8Io parameter in VP8Decode().");if(!H.cb&&!Nu(H,re))return 0;if(e(H.cb),re.ac==null||re.ac(re)){re.ob&&(H.L=0);var ce=Yu[H.L];if(H.L==2?(H.yb=0,H.zb=0):(H.yb=re.v-ce>>4,H.zb=re.j-ce>>4,0>H.yb&&(H.yb=0),0>H.zb&&(H.zb=0)),H.Va=re.o+15+ce>>4,H.Hb=re.va+15+ce>>4,H.Hb>H.za&&(H.Hb=H.za),H.Va>H.Ub&&(H.Va=H.Ub),0<H.L){var Se=H.ed;for(ce=0;4>ce;++ce){var de;if(H.Qa.Cb){var Ie=H.Qa.Lb[ce];H.Qa.Fb||(Ie+=Se.Tb)}else Ie=Se.Tb;for(de=0;1>=de;++de){var Pe=H.gd[ce][de],Re=Ie;if(Se.Pc&&(Re+=Se.vd[0],de&&(Re+=Se.od[0])),0<(Re=0>Re?0:63<Re?63:Re)){var Le=Re;0<Se.wb&&(Le=4<Se.wb?Le>>2:Le>>1)>9-Se.wb&&(Le=9-Se.wb),1>Le&&(Le=1),Pe.dd=Le,Pe.tc=2*Re+Le,Pe.ld=40<=Re?2:15<=Re?1:0}else Pe.tc=0;Pe.La=de}}}ce=0}else In(H,6,"Frame setup failed"),ce=H.a;if(ce=ce==0){if(ce){H.$c=0,0<H.Aa||(H.Ic=oS);t:{ce=H.Ic,Se=4*(Le=H.za);var Qe=32*Le,We=Le+1,vt=0<H.L?Le*(0<H.Aa?2:1):0,Ye=(H.Aa==2?2:1)*Le;if((Pe=Se+832+(de=3*(16*ce+Yu[H.L])/2*Qe)+(Ie=H.Fa!=null&&0<H.Fa.length?H.Kc.c*H.Kc.i:0))!=Pe)ce=0;else{if(Pe>H.Vb){if(H.Vb=0,H.Ec=s(Pe),H.Fc=0,H.Ec==null){ce=In(H,1,"no memory during frame initialization.");break t}H.Vb=Pe}Pe=H.Ec,Re=H.Fc,H.Ac=Pe,H.Bc=Re,Re+=Se,H.Gd=o(Qe,Eu),H.Hd=0,H.rb=o(We+1,Rl),H.sb=1,H.wa=vt?o(vt,Hr):null,H.Y=0,H.D.Nb=0,H.D.wa=H.wa,H.D.Y=H.Y,0<H.Aa&&(H.D.Y+=Le),e(!0),H.oc=Pe,H.pc=Re,Re+=832,H.ya=o(Ye,Ol),H.aa=0,H.D.ya=H.ya,H.D.aa=H.aa,H.Aa==2&&(H.D.aa+=Le),H.R=16*Le,H.B=8*Le,Le=(Qe=Yu[H.L])*H.R,Qe=Qe/2*H.B,H.sa=Pe,H.ta=Re+Le,H.qa=H.sa,H.ra=H.ta+16*ce*H.R+Qe,H.Ha=H.qa,H.Ia=H.ra+8*ce*H.B+Qe,H.$c=0,Re+=de,H.mb=Ie?Pe:null,H.nb=Ie?Re:null,e(Re+Ie<=H.Fc+H.Vb),Lo(H),i(H.Ac,H.Bc,0,Se),ce=1}}if(ce){if(re.ka=0,re.y=H.sa,re.O=H.ta,re.f=H.qa,re.N=H.ra,re.ea=H.Ha,re.Vd=H.Ia,re.fa=H.R,re.Rc=H.B,re.F=null,re.J=0,!e1){for(ce=-255;255>=ce;++ce)Jm[255+ce]=0>ce?-ce:ce;for(ce=-1020;1020>=ce;++ce)Xm[1020+ce]=-128>ce?-128:127<ce?127:ce;for(ce=-112;112>=ce;++ce)Qm[112+ce]=-16>ce?-16:15<ce?15:ce;for(ce=-255;510>=ce;++ce)Zm[255+ce]=0>ce?0:255<ce?255:ce;e1=1}Ms=ku,Ko=Yf,Pi=Jf,Dt=Ii,$t=Lu,$r=Kf,_n=Ou,Tn=Du,es=g,Zl=S,Da=jo,Uu=Fu,qm=W,zm=Y,Hm=Hl,Wm=Mo,Vm=Tu,$m=Ru,si[0]=rd,si[1]=Fl,si[2]=td,si[3]=nd,si[4]=id,si[5]=Yi,si[6]=Ki,si[7]=sd,si[8]=Pa,si[9]=od,js[0]=Ns,js[1]=Qf,js[2]=Zf,js[3]=Ml,js[4]=ed,js[5]=Ro,js[6]=jl,ts[0]=La,ts[1]=Xf,ts[2]=Bl,ts[3]=Oo,ts[4]=Ul,ts[5]=ad,ts[6]=ql,ce=1}else ce=0}ce&&(ce=function(Ct,Rn){for(Ct.M=0;Ct.M<Ct.Va;++Ct.M){var bt,Je=Ct.Jc[Ct.M&Ct.Xb],je=Ct.m,yn=Ct;for(bt=0;bt<yn.za;++bt){var gt=je,Pt=yn,rn=Pt.Ac,Vn=Pt.Bc+4*bt,ur=Pt.zc,hn=Pt.ya[Pt.aa+bt];if(Pt.Qa.Bb?hn.$b=oe(gt,Pt.Pa.jb[0])?2+oe(gt,Pt.Pa.jb[2]):oe(gt,Pt.Pa.jb[1]):hn.$b=0,Pt.kc&&(hn.Ad=oe(gt,Pt.Bd)),hn.Za=!oe(gt,145)+0,hn.Za){var er=hn.Ob,hr=0;for(Pt=0;4>Pt;++Pt){var On,Nt=ur[0+Pt];for(On=0;4>On;++On){Nt=Vw[rn[Vn+On]][Nt];for(var Bt=i1[oe(gt,Nt[0])];0<Bt;)Bt=i1[2*Bt+oe(gt,Nt[Bt])];Nt=-Bt,rn[Vn+On]=Nt}r(er,hr,rn,Vn,4),hr+=4,ur[0+Pt]=Nt}}else Nt=oe(gt,156)?oe(gt,128)?1:3:oe(gt,163)?2:0,hn.Ob[0]=Nt,i(rn,Vn,Nt,4),i(ur,0,Nt,4);hn.Dd=oe(gt,142)?oe(gt,114)?oe(gt,183)?1:3:2:0}if(yn.m.Ka)return In(Ct,7,"Premature end-of-partition0 encountered.");for(;Ct.ja<Ct.za;++Ct.ja){if(yn=Je,gt=(je=Ct).rb[je.sb-1],rn=je.rb[je.sb+je.ja],bt=je.ya[je.aa+je.ja],Vn=je.kc?bt.Ad:0)gt.la=rn.la=0,bt.Za||(gt.Na=rn.Na=0),bt.Hc=0,bt.Gc=0,bt.ia=0;else{var fn,Ut;if(gt=rn,rn=yn,Vn=je.Pa.Xc,ur=je.ya[je.aa+je.ja],hn=je.pb[ur.$b],Pt=ur.ad,er=0,hr=je.rb[je.sb-1],Nt=On=0,i(Pt,er,0,384),ur.Za)var $n=0,oi=Vn[3];else{Bt=s(16);var wn=gt.Na+hr.Na;if(wn=tc(rn,Vn[1],wn,hn.Eb,0,Bt,0),gt.Na=hr.Na=(0<wn)+0,1<wn)Ms(Bt,0,Pt,er);else{var wr=Bt[0]+3>>3;for(Bt=0;256>Bt;Bt+=16)Pt[er+Bt]=wr}$n=1,oi=Vn[0]}var Gt=15&gt.la,Dn=15&hr.la;for(Bt=0;4>Bt;++Bt){var Lr=1&Dn;for(wr=Ut=0;4>wr;++wr)Gt=Gt>>1|(Lr=(wn=tc(rn,oi,wn=Lr+(1&Gt),hn.Sc,$n,Pt,er))>$n)<<7,Ut=Ut<<2|(3<wn?3:1<wn?2:Pt[er+0]!=0),er+=16;Gt>>=4,Dn=Dn>>1|Lr<<7,On=(On<<8|Ut)>>>0}for(oi=Gt,$n=Dn>>4,fn=0;4>fn;fn+=2){for(Ut=0,Gt=gt.la>>4+fn,Dn=hr.la>>4+fn,Bt=0;2>Bt;++Bt){for(Lr=1&Dn,wr=0;2>wr;++wr)wn=Lr+(1&Gt),Gt=Gt>>1|(Lr=0<(wn=tc(rn,Vn[2],wn,hn.Qc,0,Pt,er)))<<3,Ut=Ut<<2|(3<wn?3:1<wn?2:Pt[er+0]!=0),er+=16;Gt>>=2,Dn=Dn>>1|Lr<<5}Nt|=Ut<<4*fn,oi|=Gt<<4<<fn,$n|=(240&Dn)<<fn}gt.la=oi,hr.la=$n,ur.Hc=On,ur.Gc=Nt,ur.ia=43690&Nt?0:hn.ia,Vn=!(On|Nt)}if(0<je.L&&(je.wa[je.Y+je.ja]=je.gd[bt.$b][bt.Za],je.wa[je.Y+je.ja].La|=!Vn),yn.Ka)return In(Ct,7,"Premature end-of-file encountered.")}if(Lo(Ct),je=Rn,yn=1,bt=(Je=Ct).D,gt=0<Je.L&&Je.M>=Je.zb&&Je.M<=Je.Va,Je.Aa==0)t:{if(bt.M=Je.M,bt.uc=gt,Vr(Je,bt),yn=1,bt=(Ut=Je.D).Nb,gt=(Nt=Yu[Je.L])*Je.R,rn=Nt/2*Je.B,Bt=16*bt*Je.R,wr=8*bt*Je.B,Vn=Je.sa,ur=Je.ta-gt+Bt,hn=Je.qa,Pt=Je.ra-rn+wr,er=Je.Ha,hr=Je.Ia-rn+wr,Dn=(Gt=Ut.M)==0,On=Gt>=Je.Va-1,Je.Aa==2&&Vr(Je,Ut),Ut.uc)for(Lr=(wn=Je).D.M,e(wn.D.uc),Ut=wn.yb;Ut<wn.Hb;++Ut){$n=Ut,oi=Lr;var fr=(kr=(Gn=wn).D).Nb;fn=Gn.R;var kr=kr.wa[kr.Y+$n],Tr=Gn.sa,Sr=Gn.ta+16*fr*fn+16*$n,Rr=kr.dd,Qt=kr.tc;if(Qt!=0)if(e(3<=Qt),Gn.L==1)0<$n&&Wm(Tr,Sr,fn,Qt+4),kr.La&&$m(Tr,Sr,fn,Qt),0<oi&&Hm(Tr,Sr,fn,Qt+4),kr.La&&Vm(Tr,Sr,fn,Qt);else{var Or=Gn.B,ai=Gn.qa,Yo=Gn.ra+8*fr*Or+8*$n,ns=Gn.Ha,Gn=Gn.Ia+8*fr*Or+8*$n;fr=kr.ld,0<$n&&(Tn(Tr,Sr,fn,Qt+4,Rr,fr),Zl(ai,Yo,ns,Gn,Or,Qt+4,Rr,fr)),kr.La&&(Uu(Tr,Sr,fn,Qt,Rr,fr),zm(ai,Yo,ns,Gn,Or,Qt,Rr,fr)),0<oi&&(_n(Tr,Sr,fn,Qt+4,Rr,fr),es(ai,Yo,ns,Gn,Or,Qt+4,Rr,fr)),kr.La&&(Da(Tr,Sr,fn,Qt,Rr,fr),qm(ai,Yo,ns,Gn,Or,Qt,Rr,fr))}}if(Je.ia&&alert("todo:DitherRow"),je.put!=null){if(Ut=16*Gt,Gt=16*(Gt+1),Dn?(je.y=Je.sa,je.O=Je.ta+Bt,je.f=Je.qa,je.N=Je.ra+wr,je.ea=Je.Ha,je.W=Je.Ia+wr):(Ut-=Nt,je.y=Vn,je.O=ur,je.f=hn,je.N=Pt,je.ea=er,je.W=hr),On||(Gt-=Nt),Gt>je.o&&(Gt=je.o),je.F=null,je.J=null,Je.Fa!=null&&0<Je.Fa.length&&Ut<Gt&&(je.J=En(Je,je,Ut,Gt-Ut),je.F=Je.mb,je.F==null&&je.F.length==0)){yn=In(Je,3,"Could not decode alpha data.");break t}Ut<je.j&&(Nt=je.j-Ut,Ut=je.j,e(!(1&Nt)),je.O+=Je.R*Nt,je.N+=Je.B*(Nt>>1),je.W+=Je.B*(Nt>>1),je.F!=null&&(je.J+=je.width*Nt)),Ut<Gt&&(je.O+=je.v,je.N+=je.v>>1,je.W+=je.v>>1,je.F!=null&&(je.J+=je.v),je.ka=Ut-je.j,je.U=je.va-je.v,je.T=Gt-Ut,yn=je.put(je))}bt+1!=Je.Ic||On||(r(Je.sa,Je.ta-gt,Vn,ur+16*Je.R,gt),r(Je.qa,Je.ra-rn,hn,Pt+8*Je.B,rn),r(Je.Ha,Je.Ia-rn,er,hr+8*Je.B,rn))}if(!yn)return In(Ct,6,"Output aborted.")}return 1}(H,re)),re.bc!=null&&re.bc(re),ce&=1}return ce?(H.cb=0,ce):0})(h,b)||(f=h.a)}}else f=h.a}f==0&&P.Oa!=null&&P.Oa.fd&&(f=Gl(P.ba))}P=f}A=P!=0?null:11>A?L.f.RGBA.eb:L.f.kb.y}else A=null;return A};var f1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(V,se){for(var N="",U=0;U<4;U++)N+=String.fromCharCode(V[se++]);return N}function u(V,se){return V[se+0]|V[se+1]<<8}function d(V,se){return(V[se+0]|V[se+1]<<8|V[se+2]<<16)>>>0}function m(V,se){return(V[se+0]|V[se+1]<<8|V[se+2]<<16|V[se+3]<<24)>>>0}new l;var p=[0],_=[0],y=[],E=new l,w=t,R=function(V,se){var N={},U=0,K=!1,G=0,pe=0;if(N.frames=[],!function(I,k){for(var F=0;F<4;F++)if(I[k+F]!="RIFF".charCodeAt(F))return!0;return!1}(V,se)){for(m(V,se+=4),se+=8;se<V.length;){var be=c(V,se),he=m(V,se+=4);se+=4;var te=he+(1&he);switch(be){case"VP8 ":case"VP8L":N.frames[U]===void 0&&(N.frames[U]={}),(Ne=N.frames[U]).src_off=K?pe:se-8,Ne.src_size=G+he+8,U++,K&&(K=!1,G=0,pe=0);break;case"VP8X":(Ne=N.header={}).feature_flags=V[se];var we=se+4;Ne.canvas_width=1+d(V,we),we+=3,Ne.canvas_height=1+d(V,we),we+=3;break;case"ALPH":K=!0,G=te+8,pe=se-8;break;case"ANIM":(Ne=N.header).bgcolor=m(V,se),we=se+4,Ne.loop_count=u(V,we),we+=2;break;case"ANMF":var Te,Ne;(Ne=N.frames[U]={}).offset_x=2*d(V,se),se+=3,Ne.offset_y=2*d(V,se),se+=3,Ne.width=1+d(V,se),se+=3,Ne.height=1+d(V,se),se+=3,Ne.duration=d(V,se),se+=3,Te=V[se++],Ne.dispose=1&Te,Ne.blend=Te>>1&1}be!="ANMF"&&(se+=te)}return N}}(w,0);R.response=w,R.rgbaoutput=!0,R.dataurl=!1;var B=R.header?R.header:null,T=R.frames?R.frames:null;if(B){B.loop_counter=B.loop_count,p=[B.canvas_height],_=[B.canvas_width];for(var ee=0;ee<T.length&&T[ee].blend!=0;ee++);}var ve=T[0],fe=E.WebPDecodeRGBA(w,ve.src_off,ve.src_size,_,p);ve.rgba=fe,ve.imgwidth=_[0],ve.imgheight=p[0];for(var ne=0;ne<_[0]*p[0]*4;ne++)y[ne]=fe[ne];return this.width=_,this.height=p,this.data=y,this}(function(t){var e,n,r,i,s,o,a,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new o,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new o,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var k=I;Object.defineProperty(this,"pdf",{get:function(){return k}});var F=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return F},set:function(j){F=!!j}});var $=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return $},set:function(j){$=!!j}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(j){isNaN(j)||(X=j)}});var q=0;Object.defineProperty(this,"posY",{get:function(){return q},set:function(j){isNaN(j)||(q=j)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(j){var C;typeof j=="number"?C=[j,j,j,j]:((C=new Array(4))[0]=j[0],C[1]=j.length>=2?j[1]:C[0],C[2]=j.length>=3?j[2]:C[0],C[3]=j.length>=4?j[3]:C[1]),c.margin=C}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(j){Z=j}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(j){J=j}});var oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return oe},set:function(j){oe=j}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(j){j instanceof u&&(c=j)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(j){c.path=j}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(j){Ee=j}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(j){var C;C=m(j),this.ctx.fillStyle=C.style,this.ctx.isFillTransparent=C.a===0,this.ctx.fillOpacity=C.a,this.pdf.setFillColor(C.r,C.g,C.b,{a:C.a}),this.pdf.setTextColor(C.r,C.g,C.b,{a:C.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(j){var C=m(j);this.ctx.strokeStyle=C.style,this.ctx.isStrokeTransparent=C.a===0,this.ctx.strokeOpacity=C.a,C.a===0?this.pdf.setDrawColor(255,255,255):(C.a,this.pdf.setDrawColor(C.r,C.g,C.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(j){["butt","round","square"].indexOf(j)!==-1&&(this.ctx.lineCap=j,this.pdf.setLineCap(j))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(j){isNaN(j)||(this.ctx.lineWidth=j,this.pdf.setLineWidth(j))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(j){["bevel","round","miter"].indexOf(j)!==-1&&(this.ctx.lineJoin=j,this.pdf.setLineJoin(j))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(j){isNaN(j)||(this.ctx.miterLimit=j,this.pdf.setMiterLimit(j))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(j){this.ctx.textBaseline=j}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(j){["right","end","center","left","start"].indexOf(j)!==-1&&(this.ctx.textAlign=j)}});var O=null,M=null;Object.defineProperty(this,"fontFaces",{get:function(){return M},set:function(j){O=null,M=j}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(j){var C;if(this.ctx.font=j,(C=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(j))!==null){var _e=C[1];C[2];var me=C[3],xe=C[4];C[5];var ae=C[6],ye=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(xe)[2];xe=Math.floor(ye==="px"?parseFloat(xe)*this.pdf.internal.scaleFactor:ye==="em"?parseFloat(xe)*this.pdf.getFontSize():parseFloat(xe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(xe);var ue=function(Ge){var ze,St,xt=[],Ke=Ge.trim();if(Ke==="")return mp;if(Ke in Ev)return[Ev[Ke]];for(;Ke!=="";){switch(St=null,ze=(Ke=Pv(Ke)).charAt(0)){case'"':case"'":St=b8(Ke.substring(1),ze);break;default:St=_8(Ke)}if(St===null||(xt.push(St[0]),(Ke=Pv(St[1]))!==""&&Ke.charAt(0)!==","))return mp;Ke=Ke.replace(/^,/,"")}return xt}(ae);if(this.fontFaces){var Oe=function(Ge,ze){if(O===null){var St=function(xt){var Ke=[];return Object.keys(xt).forEach(function(et){xt[et].forEach(function(yt){var rt=null;switch(yt){case"bold":rt={family:et,weight:"bold"};break;case"italic":rt={family:et,style:"italic"};break;case"bolditalic":rt={family:et,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:et}}rt!==null&&(rt.ref={name:et,style:yt},Ke.push(rt))})}),Ke}(Ge.getFontList());O=function(xt){for(var Ke={},et=0;et<xt.length;++et){var yt=gp(xt[et]),rt=yt.family,Et=yt.stretch,pt=yt.style,mn=yt.weight;Ke[rt]=Ke[rt]||{},Ke[rt][Et]=Ke[rt][Et]||{},Ke[rt][Et][pt]=Ke[rt][Et][pt]||{},Ke[rt][Et][pt][mn]=yt}return Ke}(St.concat(ze))}return O}(this.pdf,this.fontFaces),Ae=ue.map(function(Ge){return{family:Ge,stretch:"normal",weight:me,style:_e}}),Me=function(Ge,ze,St){for(var xt=(St=St||{}).defaultFontFamily||"times",Ke=Object.assign({},v8,St.genericFontFamilies||{}),et=null,yt=null,rt=0;rt<ze.length;++rt)if(Ke[(et=gp(ze[rt])).family]&&(et.family=Ke[et.family]),Ge.hasOwnProperty(et.family)){yt=Ge[et.family];break}if(!(yt=yt||Ge[xt]))throw new Error("Could not find a font-family for the rule '"+Cv(et)+"' and default family '"+xt+"'.");if(yt=function(Et,pt){if(pt[Et])return pt[Et];var mn=pg[Et],Ln=mn<=pg.normal?-1:1,Vt=Iv(pt,fw,mn,Ln);if(!Vt)throw new Error("Could not find a matching font-stretch value for "+Et);return Vt}(et.stretch,yt),yt=function(Et,pt){if(pt[Et])return pt[Et];for(var mn=hw[Et],Ln=0;Ln<mn.length;++Ln)if(pt[mn[Ln]])return pt[mn[Ln]];throw new Error("Could not find a matching font-style for "+Et)}(et.style,yt),!(yt=function(Et,pt){if(pt[Et])return pt[Et];if(Et===400&&pt[500])return pt[500];if(Et===500&&pt[400])return pt[400];var mn=m8[Et],Ln=Iv(pt,dw,mn,Et<400?-1:1);if(!Ln)throw new Error("Could not find a matching font-weight for value "+Et);return Ln}(et.weight,yt)))throw new Error("Failed to resolve a font for the rule '"+Cv(et)+"'.");return yt}(Oe,Ae);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var De="";(me==="bold"||parseInt(me,10)>=700||_e==="bold")&&(De="bold"),_e==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Be="",tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ue=0;Ue<ue.length;Ue++){if(this.pdf.internal.getFont(ue[Ue],De,{noFallback:!0,disableWarning:!0})!==void 0){Be=ue[Ue];break}if(De==="bolditalic"&&this.pdf.internal.getFont(ue[Ue],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=ue[Ue],De="bold";else if(this.pdf.internal.getFont(ue[Ue],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=ue[Ue],De="normal";break}}if(Be===""){for(var qe=0;qe<ue.length;qe++)if(tt[ue[qe]]){Be=tt[ue[qe]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(j){this.ctx.globalCompositeOperation=j}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(j){this.ctx.globalAlpha=j}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(j){this.ctx.lineDashOffset=j,Ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(j){this.ctx.lineDash=j,Ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(j){this.ctx.ignoreClearRect=!!j}})};d.prototype.setLineDash=function(I){this.lineDash=I},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){T.call(this,"fill",!1)},d.prototype.stroke=function(){T.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(I,k){if(isNaN(I)||isNaN(k))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var F=this.ctx.transform.applyToPoint(new o(I,k));this.path.push({type:"mt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(I,k)},d.prototype.closePath=function(){var I=new o(0,0),k=0;for(k=this.path.length-1;k!==-1;k--)if(this.path[k].type==="begin"&&zt(this.path[k+1])==="object"&&typeof this.path[k+1].x=="number"){I=new o(this.path[k+1].x,this.path[k+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(I.x,I.y)},d.prototype.lineTo=function(I,k){if(isNaN(I)||isNaN(k))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var F=this.ctx.transform.applyToPoint(new o(I,k));this.path.push({type:"lt",x:F.x,y:F.y}),this.ctx.lastPoint=new o(F.x,F.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),T.call(this,null,!0)},d.prototype.quadraticCurveTo=function(I,k,F,$){if(isNaN(F)||isNaN($)||isNaN(I)||isNaN(k))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(F,$)),q=this.ctx.transform.applyToPoint(new o(I,k));this.path.push({type:"qct",x1:q.x,y1:q.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},d.prototype.bezierCurveTo=function(I,k,F,$,X,q){if(isNaN(X)||isNaN(q)||isNaN(I)||isNaN(k)||isNaN(F)||isNaN($))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new o(X,q)),J=this.ctx.transform.applyToPoint(new o(I,k)),oe=this.ctx.transform.applyToPoint(new o(F,$));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:oe.x,y2:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},d.prototype.arc=function(I,k,F,$,X,q){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($)||isNaN(X))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(q=!!q,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new o(I,k));I=Z.x,k=Z.y;var J=this.ctx.transform.applyToPoint(new o(0,F)),oe=this.ctx.transform.applyToPoint(new o(0,0));F=Math.sqrt(Math.pow(J.x-oe.x,2)+Math.pow(J.y-oe.y,2))}Math.abs(X-$)>=2*Math.PI&&($=0,X=2*Math.PI),this.path.push({type:"arc",x:I,y:k,radius:F,startAngle:$,endAngle:X,counterclockwise:q})},d.prototype.arcTo=function(I,k,F,$,X){throw new Error("arcTo not implemented.")},d.prototype.rect=function(I,k,F,$){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,k),this.lineTo(I+F,k),this.lineTo(I+F,k+$),this.lineTo(I,k+$),this.lineTo(I,k),this.lineTo(I+F,k),this.lineTo(I,k)},d.prototype.fillRect=function(I,k,F,$){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,k,F,$),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},d.prototype.strokeRect=function(I,k,F,$){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(I,k,F,$),this.stroke())},d.prototype.clearRect=function(I,k,F,$){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,k,F,$))},d.prototype.save=function(I){I=typeof I!="boolean"||I;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("q");if(this.pdf.setPage(k),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var $=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$}},d.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var k=this.pdf.internal.getCurrentPageInfo().pageNumber,F=0;F<this.pdf.internal.getNumberOfPages();F++)this.pdf.setPage(F+1),this.pdf.internal.out("Q");this.pdf.setPage(k),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(I){var k,F,$,X;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))k=0,F=0,$=0,X=0;else{var q=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(q!==null)k=parseInt(q[1]),F=parseInt(q[2]),$=parseInt(q[3]),X=1;else if((q=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)k=parseInt(q[1]),F=parseInt(q[2]),$=parseInt(q[3]),X=parseFloat(q[4]);else{if(X=1,typeof I=="string"&&I.charAt(0)!=="#"){var Z=new iw(I);I=Z.ok?Z.toHex():"#000000"}I.length===4?(k=I.substring(1,2),k+=k,F=I.substring(2,3),F+=F,$=I.substring(3,4),$+=$):(k=I.substring(1,3),F=I.substring(3,5),$=I.substring(5,7)),k=parseInt(k,16),F=parseInt(F,16),$=parseInt($,16)}}return{r:k,g:F,b:$,a:X,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(I,k,F,$){if(isNaN(k)||isNaN(F)||typeof I!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($=isNaN($)?void 0:$,!p.call(this)){var X=te(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;U.call(this,{text:I,x:k,y:F,scale:q,angle:X,align:this.textAlign,maxWidth:$})}},d.prototype.strokeText=function(I,k,F,$){if(isNaN(k)||isNaN(F)||typeof I!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){$=isNaN($)?void 0:$;var X=te(this.ctx.transform.rotation),q=this.ctx.transform.scaleX;U.call(this,{text:I,x:k,y:F,scale:q,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:$})}},d.prototype.measureText=function(I){if(typeof I!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var k=this.pdf,F=this.pdf.internal.scaleFactor,$=k.internal.getFontSize(),X=k.getStringUnitWidth(I)*$/k.internal.scaleFactor;return new function(q){var Z=(q=q||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this}({width:X*=Math.round(96*F/72*1e4)/1e4})},d.prototype.scale=function(I,k){if(isNaN(I)||isNaN(k))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var F=new l(I,0,0,k,0,0);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.rotate=function(I){if(isNaN(I))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var k=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(k)},d.prototype.translate=function(I,k){if(isNaN(I)||isNaN(k))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var F=new l(1,0,0,1,I,k);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.transform=function(I,k,F,$,X,q){if(isNaN(I)||isNaN(k)||isNaN(F)||isNaN($)||isNaN(X)||isNaN(q))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new l(I,k,F,$,X,q);this.ctx.transform=this.ctx.transform.multiply(Z)},d.prototype.setTransform=function(I,k,F,$,X,q){I=isNaN(I)?1:I,k=isNaN(k)?0:k,F=isNaN(F)?0:F,$=isNaN($)?1:$,X=isNaN(X)?0:X,q=isNaN(q)?0:q,this.ctx.transform=new l(I,k,F,$,X,q)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(I,k,F,$,X,q,Z,J,oe){var Ee=this.pdf.getImageProperties(I),O=1,M=1,j=1,C=1;$!==void 0&&J!==void 0&&(j=J/$,C=oe/X,O=Ee.width/$*J/$,M=Ee.height/X*oe/X),q===void 0&&(q=k,Z=F,k=0,F=0),$!==void 0&&J===void 0&&(J=$,oe=X),$===void 0&&J===void 0&&(J=Ee.width,oe=Ee.height);for(var _e,me=this.ctx.transform.decompose(),xe=te(me.rotate.shx),ae=new l,ye=(ae=(ae=(ae=ae.multiply(me.translate)).multiply(me.skew)).multiply(me.scale)).applyToRectangle(new a(q-k*j,Z-F*C,$*O,X*M)),ue=E.call(this,ye),Oe=[],Ae=0;Ae<ue.length;Ae+=1)Oe.indexOf(ue[Ae])===-1&&Oe.push(ue[Ae]);if(B(Oe),this.autoPaging)for(var Me=Oe[0],De=Oe[Oe.length-1],Be=Me;Be<De+1;Be++){this.pdf.setPage(Be);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Be===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ze=Be===1?0:qe+(Be-2)*Ge;if(this.ctx.clip_path.length!==0){var St=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(_e,this.posX+this.margin[3],-ze+Ue+this.ctx.prevPageLastElemOffset),ee.call(this,"fill",!0),this.path=St}var xt=JSON.parse(JSON.stringify(ye));xt=R([xt],this.posX+this.margin[3],-ze+Ue+this.ctx.prevPageLastElemOffset)[0];var Ke=(Be>Me||Be<De)&&y.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,Ge,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",xt.x,xt.y,xt.w,xt.h,null,null,xe),Ke&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",ye.x,ye.y,ye.w,ye.h,null,null,xe)};var E=function(I,k,F){var $=[];k=k||this.pdf.internal.pageSize.width,F=F||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":$.push(Math.floor((I.y+X)/F)+1);break;case"arc":$.push(Math.floor((I.y+X-I.radius)/F)+1),$.push(Math.floor((I.y+X+I.radius)/F)+1);break;case"qct":var q=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);$.push(Math.floor((q.y+X)/F)+1),$.push(Math.floor((q.y+q.h+X)/F)+1);break;case"bct":var Z=Te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);$.push(Math.floor((Z.y+X)/F)+1),$.push(Math.floor((Z.y+Z.h+X)/F)+1);break;case"rect":$.push(Math.floor((I.y+X)/F)+1),$.push(Math.floor((I.y+I.h+X)/F)+1)}for(var J=0;J<$.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<$[J];)w.call(this);return $},w=function(){var I=this.fillStyle,k=this.strokeStyle,F=this.font,$=this.lineCap,X=this.lineWidth,q=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=k,this.font=F,this.lineCap=$,this.lineWidth=X,this.lineJoin=q},R=function(I,k,F){for(var $=0;$<I.length;$++)switch(I[$].type){case"bct":I[$].x2+=k,I[$].y2+=F;case"qct":I[$].x1+=k,I[$].y1+=F;default:I[$].x+=k,I[$].y+=F}return I},B=function(I){return I.sort(function(k,F){return k-F})},T=function(I,k){for(var F,$,X=this.fillStyle,q=this.strokeStyle,Z=this.lineCap,J=this.lineWidth,oe=Math.abs(J*this.ctx.transform.scaleX),Ee=this.lineJoin,O=JSON.parse(JSON.stringify(this.path)),M=JSON.parse(JSON.stringify(this.path)),j=[],C=0;C<M.length;C++)if(M[C].x!==void 0)for(var _e=E.call(this,M[C]),me=0;me<_e.length;me+=1)j.indexOf(_e[me])===-1&&j.push(_e[me]);for(var xe=0;xe<j.length;xe++)for(;this.pdf.internal.getNumberOfPages()<j[xe];)w.call(this);if(B(j),this.autoPaging)for(var ae=j[0],ye=j[j.length-1],ue=ae;ue<ye+1;ue++){this.pdf.setPage(ue),this.fillStyle=X,this.strokeStyle=q,this.lineCap=Z,this.lineWidth=oe,this.lineJoin=Ee;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ae=ue===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ue===1?0:Me+(ue-2)*De;if(this.ctx.clip_path.length!==0){var tt=this.path;F=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(F,this.posX+this.margin[3],-Be+Ae+this.ctx.prevPageLastElemOffset),ee.call(this,I,!0),this.path=tt}if($=JSON.parse(JSON.stringify(O)),this.path=R($,this.posX+this.margin[3],-Be+Ae+this.ctx.prevPageLastElemOffset),k===!1||ue===0){var Ue=(ue>ae||ue<ye)&&y.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,De,null).clip().discardPath()),ee.call(this,I,k),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=oe,ee.call(this,I,k),this.lineWidth=J;this.path=O},ee=function(I,k){if((I!=="stroke"||k||!_.call(this))&&(I==="stroke"||k||!p.call(this))){for(var F,$,X=[],q=this.path,Z=0;Z<q.length;Z++){var J=q[Z];switch(J.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:J,deltas:[],abs:[]});break;case"lt":var oe=X.length;if(q[Z-1]&&!isNaN(q[Z-1].x)&&(F=[J.x-q[Z-1].x,J.y-q[Z-1].y],oe>0)){for(;oe>=0;oe--)if(X[oe-1].close!==!0&&X[oe-1].begin!==!0){X[oe-1].deltas.push(F),X[oe-1].abs.push(J);break}}break;case"bct":F=[J.x1-q[Z-1].x,J.y1-q[Z-1].y,J.x2-q[Z-1].x,J.y2-q[Z-1].y,J.x-q[Z-1].x,J.y-q[Z-1].y],X[X.length-1].deltas.push(F);break;case"qct":var Ee=q[Z-1].x+2/3*(J.x1-q[Z-1].x),O=q[Z-1].y+2/3*(J.y1-q[Z-1].y),M=J.x+2/3*(J.x1-J.x),j=J.y+2/3*(J.y1-J.y),C=J.x,_e=J.y;F=[Ee-q[Z-1].x,O-q[Z-1].y,M-q[Z-1].x,j-q[Z-1].y,C-q[Z-1].x,_e-q[Z-1].y],X[X.length-1].deltas.push(F);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(J)}}$=k?null:I==="stroke"?"stroke":"fill";for(var me=!1,xe=0;xe<X.length;xe++)if(X[xe].arc)for(var ae=X[xe].abs,ye=0;ye<ae.length;ye++){var ue=ae[ye];ue.type==="arc"?ne.call(this,ue.x,ue.y,ue.radius,ue.startAngle,ue.endAngle,ue.counterclockwise,void 0,k,!me):K.call(this,ue.x,ue.y),me=!0}else if(X[xe].close===!0)this.pdf.internal.out("h"),me=!1;else if(X[xe].begin!==!0){var Oe=X[xe].start.x,Ae=X[xe].start.y;G.call(this,X[xe].deltas,Oe,Ae),me=!0}$&&V.call(this,$),k&&se.call(this)}},ve=function(I){var k=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,F=k*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-F;case"top":return I+k-F;case"hanging":return I+k-2*F;case"middle":return I+k/2-F;default:return I}},fe=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(k,F){this.colorStops.push([k,F])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var ne=function(I,k,F,$,X,q,Z,J,oe){for(var Ee=be.call(this,F,$,X,q),O=0;O<Ee.length;O++){var M=Ee[O];O===0&&(oe?N.call(this,M.x1+I,M.y1+k):K.call(this,M.x1+I,M.y1+k)),pe.call(this,I,k,M.x2,M.y2,M.x3,M.y3,M.x4,M.y4)}J?se.call(this):V.call(this,Z)},V=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(I,k){this.pdf.internal.out(n(I)+" "+r(k)+" m")},U=function(I){var k;switch(I.align){case"right":case"end":k="right";break;case"center":k="center";break;default:k="left"}var F=this.pdf.getTextDimensions(I.text),$=ve.call(this,I.y),X=fe.call(this,$)-F.h,q=this.ctx.transform.applyToPoint(new o(I.x,$)),Z=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var oe,Ee,O,M=this.ctx.transform.applyToRectangle(new a(I.x,$,F.w,F.h)),j=J.applyToRectangle(new a(I.x,X,F.w,F.h)),C=E.call(this,j),_e=[],me=0;me<C.length;me+=1)_e.indexOf(C[me])===-1&&_e.push(C[me]);if(B(_e),this.autoPaging)for(var xe=_e[0],ae=_e[_e.length-1],ye=xe;ye<ae+1;ye++){this.pdf.setPage(ye);var ue=ye===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ae=this.pdf.internal.pageSize.height-this.margin[2],Me=Ae-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Be=De-this.margin[3],tt=ye===1?0:Oe+(ye-2)*Me;if(this.ctx.clip_path.length!==0){var Ue=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=R(oe,this.posX+this.margin[3],-1*tt+ue),ee.call(this,"fill",!0),this.path=Ue}var qe=R([JSON.parse(JSON.stringify(j))],this.posX+this.margin[3],-tt+ue+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*I.scale),O=this.lineWidth,this.lineWidth=O*I.scale);var Ge=this.autoPaging!=="text";if(Ge||qe.y+qe.h<=Ae){if(Ge||qe.y>=ue&&qe.x<=De){var ze=Ge?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||De-qe.x)[0],St=R([JSON.parse(JSON.stringify(M))],this.posX+this.margin[3],-tt+ue+this.ctx.prevPageLastElemOffset)[0],xt=Ge&&(ye>xe||ye<ae)&&y.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Me,null).clip().discardPath()),this.pdf.text(ze,St.x,St.y,{angle:I.angle,align:k,renderingMode:I.renderingMode}),xt&&this.pdf.restoreGraphicsState()}}else qe.y<Ae&&(this.ctx.prevPageLastElemOffset+=Ae-qe.y);I.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=O)}else I.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*I.scale),O=this.lineWidth,this.lineWidth=O*I.scale),this.pdf.text(I.text,q.x+this.posX,q.y+this.posY,{angle:I.angle,align:k,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=O)},K=function(I,k,F,$){F=F||0,$=$||0,this.pdf.internal.out(n(I+F)+" "+r(k+$)+" l")},G=function(I,k,F){return this.pdf.lines(I,k,F,null,null)},pe=function(I,k,F,$,X,q,Z,J){this.pdf.internal.out([e(i(F+I)),e(s($+k)),e(i(X+I)),e(s(q+k)),e(i(Z+I)),e(s(J+k)),"c"].join(" "))},be=function(I,k,F,$){for(var X=2*Math.PI,q=Math.PI/2;k>F;)k-=X;var Z=Math.abs(F-k);Z<X&&$&&(Z=X-Z);for(var J=[],oe=$?-1:1,Ee=k;Z>1e-5;){var O=Ee+oe*Math.min(Z,q);J.push(he.call(this,I,Ee,O)),Z-=Math.abs(O-Ee),Ee=O}return J},he=function(I,k,F){var $=(F-k)/2,X=I*Math.cos($),q=I*Math.sin($),Z=X,J=-q,oe=Z*Z+J*J,Ee=oe+Z*X+J*q,O=4/3*(Math.sqrt(2*oe*Ee)-Ee)/(Z*q-J*X),M=Z-O*J,j=J+O*Z,C=M,_e=-j,me=$+k,xe=Math.cos(me),ae=Math.sin(me);return{x1:I*Math.cos(k),y1:I*Math.sin(k),x2:M*xe-j*ae,y2:M*ae+j*xe,x3:C*xe-_e*ae,y3:C*ae+_e*xe,x4:I*Math.cos(F),y4:I*Math.sin(F)}},te=function(I){return 180*I/Math.PI},we=function(I,k,F,$,X,q){var Z=I+.5*(F-I),J=k+.5*($-k),oe=X+.5*(F-X),Ee=q+.5*($-q),O=Math.min(I,X,Z,oe),M=Math.max(I,X,Z,oe),j=Math.min(k,q,J,Ee),C=Math.max(k,q,J,Ee);return new a(O,j,M-O,C-j)},Te=function(I,k,F,$,X,q,Z,J){var oe,Ee,O,M,j,C,_e,me,xe,ae,ye,ue,Oe,Ae,Me=F-I,De=$-k,Be=X-F,tt=q-$,Ue=Z-X,qe=J-q;for(Ee=0;Ee<41;Ee++)xe=(_e=(O=I+(oe=Ee/40)*Me)+oe*((j=F+oe*Be)-O))+oe*(j+oe*(X+oe*Ue-j)-_e),ae=(me=(M=k+oe*De)+oe*((C=$+oe*tt)-M))+oe*(C+oe*(q+oe*qe-C)-me),Ee==0?(ye=xe,ue=ae,Oe=xe,Ae=ae):(ye=Math.min(ye,xe),ue=Math.min(ue,ae),Oe=Math.max(Oe,xe),Ae=Math.max(Ae,ae));return new a(Math.round(ye),Math.round(ue),Math.round(Oe-ye),Math.round(Ae-ue))},Ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,k,F=(I=this.ctx.lineDash,k=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:k}));this.prevLineDash!==F&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=F)}}})(Ze.API),function(t){var e=function(o){var a,l,c,u,d,m,p,_,y,E;for(l=[],c=0,u=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;u>c;c+=4)(d=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(m=(d=((d=((d=((d=(d-(E=d%85))/85)-(y=d%85))/85)-(_=d%85))/85)-(p=d%85))/85)%85,l.push(m+33,p+33,_+33,y+33,E+33)):l.push(122);return function(w,R){for(var B=R;B>0;B--)w.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(o){var a,l,c,u,d,m=String,p="length",_=255,y="charCodeAt",E="slice",w="replace";for(o[E](-2),o=o[E](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,d=(o+=a="uuuuu"[E](o[p]%5||5))[p];d>u;u+=5)l=52200625*(o[y](u)-33)+614125*(o[y](u+1)-33)+7225*(o[y](u+2)-33)+85*(o[y](u+3)-33)+(o[y](u+4)-33),c.push(_&l>>24,_&l>>16,_&l>>8,_&l);return function(R,B){for(var T=B;T>0;T--)R.pop()}(c,a[p]),m.fromCharCode.apply(m,c)},r=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},s=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=ag(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,m=0,p=function(_){var y=_.length,E=[],w=String.fromCharCode;for(m=0;m<y;m+=1)E.push(w(255&_.charCodeAt(m)));return E.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(p(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):Xd(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):Xd(()=>import("./purify.es-aGzT-_H7.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=zt(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var _=u[p],y=_.src.find(function(E){return E.format==="truetype"});y&&c.addFont(y.url,_.ref.name,_.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,u),m}).then(u,d).then(function(m){return c.updateProgress(1),m})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:o.convert(Object.assign({},u),Promise.prototype),m=c.call(d,a,l);return o.convert(m,u.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ze.getPageSize=function(a,l,c){if(zt(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,m=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var _,y=0,E=0;if(p.hasOwnProperty(m))y=p[m][1]/d,E=p[m][0]/d;else try{y=c[1],E=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",E>y&&(_=E,E=y,y=_);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>E&&(_=E,E=y,y=_)}return{width:E,height:y,unit:l,k:d,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(gp):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return Lv=t,this.internal.events.subscribe("postPutResources",function(){mh=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(mh+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Nv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Lv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){mh!==void 0&&Nv!==void 0&&this.internal.out("/Names <</JavaScript "+mh+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=n.internal.newObject();u.push(d);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var m,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,y={width:0,height:0,numcomponents:1},E=4;E<_;E+=2){if(E+=p,e.indexOf(d.charCodeAt(E+1))!==-1){m=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),y={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:m,numcomponents:d.charCodeAt(E+9)};break}p=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Ze.API),Ze.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,s=n8(t,{checkCrc:!0}),o=s.width,a=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(ne){for(var V=ne.width,se=ne.height,N=ne.data,U=ne.palette,K=ne.depth,G=!1,pe=[],be=[],he=void 0,te=!1,we=0,Te=0;Te<U.length;Te++){var Ne=O2(U[Te],4),I=Ne[0],k=Ne[1],F=Ne[2],$=Ne[3];pe.push(I,k,F),$!=null&&($===0?(we++,be.length<1&&be.push(Te)):$<255&&(te=!0))}if(te||we>1){G=!0,be=void 0;var X=V*se;he=new Uint8Array(X);for(var q=new DataView(N.buffer),Z=0;Z<X;Z++){var J=vp(q,Z,K),oe=O2(U[J],4)[3];he[Z]=oe}}else we===0&&(be=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:G?8:void 0,colorBytes:N,alphaBytes:he,needSMask:G,palette:pe,mask:be}}(s):l===2||l===4?function(ne){for(var V=ne.data,se=ne.width,N=ne.height,U=ne.channels,K=ne.depth,G=U===2?"DeviceGray":"DeviceRGB",pe=U-1,be=se*N,he=pe,te=be*he,we=1*be,Te=Math.ceil(te*K/8),Ne=Math.ceil(we*K/8),I=new Uint8Array(Te),k=new Uint8Array(Ne),F=new DataView(V.buffer),$=new DataView(I.buffer),X=new DataView(k.buffer),q=!1,Z=0;Z<be;Z++){for(var J=Z*U,oe=0;oe<he;oe++)Bv($,vp(F,J+oe,K),Z*he+oe,K);var Ee=vp(F,J+he,K);Ee<(1<<K)-1&&(q=!0),Bv(X,Ee,1*Z,K)}return{colorSpace:G,colorsPerPixel:pe,sMaskBitsPerComponent:q?K:void 0,colorBytes:I,alphaBytes:k,needSMask:q}}(s):function(ne){var V=ne.data,se=ne.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:se,colorsPerPixel:se==="DeviceGray"?1:3,colorBytes:V instanceof Uint16Array?function(N){for(var U=N.length,K=new Uint8Array(2*U),G=new DataView(K.buffer,K.byteOffset,K.byteLength),pe=0;pe<U;pe++)G.setUint16(2*pe,N[pe],!1);return K}(V):V,needSMask:!1}}(s);var d,m,p,_=i,y=_.colorSpace,E=_.colorsPerPixel,w=_.sMaskBitsPerComponent,R=_.colorBytes,B=_.alphaBytes,T=_.needSMask,ee=_.palette,ve=_.mask,fe=null;return r!==Ze.API.image_compression.NONE&&typeof ag=="function"?(fe=function(ne){var V;switch(ne){case Ze.API.image_compression.FAST:V=11;break;case Ze.API.image_compression.MEDIUM:V=13;break;case Ze.API.image_compression.SLOW:V=14;break;default:V=12}return V}(r),d=this.decode.FLATE_DECODE,m="/Predictor ".concat(fe," /Colors ").concat(E," /BitsPerComponent ").concat(u," /Columns ").concat(o),t=Ov(R,Math.ceil(o*E*u/8),E,u,r),T&&(p=Ov(B,Math.ceil(o*w/8),1,w,r))):(d=void 0,m=void 0,t=R,T&&(p=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:d,decodeParameters:m,transparency:ve,palette:ee,sMask:p,predictor:fe,width:o,height:a,bitsPerComponent:u,sMaskBitsPerComponent:w,colorSpace:y}}},function(t){t.processGIF89A=function(e,n,r,i){var s=new x8(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new bp(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Ze.API),li.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},li.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Kt.log("bit decode error:"+n)}},li.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},li.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},li.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},li.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=t}},li.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,c=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},li.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},li.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},li.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new li(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ze.API),qv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new qv(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new bp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ze.API),Ze.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],m=r[c+2],p=r[c+3];s[a++]=u,s[a++]=d,s[a++]=m,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qa=Ze.API,vh=qa.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=e.doKerning!==!1,m=0,p=t.length,_=0,y=a[0]||l,E=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=d&&zt(c[r])==="object"&&!isNaN(parseInt(c[r][_],10))?c[r][_]/u:0,E.push((a[r]||y)/l+m)),_=r;return E},kv=qa.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qa.processArabic&&(t=qa.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:vh.apply(this,arguments).reduce(function(s,o){return s+o},0)},Tv=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Rv=function(t,e,n){n||(n={});var r,i,s,o,a,l,c,u=[],d=[u],m=n.textIndent||0,p=0,_=0,y=t.split(" "),E=vh.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),R=[];y.map(function(T){(T=T.split(/\s*\n/)).length>1?R=R.concat(T.map(function(ee,ve){return(ve&&ee.length?`
`:"")+ee})):R.push(T[0])}),y=R,l=kv.apply(this,[w,n])}for(s=0,o=y.length;s<o;s++){var B=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),B=1),m+p+(_=(i=vh.apply(this,[r,n])).reduce(function(T,ee){return T+ee},0))>e||B){if(_>e){for(a=Tv.apply(this,[r,i,e-(m+p),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(T,ee){return T+ee},0)}else u=[r];d.push(u),m=_+l,p=E}else u.push(r),m+=p+_,p=E}return c=l?function(T,ee){return(ee?w:"")+T.join(" ")}:function(T){return T.join(" ")},d.map(c)},qa.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),m="Unicode";return d.metadata[m]?{widths:d.metadata[m].widths||{0:1},kerning:d.metadata[m].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(Rv.apply(this,[r[a],o,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=e[s],i[e[s]]=n[s];var o=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var p,_,y,E,w=["{"];for(var R in m){if(p=m[R],isNaN(parseInt(R,10))?_="'"+R+"'":(R=parseInt(R,10),_=(_=o(R).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof p=="number")p<0?(y=o(p).slice(3),E="-"):(y=o(p).slice(2),E=""),y=E+y.slice(0,-1)+i[y.slice(-1)];else{if(zt(p)!=="object")throw new Error("Don't know what to do with value type "+zt(p)+".");y=a(p)}w.push(_+y)}return w.push("}"),w.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,_,y,E,w={},R=1,B=w,T=[],ee="",ve="",fe=m.length-1,ne=1;ne<fe;ne+=1)(E=m[ne])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(E):E=="{"?(T.push([B,y]),B={},y=void 0):E=="}"?((_=T.pop())[0][_[1]]=B,y=void 0,B=_[0]):E=="-"?R=-1:y===void 0?r.hasOwnProperty(E)?(ee+=r[E],y=parseInt(ee,16)*R,R=1,ee=""):ee+=E:r.hasOwnProperty(E)?(ve+=r[E],B[y]=parseInt(ve,16)*R,R=1,y=void 0,ve=""):ve+=E;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var p=m.font,_=d.Unicode[p.postScriptName];_&&(p.metadata.Unicode={},p.metadata.Unicode.widths=_.widths,p.metadata.Unicode.kerning=_.kerning);var y=u.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(Ze.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Ph(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ze),Ze.API.addSvgAsImage=function(t,e,n,r,i,s,o,a){if(isNaN(e)||isNaN(n))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(lt.canvg?Promise.resolve(lt.canvg):Xd(()=>import("./index.es-DCJo_O0r.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),e,n,r,i,o,a)})},Ze.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ze.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function m(_,y){var E,w=!1;for(E=0;E<_.length;E+=1)_[E]===y&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(zt(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,y=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?y.push("/"+_+" /"+n[_].value):y.push("/"+_+" "+n[_].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,m=s.length;d<m;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(s){var o,a,l,c,u,d,m;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,m=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<m;d++)o=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<m.length;_++)p+=String.fromCharCode(m[_]);var y=c();u({data:p,addLength1:!0,objectId:y}),l("endobj");var E=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Va(a.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var R=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Va(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+Va(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+R+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,m="",p=0;p<d.length;p++)m+=String.fromCharCode(d[p]);var _=c();u({data:m,addLength1:!0,objectId:_}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Va(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Va(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},m=d.pdfEscape,p=d.activeFontKey,_=d.fonts,y=p,E="",w=0,R="",B=_[y].encoding;if(_[y].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(R=a,y=p,Array.isArray(a)&&(R=a[0]),w=0;w<R.length;w+=1)_[y].metadata.hasOwnProperty("cmap")&&(o=_[y].metadata.cmap.unicode.codeMap[R[w].charCodeAt(0)]),o||R[w].charCodeAt(0)<256&&_[y].metadata.hasOwnProperty("Unicode")?E+=R[w]:E+="";var T="";return parseInt(y.slice(1))<14||B==="WinAnsiEncoding"?T=m(E,y).split("").map(function(ee){return ee.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(T=n(E,_[y])),d.isHex=!0,{text:T,x:l,y:c,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([i(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(i(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,c,u,d=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),R=!1,B=0;this.__bidiEngine__={};var T=function(N){var U=N.charCodeAt(),K=U>>8,G=y[K];return G!==void 0?d[256*G+(255&U)]:K===252||K===253?"AL":w.test(K)?"L":K===8?"R":"N"},ee=function(N){for(var U,K=0;K<N.length;K++){if((U=T(N.charAt(K)))==="L")return!1;if(U==="R")return!0}return!1},ve=function(N,U,K,G){var pe,be,he,te,we=U[G];switch(we){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":R=!1;break;case"N":case"AN":break;case"EN":R&&(we="AN");break;case"AL":R=!0,we="R";break;case"WS":case"BN":we="N";break;case"CS":G<1||G+1>=U.length||(pe=K[G-1])!=="EN"&&pe!=="AN"||(be=U[G+1])!=="EN"&&be!=="AN"?we="N":R&&(be="AN"),we=be===pe?be:"N";break;case"ES":we=(pe=G>0?K[G-1]:"B")==="EN"&&G+1<U.length&&U[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&K[G-1]==="EN"){we="EN";break}if(R){we="N";break}for(he=G+1,te=U.length;he<te&&U[he]==="ET";)he++;we=he<te&&U[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(te=U.length,he=G+1;he<te&&U[he]==="NSM";)he++;if(he<te){var Te=N[G],Ne=Te>=1425&&Te<=2303||Te===64286;if(pe=U[he],Ne&&(pe==="R"||pe==="AL")){we="R";break}}}we=G<1||(pe=U[G-1])==="B"?"N":K[G-1];break;case"B":R=!1,i=!0,we=B;break;case"S":s=!0,we="N"}return we},fe=function(N,U,K){var G=N.split("");return K&&ne(G,K,{hiLevel:B}),G.reverse(),U&&U.reverse(),G.join("")},ne=function(N,U,K){var G,pe,be,he,te,we=-1,Te=N.length,Ne=0,I=[],k=B?p:m,F=[];for(R=!1,i=!1,s=!1,pe=0;pe<Te;pe++)F[pe]=T(N[pe]);for(be=0;be<Te;be++){if(te=Ne,I[be]=ve(N,F,I,be),G=240&(Ne=k[te][_[I[be]]]),Ne&=15,U[be]=he=k[Ne][5],G>0)if(G===16){for(pe=we;pe<be;pe++)U[pe]=1;we=-1}else we=-1;if(k[Ne][6])we===-1&&(we=be);else if(we>-1){for(pe=we;pe<be;pe++)U[pe]=he;we=-1}F[be]==="B"&&(U[be]=0),K.hiLevel|=he}s&&function($,X,q){for(var Z=0;Z<q;Z++)if($[Z]==="S"){X[Z]=B;for(var J=Z-1;J>=0&&$[J]==="WS";J--)X[J]=B}}(F,U,Te)},V=function(N,U,K,G,pe){if(!(pe.hiLevel<N)){if(N===1&&B===1&&!i)return U.reverse(),void(K&&K.reverse());for(var be,he,te,we,Te=U.length,Ne=0;Ne<Te;){if(G[Ne]>=N){for(te=Ne+1;te<Te&&G[te]>=N;)te++;for(we=Ne,he=te-1;we<he;we++,he--)be=U[we],U[we]=U[he],U[he]=be,K&&(be=K[we],K[we]=K[he],K[he]=be);Ne=te}Ne++}}},se=function(N,U,K){var G=N.split(""),pe={hiLevel:B};return K||(K=[]),ne(G,K,pe),function(be,he,te){if(te.hiLevel!==0&&u)for(var we,Te=0;Te<be.length;Te++)he[Te]===1&&(we=E.indexOf(be[Te]))>=0&&(be[Te]=E[we+1])}(G,K,pe),V(2,G,U,K,pe),V(1,G,U,K,pe),G.join("")};return this.__bidiEngine__.doBidiReorder=function(N,U,K){if(function(pe,be){if(be)for(var he=0;he<pe.length;he++)be[he]=he;a===void 0&&(a=ee(pe)),c===void 0&&(c=ee(pe))}(N,U),o||!l||c)if(o&&l&&a^c)B=a?1:0,N=fe(N,U,K);else if(!o&&l&&c)B=a?1:0,N=se(N,U,K),N=fe(N,U);else if(!o||a||l||c){if(o&&!l&&a^c)N=fe(N,U),a?(B=0,N=se(N,U,K)):(B=1,N=se(N,U,K),N=fe(N,U));else if(o&&a&&!l&&c)B=1,N=se(N,U,K),N=fe(N,U);else if(!o&&!l&&a^c){var G=u;a?(B=1,N=se(N,U,K),B=0,u=!1,N=se(N,U,K),u=G):(B=0,N=se(N,U,K),N=fe(N,U),B=1,u=!1,N=se(N,U,K),u=G,N=fe(N,U))}}else B=0,N=se(N,U,K);else B=a?1:0,N=se(N,U,K);return N},this.__bidiEngine__.setOptions=function(N){N&&(o=N.isInputVisual,l=N.isOutputVisual,a=N.isInputRtl,c=N.isOutputRtl,u=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new wo(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new j8(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new A8(this.contents),this.head=new E8(this),this.name=new k8(this),this.cmap=new gw(this),this.toUnicode={},this.hhea=new C8(this),this.maxp=new T8(this),this.hmtx=new R8(this),this.post=new N8(this),this.os2=new P8(this),this.loca=new M8(this),this.glyf=new O8(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var wi,wo=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),A8=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,c,u,d,m,p,_,y;for(y in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),u=16*p-d,(i=new wo).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*p,c=i.pos+s,a=null,_=[],n)for(m=n[y],i.writeString(y),i.writeInt(t(m)),i.writeInt(c),i.writeInt(m.length),_=_.concat(m),y==="head"&&(a=c),c+=m.length;c%4;)_.push(0),c++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=mw.call(n);n.length%4;)n.push(0);for(s=new wo(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),I8={}.hasOwnProperty,Hi=function(t,e){for(var n in e)I8.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var E8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new wo).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),zv=function(){function t(e,n){var r,i,s,o,a,l,c,u,d,m,p,_,y,E,w,R,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var T,ee;for(ee=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)ee.push(e.readUInt16());return ee}(),e.pos+=2,y=function(){var T,ee;for(ee=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)ee.push(e.readUInt16());return ee}(),c=function(){var T,ee;for(ee=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)ee.push(e.readUInt16());return ee}(),u=function(){var T,ee;for(ee=[],l=T=0;0<=m?T<m:T>m;l=0<=m?++T:--T)ee.push(e.readUInt16());return ee}(),i=(this.length-e.pos+this.offset)/2,a=function(){var T,ee;for(ee=[],l=T=0;0<=i?T<i:T>i;l=0<=i?++T:--T)ee.push(e.readUInt16());return ee}(),l=w=0,B=s.length;w<B;l=++w)for(E=s[l],r=R=_=y[l];_<=E?R<=E:R>=E;r=_<=E?++R:--R)u[l]===0?o=r+c[l]:(o=a[u[l]/2+(r-_)-(m-l)]||0)!==0&&(o+=c[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,c,u,d,m,p,_,y,E,w,R,B,T,ee,ve,fe,ne,V,se,N,U,K,G,pe,be,he,te,we,Te,Ne,I,k,F,$,X,q,Z,J,oe,Ee,O;switch(G=new wo,o=Object.keys(e).sort(function(M,j){return M-j}),n){case"macroman":for(y=0,E=function(){var M=[];for(_=0;_<256;++_)M.push(0);return M}(),R={0:0},s={},pe=0,we=o.length;pe<we;pe++)R[J=e[i=o[pe]]]==null&&(R[J]=++y),s[i]={old:e[i],new:R[e[i]]},E[i]=R[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(E),{charMap:s,subtable:G.data,maxGlyphID:y+1};case"unicode":for(U=[],d=[],B=0,R={},r={},w=c=null,be=0,Te=o.length;be<Te;be++)R[ee=e[i=o[be]]]==null&&(R[ee]=++B),r[i]={old:ee,new:R[ee]},a=R[ee]-i,w!=null&&a===c||(w&&d.push(w),U.push(i),c=a),w=i;for(w&&d.push(w),d.push(65535),U.push(65535),se=2*(V=U.length),ne=2*Math.pow(Math.log(V)/Math.LN2,2),m=Math.log(ne/2)/Math.LN2,fe=2*V-ne,l=[],ve=[],p=[],_=he=0,Ne=U.length;he<Ne;_=++he){if(N=U[_],u=d[_],N===65535){l.push(0),ve.push(0);break}if(N-(K=r[N].new)>=32768)for(l.push(0),ve.push(2*(p.length+V-_)),i=te=N;N<=u?te<=u:te>=u;i=N<=u?++te:--te)p.push(r[i].new);else l.push(K-N),ve.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*V+2*p.length),G.writeUInt16(0),G.writeUInt16(se),G.writeUInt16(ne),G.writeUInt16(m),G.writeUInt16(fe),q=0,I=d.length;q<I;q++)i=d[q],G.writeUInt16(i);for(G.writeUInt16(0),Z=0,k=U.length;Z<k;Z++)i=U[Z],G.writeUInt16(i);for(oe=0,F=l.length;oe<F;oe++)a=l[oe],G.writeUInt16(a);for(Ee=0,$=ve.length;Ee<$;Ee++)T=ve[Ee],G.writeUInt16(T);for(O=0,X=p.length;O<X;O++)y=p[O],G.writeUInt16(y);return{charMap:r,subtable:G.data,maxGlyphID:B+1}}},t}(),gw=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new zv(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=zv.encode(e,n),(i=new wo).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t}(),C8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),P8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),N8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,a,l;for(l=[],s=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;s=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),L8=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},k8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,s,o,a,l,c,u,d,m;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},s=u=0,d=r.length;u<d;s=++u)i=r[s],e.pos=i.offset,c=e.readString(i.length),o=new L8(c,i),l[m=i.nameID]==null&&(l[m]=[]),l[i.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),T8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),R8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,s,o,a,l;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(e.readInt16());return u}(),this.widths=(function(){var c,u,d,m;for(m=[],c=0,u=(d=this.metrics).length;c<u;c++)s=d[c],m.push(s.advance);return m}).call(this),r=this.widths[this.widths.length-1],l=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)l.push(this.widths.push(r));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),mw=[].slice,O8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,s,o,a,l,c,u,d;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(a=new wo(n.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=o===-1?new F8(a,c,d,l,u):new D8(a,o,c,d,l,u),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,s,o,a,l;for(o=[],s=[],a=0,l=n.length;a<l;a++)i=e[n[a]],s.push(o.length),i&&(o=o.concat(i.encode(r)));return s.push(o.length),{table:o,offsets:s}},t}(),D8=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),F8=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new wo(mw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),M8=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Hi(t,wi),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<r.length;++o)if(r[o]=i,s<n.length&&n[s]==o){++s,r[o]=i;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},t}(),j8=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,c,u,d,m,p,_,y,E,w;for(i in r=gw.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(_ in m=r.maxGlyphID,o)_ in p||(p[_]=m++);return u=function(R){var B,T;for(B in T={},R)T[R[B]]=B;return T}(p),d=Object.keys(u).sort(function(R,B){return R-B}),y=function(){var R,B,T;for(T=[],R=0,B=d.length;R<B;R++)a=d[R],T.push(u[a]);return T}(),s=this.font.glyf.encode(o,y,p),c=this.font.loca.encode(s.offsets,y),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function vw(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,c=a*l,u=/\r\n|\r|\n/g,d="",m=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(u):t,m=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=m/2*c:r.valign==="bottom"&&(n-=m*c),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),d&&m>=1){for(var _=0;_<d.length;_++)i.text(d[_],e-i.getStringUnitWidth(d[_])*p,n),n+=c;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var Hv={},ul=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:Hv=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var u=t.unifyColor(e.fillColor);u&&(r=this.jsPDFDocument).setFillColor.apply(r,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Hv||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),gg=function(t,e){return gg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},gg(t,e)};function bw(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var _w=function(t){bw(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function B8(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function U8(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function gf(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function yw(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=ww(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function ww(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function Vf(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Sw(t,e){var n=Vf(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function q8(t,e,n,r,i){var s={},o=1.3333333333333333,a=_p(e,function(B){return i.getComputedStyle(B).backgroundColor});a!=null&&(s.fillColor=a);var l=_p(e,function(B){return i.getComputedStyle(B).color});l!=null&&(s.textColor=l);var c=H8(r,n);c&&(s.cellPadding=c);var u="borderTopColor",d=o*n,m=r.borderTopWidth;if(r.borderBottomWidth===m&&r.borderRightWidth===m&&r.borderLeftWidth===m){var p=(parseFloat(m)||0)/d;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var _=_p(e,function(B){return i.getComputedStyle(B)[u]});_!=null&&(s.lineColor=_);var y=["left","right","center","justify"];y.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),y=["middle","bottom","top"],y.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var E=parseInt(r.fontSize||"");isNaN(E)||(s.fontSize=E/o);var w=z8(r);w&&(s.fontStyle=w);var R=(r.fontFamily||"").toLowerCase();return t.indexOf(R)!==-1&&(s.font=R),s}function z8(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function _p(t,e){var n=xw(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function xw(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:xw(t.parentElement,e):n}function H8(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=Vf(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function Aw(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],d=[],m=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:u,body:d,foot:m};for(var p=0;p<a.rows.length;p++){var _=a.rows[p],y=(o=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),E=W8(l,c,n,_,r,i);E&&(y==="thead"?u.push(E):y==="tfoot"?m.push(E):d.push(E))}return{head:u,body:d,foot:m}}function W8(t,e,n,r,i,s){for(var o=new _w(r),a=0;a<r.cells.length;a++){var l=r.cells[a],c=n.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;s&&(u=q8(t,l,e,c,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:V8(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function V8(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function $8(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function gs(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function Iw(t,e){var n=new ul(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();$8(i,r,e);var s=gs({},i,r,e),o;typeof window<"u"&&(o=window);var a=G8(i,r,e),l=K8(i,r,e),c=Y8(n,s),u=X8(n,s,o);return{id:e.tableId,content:u,hooks:l,styles:a,settings:c}}function G8(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],d=n[l];r.columnStyles=gs({},c,u,d)}else{var m=[t,e,n],p=m.map(function(_){return _[l]||{}});r[l]=gs({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function K8(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Y8(t,e){var n,r,i,s,o,a,l,c,u,d,m,p,_=Vf(e.margin,40/t.scaleFactor()),y=(n=J8(t,e.startY))!==null&&n!==void 0?n:_.top,E;e.showFoot===!0?E="everyPage":e.showFoot===!1?E="never":E=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var w;e.showHead===!0?w="everyPage":e.showHead===!1?w="never":w=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var R=(s=e.useCss)!==null&&s!==void 0?s:!1,B=e.theme||(R?"plain":"striped"),T=!!e.horizontalPageBreak,ee=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:R,theme:B,startY:y,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:w,showFoot:E,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(m=e.tableLineColor)!==null&&m!==void 0?m:200,horizontalPageBreak:T,horizontalPageBreakRepeat:ee,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function J8(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function X8(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=Aw(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||Q8(r,i,s);return{columns:l,head:r,body:i,foot:s}}function Q8(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var c=void 0;Array.isArray(r)?c=i.length:c=s+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var mg=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),Z8=function(t){bw(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(mg),eR=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var c=l[a],u=new Z8(e,this,r,i,s,o),d=c(u)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new mg(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new mg(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),Ew=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof _w&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),c=l+a;return c>i?c:i},0)},t}(),Cw=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=Vf(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),tR=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function nR(t,e){rR(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=vg(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=vg(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),sR(e),oR(e,t),iR(e)}function rR(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=Sw(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,s,l,null);var d=c.padding("horizontal");c.contentWidth=gf(c.text,c.styles,t)+d;var m=gf(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=m+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||r===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/n;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=u.cellWidth||u.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function vg(t,e,n){for(var r=e,i=t.reduce(function(p,_){return p+_.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,c=o.width+l,u=n(o),d=c<u?u:c;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var m=t.filter(function(p){return e<0?p.width>n(p):!0});m.length&&(e=vg(m,e,n))}return e}function iR(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(c)c.cell.height+=s.height,n=c.cell.colSpan,delete s.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=s.cells[l.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var d=r.length-i,m=u.rowSpan>d?d:u.rowSpan;e[l.index]={cell:u,left:m,row:s}}}}}function sR(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var c=i;delete r.cells[l.index],i=null,c.width=l.width+s}else{var c=r.cells[l.index];if(!c)continue;if(o=c.colSpan,s=0,c.colSpan>1){i=c,s+=l.width;continue}c.width=l.width+s}}}function oR(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],c=s.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Wv(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=Wv(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var d=c.styles.overflow(c.text,u);typeof d=="string"?c.text=[d]:c.text=d}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var m=c.contentHeight/c.rowSpan;c.rowSpan>1&&n.count*n.height<m*c.rowSpan?n={height:m,count:c.rowSpan}:n&&n.count>0&&n.height>m&&(m=n.height),m>s.height&&(s.height=m)}}n.count--}}function Wv(t,e,n,r,i){return t.map(function(s){return aR(s,e,n,r,i)})}function aR(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=gf(t,n,r))return t;for(;e<gf(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function Pw(t,e){var n=new ul(t),r=lR(e,n.scaleFactor()),i=new eR(e,r);return nR(n,i),n.applyStyles(n.userStyles),i}function lR(t,e){var n=t.content,r=uR(n.columns);if(n.head.length===0){var i=Vv(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=Vv(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:yp("head",n.head,r,o,s,e),body:yp("body",n.body,r,o,s,e),foot:yp("foot",n.foot,r,o,s,e)}}function yp(t,e,n,r,i,s){var o={},a=e.map(function(l,c){for(var u=0,d={},m=0,p=0,_=0,y=n;_<y.length;_++){var E=y[_];if(o[E.index]==null||o[E.index].left===0)if(p===0){var w=void 0;Array.isArray(l)?w=l[E.index-m-u]:w=l[E.dataKey];var R={};typeof w=="object"&&!Array.isArray(w)&&(R=(w==null?void 0:w.styles)||{});var B=hR(t,E,c,i,r,s,R),T=new Cw(w,B,t);d[E.dataKey]=T,d[E.index]=T,p=T.colSpan-1,o[E.index]={left:T.rowSpan-1,times:p}}else p--,m++;else o[E.index].left--,p=o[E.index].times,u++}return new Ew(l,c,t,d)});return a}function Vv(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=cR(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function cR(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uR(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new tR(i,e,n)})}function hR(t,e,n,r,i,s,o){var a=U8(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=gs({},a.table,a[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?u:{},m=t==="body"&&n%2===0?gs({},a.alternateRow,i.alternateRowStyles):{},p=B8(s),_=gs({},p,c,m,d);return gs(_,o)}function fR(t,e,n){var r;n===void 0&&(n={});var i=Sw(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(m){var p=e.columns.find(function(_){return _.dataKey===m||_.index===m});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var c=!0,u=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;u<e.columns.length;){if(s.has(u)){u++;continue}var d=e.columns[u].wrappedWidth;if(c||i>=d)c=!1,o.push(u),a.push(e.columns[u]),i-=d;else break;u++}return{colIndexes:o,columns:a,lastIndex:u-1}}function dR(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=fR(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function Nw(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(m,p){return m+p.height},0);a+=c}var u=new ul(t);(n.pageBreak==="always"||n.startY!=null&&a>u.pageSize().height)&&(kw(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var d=gs({},s);e.startPageNumber=u.pageNumber(),n.horizontalPageBreak?pR(u,e,d,s):(u.applyStyles(u.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(m){return Ss(u,e,m,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(m,p){var _=p===e.body.length-1;mf(u,e,m,_,d,s,e.columns)}),u.applyStyles(u.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(m){return Ss(u,e,m,s,e.columns)})),yw(u,e,d,s),e.callEndPageHooks(u,s),e.finalY=s.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function pR(t,e,n,r){var i=dR(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?Oc(t,e,n,r,c.columns,!0):$v(t,e,r,c.columns),gR(t,e,n,r,c.columns),wp(t,e,r,c.columns)});else for(var o=-1,a=i[0],l=function(){var c=o;if(a){t.applyStyles(t.userStyles);var u=a.columns;o>=0?Oc(t,e,n,r,u,!0):$v(t,e,r,u),c=Gv(t,e,o+1,r,u),wp(t,e,r,u)}var d=c-o;i.slice(1).forEach(function(m){t.applyStyles(t.userStyles),Oc(t,e,n,r,m.columns,!0),Gv(t,e,o+1,r,m.columns,d),wp(t,e,r,m.columns)}),o=c};o<e.body.length-1;)l()}function $v(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ss(t,e,s,n,r)})}function gR(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;mf(t,e,s,a,n,r,i)})}function Gv(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,c){var u=n+c===e.body.length-1,d=Lw(t,e,u,r);l.canEntireRowFit(d,i)&&(Ss(t,e,l,r,i),a=n+c)}),a}function wp(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ss(t,e,s,n,r)})}function mR(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function vR(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new Cw(c.raw,c.styles,c.section);u=gs(u,c),u.text=[];var d=mR(c,e,r);c.text.length>d&&(u.text=c.text.splice(d,c.text.length));var m=r.scaleFactor(),p=r.getLineHeightFactor();c.contentHeight=c.getContentHeight(m,p),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(m,p),u.contentHeight>s&&(s=u.contentHeight),i[l.index]=u}}var _=new Ew(t.raw,-1,t.section,i,!0);_.height=s;for(var y=0,E=n.columns;y<E.length;y++){var l=E[y],u=_.cells[l.index];u&&(u.height=_.height);var c=t.cells[l.index];c&&(c.height=t.height)}return _}function bR(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),c=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||r.settings.rowPageBreak==="avoid")}function mf(t,e,n,r,i,s,o){var a=Lw(t,e,r,s);if(n.canEntireRowFit(a,o))Ss(t,e,n,s,o);else if(bR(t,n,a,e)){var l=vR(n,a,e,t);Ss(t,e,n,s,o),Oc(t,e,i,s,o),mf(t,e,l,r,i,s,o)}else Oc(t,e,i,s,o),mf(t,e,n,r,i,s,o)}function Ss(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(c===!1){r.x+=a.width;continue}_R(t,l,r);var u=l.getTextPos();vw(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function _R(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=ww(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),yR(t,e,n,r.lineWidth))}function yR(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(c,u,d,m,p){t.getDocument().setLineWidth(c),t.getDocument().line(u,d,m,p,"S")}}function Lw(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function Oc(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Ss(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;yw(t,e,n,r),kw(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Ss(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function kw(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function wR(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=Iw(this,r),s=Pw(this,i);return Nw(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){vw(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return ul.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){ul.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new ul(this),s=Aw(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var Sp;function SR(t,e){var n=Iw(t,e),r=Pw(t,n);Nw(t,r)}try{if(typeof window<"u"&&window){var Kv=window,Yv=Kv.jsPDF||((Sp=Kv.jspdf)===null||Sp===void 0?void 0:Sp.jsPDF);Yv&&wR(Yv)}}catch(t){console.error("Could not apply autoTable plugin",t)}function xR(t){const e=t.split(`
`),n=[];let r=!1;for(const s of e){if(s.startsWith("ID;OBJETO;TIPO;ID SPAWN;POSICION")){r=!0;continue}if(r){if(!s||s.startsWith("ID;SPAWN"))break;n.push(s)}}const i={};return n.forEach(s=>{const[o,a]=s.split(";");o&&a&&(i[o.trim()]=a.trim())}),i}function Tw(t){return typeof t!="string"?t:t.toUpperCase()==="YES"?"SI":t.toUpperCase()==="NO"?"NO":t}function Rw(t,e){if(!t)return[];const n=xR(e);return t.split(";").map(r=>{const i=r.match(/^<(.+)>$/);return i?i[1].split(",").map(s=>{const o=s.trim();return n[o]||o}):null}).filter(Boolean)}function AR(t,e,n,r,i=20){const s=Rw(e,n).map(c=>r.order.map(u=>Tw(c[u]))),l=10+10;return i+l>280&&(t.addPage(),i=20),SR(t,{startY:i,head:[r.headers],body:s,theme:"grid",headStyles:{fillColor:[41,128,185]},styles:{fontSize:8,cellPadding:2}}),t.lastAutoTable.finalY+10}function IR(t,e,n){const r={"TABLA memView":{data:e.memViewObjects,config:ao.memView},"TABLA searchView":{data:e.searchViewObject,config:ao.searchView},"TABLA searchSelection":{data:e.searchSelectionTimes,config:ao.searchSelection},"TABLA searchChoiceInterval":{data:e.searchChoiceInterval,config:ao.searchChoiceInterval}};let i=t;return Object.entries(r).forEach(([s,{data:o,config:a}])=>{const l=Rw(o,n).map(u=>a.order.map(d=>Tw(u[d]))),c=[a.headers.join(";")].concat(l.map(u=>u.join(";"))).join(`
`);i=i.replace(s,c)}),i}const ao={memView:{title:"Tiempo en fase de memorizacin",headers:["Objeto","Tiempo de observacin","Inicio","Fin"],order:[0,3,1,2]},searchView:{title:"Tiempo en fase de bsqueda",headers:["Objeto","Tiempo de observacin","Inicio","Fin","Elegido"],order:[0,3,1,2,4]},searchSelection:{title:"Tiempo desde inicio bsqueda hasta eleccin",headers:["Objeto","Tiempo transcurrido","Inicio de etapa","Tiempo de eleccin"],order:[0,3,1,2]},searchChoiceInterval:{title:"Intervalo entre observacin de objetos",headers:["Objeto previo","Tiempo","Objeto actual","Tiempo","Tiempo transcurrido"],order:[0,1,2,3,4]}};function ER(t,e="pdf",n={}){if(!t)return;const{name:r="",email:i=""}=n,s=r.replace(/\s+/g,"");let o=t.date||"";if(o){const l=o.split("-");l.length===3&&(o=`${l[2]}-${l[1]}-${l[0]}`)}const a=`
  INFORME

  A. FECHA Y HORA
     
    a) Fecha: ${o}
    b) Hora: ${t.time}
  
  B. USUARIO
    
    a) Nombre y apellido: ${r}
    b) Email: ${i}

  C. PARMETROS DEL JUEGO

    a) Nivel del juego: ${t.level}

    b) Objetos a memorizar

          Cantidad de objetos: ${t.memObjects.length}

          Lista de objetos: 
          ${(t.memObjects??[]).join(`
          `)}

    c) Objetos distractores

          Cantidad de objetos: ${t.decoyObjects.length}

          Lista de objetos: 
          ${(t.decoyObjects??[]).join(`
          `)}
    
    d) Tiempo disponible para la etapa de memorizacin: ${t.memTime}s

    e) Tiempo disponible para la etapa de evaluacin: ${t.availableSearchTime}s
  
  D. RESULTADOS - Identificacin y eleccin de objetos

    a) Objetos a memorizar elegidos por el usuario (OME)

          Cantidad de objetos: ${t.truePositive}

          Lista de objetos: 
          ${(t.memChosen??[]).join(`
          `)}
    
    b) Objetos distractores elegidos por el usuario (ODE)

          Cantidad de objetos: ${t.falsePositive}

          Lista de objetos: 
          ${(t.decoyChosen??[]).join(`
          `)}
    
    c) Objetos a memorizar no elegidos por el usuario (OMNE):

          Cantidad de objetos: ${t.falseNegative}

          Lista de objetos: 
          ${(t.memNotChosen??[]).join(`
          `)}
    
    d) Objetos distractores no elegidos por el usuario (ODNE):

          Cantidad de objetos: ${t.trueNegative}

          Lista de objetos: 
          ${(t.decoyNotChosen??[]).join(`
          `)}
    
    e) Accuracy

        Interpretacin: Porcentaje de objetos identificados por el usuario, en relacin al total de objetos (objetos a memorizar ms objetos distractores).

        Clculo: (OME + ODNE) / (OME + ODE + OMNE + ODNE) * 100

        Valor obtenido: ${(t.accuracy*100).toFixed(2)}%
    
    f) Precisin

        Interpretacin: Porcentaje de objetos a memorizar elegidos por el usuario, en relacin al total de objetos elegidos.

        Clculo: OME / (OME + ODE) * 100

        Valor obtenido: ${(t.precision*100).toFixed(2)}%
    
    g) Recall

        Interpretacin: Porcentaje de objetos a memorizar elegidos por el usuario, en relacin al total de objetos a memorizar.

        Clculo: OME / (OME + OMNE) * 100

        Valor obtenido: ${(t.recall*100).toFixed(2)}%
    
    h) Tasa de error

        Interpretacin: Porcentaje de objetos distractores elegidos por el usuario, en relacin al total de objetos elegidos.

        Clculo: ODE / (OME + ODE) * 100

        Valor obtenido: ${(t.errorRate*100).toFixed(2)}%

    i) ndice de omisin

        Interpretacin: Porcentaje de objetos a memorizar que no fueron elegidos por el usuario, en relacin al total de objetos a memorizar.

        Clculo: OMNE / (OME + OMNE) * 100

        Valor obtenido: ${(t.omissionIndex*100).toFixed(2)}%

  E. RESULTADOS - Tiempos utilizados

    a) Tiempos utilizados por el usuario, durante la etapa de memorizacin, para la observacin detallada de los objetos:
    
TABLA memView

    b) Tiempo transcurrido entre la etapa de memorizacin y la etapa de evaluacin: ${t.intermediateTime}s

    c) Tiempo utilizado por el usuario durante la etapa de evaluacin (TUEE): ${t.searchTime}s

    d) Porcentaje de tiempo utilizado por el usuario:

        Interpretacin: Porcentaje de tiempo utilizado por el usuario durante la etapa de evaluacin, en relacin al tiempo disponible para la etapa de evaluacin (TDEE).

        Clculo: TUEE / TDEE * 100

        Valor obtenido: ${(t.temporalEfficiency*100).toFixed(2)}%
    
    e) Tiempos utilizados por el usuario, durante la etapa de evaluacin, para la observacin detallada de los objetos:
    
TABLA searchView
    
    f) Tiempos transcurridos desde que el usuario inici la etapa de evaluacin hasta las elecciones de los objetos:
    
TABLA searchSelection
    
    g) Tiempos transcurridos, durante la etapa de evaluacin, entre elecciones consecutivas de objetos:
    
TABLA searchChoiceInterval
  `;if(e==="txt"){const l=IR(a,t,t.logging),c=new Blob([l],{type:"text/plain;charset=utf-8"}),u=URL.createObjectURL(c),d=document.createElement("a");d.href=u,d.download=`informe_${s}_${o}.txt`,d.click(),URL.revokeObjectURL(u);return}if(e==="pdf"){const l=new Ze;let c=10;l.setFontSize(10);const u=a.split(`
`);let d=!1;const m=20,p=30;for(const _ of u){const y=_.trim();if(y.startsWith("TABLA ")){const E=y.replace("TABLA ","");let w=[],R;switch(E){case"memView":w=t.memViewObjects,R=ao.memView;break;case"searchView":w=t.searchViewObject,R=ao.searchView;break;case"searchSelection":w=t.searchSelectionTimes,R=ao.searchSelection;break;case"searchChoiceInterval":w=t.searchChoiceInterval,R=ao.searchChoiceInterval;break}w&&R&&(c=AR(l,w,t.logging,R,c))}else{if(y===""){c+=5,d=!1;continue}const w=["A.","B.","C.","D.","E.","INFORME"].some(B=>y.startsWith(B));if(l.setFont("helvetica",w?"bold":"normal"),y==="INFORME"&&(l.internal.pageSize.width,l.getTextWidth(y)),y.startsWith("Lista de objetos:")){d=!0,c>280&&(l.addPage(),c=20),l.text(y,p,c),c+=6;continue}const R=l.splitTextToSize(_,180);for(let B of R){c>280&&(l.addPage(),c=20);let T=m,ee=B;d&&(T=p,ee=" "+B.trim()),l.text(ee,T,c),c+=6}}}l.save(`informe_${s}_${o}.pdf`)}}const CR={class:"h-screen w-screen flex items-center justify-center bg-gray-50"},PR={class:"h-[95vh] w-full max-w-3xl flex flex-col p-4 bg-white rounded-lg shadow-md overflow-hidden"},NR={class:"sticky top-0 z-10 bg-white pt-4 pb-2"},LR={class:"bg-white shadow p-4 rounded mb-6 flex justify-between items-center"},kR={class:"flex flex-col grow min-h-0 overflow-y-auto pr-2 pt-2"},TR={key:0,class:"text-gray-500"},RR={key:1,class:"text-gray-500"},OR={key:2,class:"flex flex-col gap-4"},DR={class:"flex flex-col"},FR={class:"flex flex-col items-center"},MR={class:"flex gap-2"},jR=["onClick"],BR=["onClick"],UR=["onClick"],qR={__name:"PatientInfo",setup(t){const e=_a(),n=qi(),r=Jt(!0),i=e.query.id,s=Jt(null),o=Jt([]);Jt(!1),Jt(null);const a=()=>n.push({name:"PatientList"});xl(async()=>{try{const u=await Ar(Di(Jn(ro),`pacientes/${i}`));if(u.exists())s.value=u.val();else{r.value=!1;return}const d=s.value.email,m=await Ar(Di(Jn(ro),"results")),p=m.exists()?m.val():{},_=[];for(const[,y]of Object.entries(p))if(y.idPatient===d&&y.results)for(const[E,w]of Object.entries(y.results))_.push({...w,generalScore:w.generalScore||0});o.value=_,r.value=!1}catch(u){console.error("Error cargando historial:",u),r.value=!1}});const l=(u,d)=>{var m,p;u&&ER(u,d,{name:((m=s.value)==null?void 0:m.name)||"",email:((p=s.value)==null?void 0:p.email)||""})},c=u=>{var w,R;if(!u||!u.logging)return;const d=new Blob([u.logging],{type:"text/plain;charset=utf-8"}),m=`${((w=s.value)==null?void 0:w.name)||""}${((R=s.value)==null?void 0:R.lastName)||""}`.replace(/\s+/g,""),p=u.date?u.date.split("-").reverse().join("-"):"unknown",_=`log_${m}_${p}.txt`,y=URL.createObjectURL(d),E=document.createElement("a");E.href=y,E.download=_,E.click(),URL.revokeObjectURL(y)};return(u,d)=>{var m,p,_;return He(),nt("div",CR,[le("div",PR,[le("div",NR,[d[2]||(d[2]=le("h2",{class:"text-2xl font-bold mb-4 text-center"}," Historial de Resultados ",-1)),le("div",LR,[le("div",null,[le("p",null,[d[0]||(d[0]=le("strong",null,"Nombre:",-1)),Kn(" "+_t((m=s.value)==null?void 0:m.name)+" "+_t((p=s.value)==null?void 0:p.lastName),1)]),le("p",null,[d[1]||(d[1]=le("strong",null,"Email:",-1)),Kn(" "+_t((_=s.value)==null?void 0:_.email),1)])]),le("button",{class:"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800",onClick:a}," Volver ")])]),d[6]||(d[6]=le("h3",{class:"text-xl font-semibold mb-3"},"Resultados",-1)),le("div",kR,[r.value?(He(),nt("div",TR,"Cargando...")):o.value.length===0?(He(),nt("div",RR," Sin resultados registrados. ")):(He(),nt("ul",OR,[(He(!0),nt(ln,null,mo(o.value,(y,E)=>(He(),nt("li",{key:E,class:"border p-3 rounded shadow flex items-center justify-between"},[le("div",DR,[le("p",null,[d[3]||(d[3]=le("strong",null,"Fecha:",-1)),Kn(" "+_t(y.date)+" ("+_t(y.time)+")",1)]),le("p",null,[d[4]||(d[4]=le("strong",null,"Nivel:",-1)),Kn(" "+_t(y.level),1)])]),le("div",FR,[d[5]||(d[5]=le("p",{class:"font-semibold mb-1"},"Descargar informe",-1)),le("div",MR,[le("button",{class:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700",onClick:w=>l(y,"pdf")}," .pdf ",8,jR),le("button",{class:"bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",onClick:w=>l(y,"txt")}," .txt ",8,BR)])]),le("div",null,[le("button",{class:"bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700",onClick:w=>c(y)}," Descargar log ",8,UR)])]))),128))]))])])])}}},zR={class:"min-h-screen flex flex-col justify-center items-center p-4"},HR={class:"w-full max-w-3xl"},WR={class:"w-full flex flex-col gap-6"},VR={class:"font-medium"},$R={key:0,class:"text-sm text-gray-500"},GR=["onClick"],KR={__name:"SpawnSettingsView",setup(t){const e=_a(),n=qi(),{selectionsByLevel:r,getSearchObjects:i}=Dm(),s=["Hall","Pared de entrada","Pared de la TV","Pared opuesta","Centro del living"],o=(u,d)=>{n.push({path:"/select-items-new",query:{spawn:u,type:d,level:e.query.level,context:e.query.context,id:e.query.id}})},a=()=>{n.back()},l=u=>{const d=e.query.level,m=r[d];if(!m)return 0;const p=m[u];return p?u==="Hall"?Object.keys(p.search||{}).length:Object.keys(p.search||{}).length+Object.keys(p.distracting||{}).length:0},c=()=>{const u=e.query.level,d=r[u];if(!d)return;const m=i(u);if(m.length===0){alert("Debes seleccionar al menos un objeto en Hall");return}for(const p of m){let _=!1;for(const y of s){if(y==="Hall")continue;const E=d[y];if(E&&(E.search&&Object.values(E.search).includes(p)||E.distracting&&Object.values(E.distracting).includes(p))){_=!0;break}}if(!_){alert(`El objeto "${p}" del Hall no est asignado a ninguna otra pared`);return}}alert(" Configuracin guardada con xito"),n.back()};return(u,d)=>(He(),nt("div",zR,[le("div",HR,[d[0]||(d[0]=le("h1",{class:"text-center text-2xl font-bold mb-8"},"Ubicaciones",-1)),le("div",WR,[(He(),nt(ln,null,mo(s,m=>le("div",{key:m,class:"flex items-center justify-between p-4 border rounded"},[le("span",VR,[Kn(_t(m)+" ",1),l(m)>0?(He(),nt("span",$R," ("+_t(l(m))+" objetos) ",1)):vr("",!0)]),le("button",{class:"btn btn-primary",onClick:p=>o(m,m==="Hall"?"search":"distracting")}," Seleccionar objetos ",8,GR)])),64))])]),le("div",{class:"w-full max-w-3xl flex justify-between mt-auto px-4 pt-8"},[le("button",{class:"btn btn-secondary",onClick:a}," Salir sin guardar "),le("button",{class:"btn btn-primary",onClick:c}," Guardar cambios ")])]))}},YR={class:"flex flex-col p-4 items-center"},JR={class:"flex flex-col items-center justify-center w-full max-w-5xl"},XR={class:"text-3xl font-bold mb-2 text-center w-full"},QR={class:"flex items-center w-full mt-2"},ZR={key:1,class:"flex-grow flex items-center justify-center w-full h-[60vh] bg-gray-50 rounded shadow mx-2"},eO=["src","alt"],tO=["src"],nO={key:2,class:"flex-grow flex items-center justify-center w-full h-[60vh] bg-gray-50 rounded shadow mx-2"},rO={key:0,class:"text-lg text-center px-4 w-full"},iO={key:1,class:"text-center text-gray-500 mt-6"},sO={__name:"VirtualEnvironment",setup(t){const e=_a(),n=Jt([{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/hall.png",desc:"Esta es la zona donde el usuario tendr la posibilidad de observar los objetos detenidamente para recordarlos y luego buscarlos en el living. Los objetos estarn colocados en los estantes flotantes de la pared; o en el perchero, en caso de ser necesario.",section:"hall"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/centroNivel1.png",desc:"Zona central: un silln principal de un cuerpo y una mesa baja en el centro de la sala.",section:"lowLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/entradaNivel1.png",desc:"Entrada: es la primera zona que ver el usuario. Consta de un mueble bajo, decorado con un cuadro, una lampara y un jarrn. A la izquierda se ubica un perchero.",section:"lowLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/opuestoNivel1.png",desc:"Pared opuesta a la entrada: mueble modular con cajones y puertas para guardar objetos. Tambin incluye una pequea biblioteca y espacio en la superficie para colocar cosas.",section:"lowLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/tvNivel1.png",desc:"Zona de la TV: ubicada frente a la zona central. Tiene repisas inferiores y flotantes, adems de compartimentos cerrados para guardar objetos.",section:"lowLevel",section:"lowLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/centroNivel2.png",desc:"Zona central: dos sillones individuales con una mesa pequea entre ellos y una mesa ms grande al frente.",section:"highLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/entradaNivel2.png",desc:"Entrada: similar al nivel bajo, con un mueble bajo decorado y un perchero. Incluye cajones interactivos que pueden contener objetos.",section:"highLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/opuestoNivel2.png",desc:"Pared opuesta a la entrada: mismo mueble modular del nivel bajo, pero con una repisa extra en el centro.",section:"highLevel"},{type:"image",src:"/evaluacion-cognitiva-web/unityEnvironment/tvNivel2.png",desc:"Zona de la TV: frente al rea central. Permite colocar objetos dentro de los compartimentos, en la repisa flotante y en las repisas inferiores.",section:"highLevel"},{type:"video",src:"/evaluacion-cognitiva-web/unityEnvironment/tutorialVideo.mp4",desc:"Video demostracin de lo que se busca que haga el usuario. Se puede visualizar la tarea desde el inicio hasta el final con una explicacin detallada.",section:"tutorial"}]),r=e.params.section,i=Rt(()=>n.value.filter(u=>u.section===r)),s=Jt(0),o=()=>{s.value=(s.value-1+i.value.length)%i.value.length},a=()=>{s.value=(s.value+1)%i.value.length},l=Rt(()=>{switch(r){case"tutorial":return"Juego - Tutorial";case"hall":return"Juego - Hall";case"lowLevel":return"Juego - Nivel Bajo";case"highLevel":return"Juego - Nivel Alto";default:return"Juego"}}),c=()=>{window.history.back()};return(u,d)=>(He(),nt(ln,null,[le("div",{class:"w-full flex justify-start mb-4 p-4 max-w-5xl"},[le("button",{onClick:c,class:"ml-4 text-lg px-4 py-1 rounded bg-gray-200 hover:bg-gray-300","aria-label":"Volver"},"  ")]),le("div",YR,[le("div",JR,[le("h3",XR,_t(l.value),1),le("div",QR,[i.value.length>1?(He(),nt("button",{key:0,onClick:o,class:"text-4xl px-3 hover:text-gray-600"},"  ")):vr("",!0),i.value.length>0?(He(),nt("div",ZR,[i.value[s.value].type==="image"?(He(),nt("img",{key:0,src:i.value[s.value].src,alt:i.value[s.value].desc,class:"max-h-full max-w-full object-contain"},null,8,eO)):i.value[s.value].type==="video"?(He(),nt("video",{key:1,src:i.value[s.value].src,controls:"",class:"max-h-full max-w-full object-contain"},null,8,tO)):vr("",!0)])):(He(),nt("div",nO,d[0]||(d[0]=[le("p",{class:"text-gray-500 text-center"}," No hay imgenes disponibles para esta seccin. ",-1)]))),i.value.length>1?(He(),nt("button",{key:3,onClick:a,class:"text-4xl px-3 hover:text-gray-600"},"  ")):vr("",!0)]),d[1]||(d[1]=le("div",{class:"h-8"},null,-1)),i.value.length>0?(He(),nt("p",rO,_t(i.value[s.value].desc),1)):(He(),nt("p",iO," No hay imgenes disponibles para esta seccin. "))])])],64))}},oO=[{dbId:"aboveEntrance2",number:1,zone:"Pared de entrada",otherProp:"Arriba del mueble a la derecha"},{dbId:"aboveEntrance3",number:2,zone:"Pared de entrada",otherProp:"Arriba del mueble al medio"},{dbId:"aboveEntrance4",number:3,zone:"Pared de entrada",otherProp:"..."},{dbId:"upperHookL",number:4,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"upperHookR",number:5,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lowerHookL",number:6,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lowerHookR",number:7,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lv1AboveTvShelfFS1",number:1,zone:"Pared de la TV",otherProp:"Estantera flotante a la izquierda"},{dbId:"lv1AboveTvShelfFS2",number:2,zone:"Pared de la TV",otherProp:"Estantera flotante al medio"},{dbId:"lv1AboveTvShelfFS3",number:3,zone:"Pared de la TV",otherProp:"Estantera flotante a la derecha"},{dbId:"lv1NextTvLeft",number:4,zone:"Pared de la TV",otherProp:"A la izquierda del TV"},{dbId:"lv1NextTvRight",number:5,zone:"Pared de la TV",otherProp:"A la derecha del TV"},{dbId:"lv1Door1Shelf1L",number:6,zone:"Pared de la TV",otherProp:"Puerta de la izquierda 1"},{dbId:"lv1Door1Shelf1R",number:7,zone:"Pared de la TV",otherProp:"Puerta de la izquierda 2"},{dbId:"lv1Door1Shelf2L",number:8,zone:"Pared de la TV",otherProp:"Puerta de la izquierda 3"},{dbId:"lv1Door1Shelf2R",number:9,zone:"Pared de la TV",otherProp:"Puerta de la izquierda 4"},{dbId:"lv1Door2Shelf1L",number:10,zone:"Pared de la TV",otherProp:"Puerta de la derecha 1"},{dbId:"lv1Door2Shelf1R",number:11,zone:"Pared de la TV",otherProp:"Puerta de la derecha 2"},{dbId:"lv1Door2Shelf2L",number:12,zone:"Pared de la TV",otherProp:"Puerta de la derecha 3"},{dbId:"lv1Door2Shelf2R",number:13,zone:"Pared de la TV",otherProp:"Puerta de la derecha 4"},{dbId:"lv1TvShelf1L",number:14,zone:"Pared de la TV",otherProp:"Estantera bajo el TV 4"},{dbId:"lv1TvShelf1R",number:15,zone:"Pared de la TV",otherProp:"Estantera bajo el TV 3"},{dbId:"lv1TvShelf3L",number:16,zone:"Pared de la TV",otherProp:"Estantera bajo el TV 1"},{dbId:"lv1TvShelf2R",number:17,zone:"Pared de la TV",otherProp:"Estantera bajo el TV 2"},{dbId:"aboveOppDrawerShelf",number:1,zone:"Pared opuesta",otherProp:"Sobre la estanteria"},{dbId:"aboveLongFurn1",number:2,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo a la izquierda"},{dbId:"aboveLongFurn2",number:3,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo al medio"},{dbId:"aboveLongFurn3",number:4,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo a la derecha"},{dbId:"aboveOppDrawer",number:5,zone:"Pared opuesta",otherProp:"Sobre la cajonera"},{dbId:"oppBook1L",number:6,zone:"Pared opuesta",otherProp:"Estanteria arriba a la izquierda"},{dbId:"oppBook1R",number:7,zone:"Pared opuesta",otherProp:"Estanteria arriba a la derecha"},{dbId:"oppBook2L",number:8,zone:"Pared opuesta",otherProp:"Estanteria centro a la izquierda"},{dbId:"oppBook2R",number:9,zone:"Pared opuesta",otherProp:"Estanteria centro a la derecha"},{dbId:"oppBook3L",number:10,zone:"Pared opuesta",otherProp:"Estanteria abajo a la izquierda"},{dbId:"oppBook3R",number:11,zone:"Pared opuesta",otherProp:"Estanteria abajo a la derecha"},{dbId:"insideLongFurnDrawer1",number:12,zone:"Pared opuesta",otherProp:"Puerta lado izquierdo del mueble 1"},{dbId:"insideLongFurnDrawer3",number:13,zone:"Pared opuesta",otherProp:"Puerta lado izquierdo del mueble 2"},{dbId:"insideLongFurnDoorL",number:14,zone:"Pared opuesta",otherProp:"Puerta izquierda lado derecho del mueble"},{dbId:"insideLongFurnDoorR",number:15,zone:"Pared opuesta",otherProp:"Puerta derecha lado derecho del mueble"},{dbId:"insideOppDrawer1L",number:16,zone:"Pared opuesta",otherProp:"Cajn de arriba a la izquierda"},{dbId:"insideOppDrawer1R",number:17,zone:"Pared opuesta",otherProp:"Cajn de arriba a la derecha"},{dbId:"insideOppDrawer2L",number:18,zone:"Pared opuesta",otherProp:"Cajn del medio a la izquierda"},{dbId:"insideOppDrawer2R",number:19,zone:"Pared opuesta",otherProp:"Cajn del medio a la derecha"},{dbId:"insideOppDrawer3L",number:20,zone:"Pared opuesta",otherProp:"Cajn de abajo a la izquierda"},{dbId:"insideOppDrawer3R",number:21,zone:"Pared opuesta",otherProp:"Cajn de abajo a la derecha"},{dbId:"table1",number:1,zone:"Centro del living",otherProp:"Sobre la mesa 1"},{dbId:"table2",number:2,zone:"Centro del living",otherProp:"Sobre la mesa 2"},{dbId:"table3",number:3,zone:"Centro del living",otherProp:"Sobre la mesa 3"},{dbId:"table4",number:4,zone:"Centro del living",otherProp:"Sobre la mesa 4"},{dbId:"hall1",number:1,zone:"Hall",otherProp:"..."},{dbId:"hall2",number:2,zone:"Hall",otherProp:"..."},{dbId:"hall3",number:3,zone:"Hall",otherProp:"..."},{dbId:"hall4",number:4,zone:"Hall",otherProp:"..."},{dbId:"hall5",number:5,zone:"Hall",otherProp:"..."},{dbId:"hall6",number:6,zone:"Hall",otherProp:"..."},{dbId:"hall7",number:7,zone:"Hall",otherProp:"..."},{dbId:"hall8",number:8,zone:"Hall",otherProp:"..."},{dbId:"hall9",number:9,zone:"Hall",otherProp:"..."},{dbId:"hall10",number:10,zone:"Hall",otherProp:"..."},{dbId:"hall11",number:11,zone:"Hall",otherProp:"..."},{dbId:"hall12",number:12,zone:"Hall",otherProp:"..."},{dbId:"hallRack1",number:13,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack3",number:14,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack2",number:15,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack4",number:16,zone:"Hall",otherProp:"Perchero"}],aO=[{dbId:"aboveOppDrawerShelf",number:1,zone:"Pared opuesta",otherProp:"Sobre la estanteria"},{dbId:"oppBook1L",number:2,zone:"Pared opuesta",otherProp:"Estanteria arriba a la izquierda"},{dbId:"oppBook1R",number:3,zone:"Pared opuesta",otherProp:"Estanteria arriba a la derecha"},{dbId:"oppBook2L",number:4,zone:"Pared opuesta",otherProp:"Estanteria centro a la izquierda"},{dbId:"oppBook2R",number:5,zone:"Pared opuesta",otherProp:"Estanteria centro a la derecha"},{dbId:"oppBook3L",number:6,zone:"Pared opuesta",otherProp:"Estanteria abajo a la izquierda"},{dbId:"oppBook3R",number:7,zone:"Pared opuesta",otherProp:"Estanteria abajo a la derecha"},{dbId:"lv2LongFurnAboveShelves1",number:8,zone:"Pared opuesta",otherProp:"Ariba de la estanteria grande a la izquieda"},{dbId:"lv2LongFurnAboveShelves2",number:9,zone:"Pared opuesta",otherProp:"Ariba de la estanteria grande al medio"},{dbId:"lv2LongFurnAboveShelves3",number:10,zone:"Pared opuesta",otherProp:"Ariba de la estanteria grande a la derecha"},{dbId:"lv2LongFurnHighShelf1",number:11,zone:"Pared opuesta",otherProp:"Estanteria de arriba a la izquierda"},{dbId:"lv2LongFurnHighShelf2",number:12,zone:"Pared opuesta",otherProp:"Estanteria de arriba al centro"},{dbId:"lv2LongFurnHighShelf3",number:13,zone:"Pared opuesta",otherProp:"Estanteria de arriba a la derecha"},{dbId:"lv2LongFurnMiddleShelf1",number:14,zone:"Pared opuesta",otherProp:"Estanteria del medio a la izquierda"},{dbId:"lv2LongFurnMiddleShelf2",number:15,zone:"Pared opuesta",otherProp:"Estanteria del medio al centro"},{dbId:"lv2LongFurnMiddleShelf3",number:16,zone:"Pared opuesta",otherProp:"Estanteria del medio a la derecha"},{dbId:"aboveLongFurn1",number:17,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo a la izquierda"},{dbId:"aboveLongFurn2",number:18,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo al medio"},{dbId:"aboveLongFurn3",number:19,zone:"Pared opuesta",otherProp:"Sobre el mueble bajo a la derecha"},{dbId:"insideLongFurnDrawer1",number:20,zone:"Pared opuesta",otherProp:"Puerta lado izquierdo del mueble 1"},{dbId:"insideLongFurnDrawer3",number:21,zone:"Pared opuesta",otherProp:"Puerta lado izquierdo del mueble 3"},{dbId:"insideLongFurnDoorL",number:22,zone:"Pared opuesta",otherProp:"Puerta izquierda lado derecho del mueble"},{dbId:"insideLongFurnDoorR",number:23,zone:"Pared opuesta",otherProp:"Puerta derecha lado derecho del mueble"},{dbId:"aboveOppDrawer",number:24,zone:"Pared opuesta",otherProp:"Sobre la cajonera"},{dbId:"insideOppDrawer1L",number:25,zone:"Pared opuesta",otherProp:"Cajn de arriba a la izquierda"},{dbId:"insideOppDrawer1R",number:26,zone:"Pared opuesta",otherProp:"Cajn de arriba a la derecha"},{dbId:"insideOppDrawer2L",number:27,zone:"Pared opuesta",otherProp:"Cajn del medio a la izquierda"},{dbId:"insideOppDrawer2R",number:28,zone:"Pared opuesta",otherProp:"Cajn del medio a la derecha"},{dbId:"insideOppDrawer3L",number:29,zone:"Pared opuesta",otherProp:"Cajn de abajo a la izquierda"},{dbId:"insideOppDrawer3R",number:30,zone:"Pared opuesta",otherProp:"Cajn de abajo a la derecha"},{dbId:"aboveEntrance3",number:1,zone:"Pared de entrada",otherProp:"Arriba del mueble al medio"},{dbId:"lv2EntranceDrawer1L",number:2,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer1R",number:3,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer2L",number:4,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer2R",number:5,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer3L",number:6,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer3R",number:7,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer4L",number:8,zone:"Pared de entrada",otherProp:""},{dbId:"lv2EntranceDrawer4R",number:9,zone:"Pared de entrada",otherProp:""},{dbId:"upperHookL",number:10,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"upperHookR",number:11,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lowerHookL",number:12,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lowerHookR",number:13,zone:"Pared de entrada",otherProp:"Perchero"},{dbId:"lv2AboveTvShelfFS1",number:1,zone:"Pared de la TV",otherProp:""},{dbId:"lv2AboveTvShelfFS2",number:2,zone:"Pared de la TV",otherProp:""},{dbId:"lv2AboveTvShelfFS3",number:3,zone:"Pared de la TV",otherProp:""},{dbId:"lv2AboveTvShelfFS4",number:4,zone:"Pared de la TV",otherProp:""},{dbId:"lv2NextTvLeft",number:5,zone:"Pared de la TV",otherProp:""},{dbId:"lv2NextTvRight",number:6,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door1Shelf1L",number:7,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door1Shelf1R",number:8,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door1Shelf2L",number:9,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door1Shelf2R",number:10,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door2Shelf1L",number:11,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door2Shelf1R",number:12,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door2Shelf2L",number:13,zone:"Pared de la TV",otherProp:""},{dbId:"lv2Door2Shelf2R",number:14,zone:"Pared de la TV",otherProp:""},{dbId:"",number:15,zone:"Pared de la TV",otherProp:""},{dbId:"",number:16,zone:"Pared de la TV",otherProp:""},{dbId:"",number:17,zone:"Pared de la TV",otherProp:""},{dbId:"",number:18,zone:"Pared de la TV",otherProp:""},{dbId:"",number:19,zone:"Pared de la TV",otherProp:""},{dbId:"",number:20,zone:"Pared de la TV",otherProp:""},{dbId:"lv2SideTable",number:1,zone:"Centro del living",otherProp:""},{dbId:"lv2table1",number:2,zone:"Centro del living",otherProp:""},{dbId:"lv2table2",number:3,zone:"Centro del living",otherProp:""},{dbId:"lv2table3",number:4,zone:"Centro del living",otherProp:""},{dbId:"lv2table4",number:5,zone:"Centro del living",otherProp:""},{dbId:"hall1",number:1,zone:"Hall",otherProp:"..."},{dbId:"hall2",number:2,zone:"Hall",otherProp:"..."},{dbId:"hall3",number:3,zone:"Hall",otherProp:"..."},{dbId:"hall4",number:4,zone:"Hall",otherProp:"..."},{dbId:"hall5",number:5,zone:"Hall",otherProp:"..."},{dbId:"hall6",number:6,zone:"Hall",otherProp:"..."},{dbId:"hall7",number:7,zone:"Hall",otherProp:"..."},{dbId:"hall8",number:8,zone:"Hall",otherProp:"..."},{dbId:"hall9",number:9,zone:"Hall",otherProp:"..."},{dbId:"hall10",number:10,zone:"Hall",otherProp:"..."},{dbId:"hall11",number:11,zone:"Hall",otherProp:"..."},{dbId:"hall12",number:12,zone:"Hall",otherProp:"..."},{dbId:"hallRack1",number:13,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack3",number:14,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack2",number:15,zone:"Hall",otherProp:"Perchero"},{dbId:"hallRack4",number:16,zone:"Hall",otherProp:"Perchero"}],lO={lowLevel:oO,highLevel:aO},bg=[{name:"Binoculares versin 2",image:"items/binoculars_nobg.png",category:"Instrumento ptico"},{name:"Globo terrqueo modelo 1",image:"items/WorldGlobe_nobg.png",category:"Decorativo"},{name:"Mandolina",image:"items/Mandolin_nobg.png",category:"Instrumento musical"},{name:"Violin",image:"items/Violin_nobg.png",category:"Instrumento musical"},{name:"Globo terrqueo modelo 2",image:"items/WorldGlobe2_nobg.png",category:"Decorativo"},{name:"Sombrero de playa",image:"items/StrawHat4_nobg.png",category:"Rack"},{name:"Sombrero de playa pequeo",image:"items/StrawHat2_nobg.png",category:"Rack"},{name:"Linterna",image:"items/Flashlight_nobg.png",category:"Herramienta"},{name:"Microfono",image:"items/Microphone_nobg.png",category:"Electrnica"},{name:"Lente de cmara",image:"items/CameraLen_nobg.png",category:"Electrnica"},{name:"Telescopio",image:"items/Telescope_nobg.png",category:"Instrumento ptico"},{name:"Globo terrqueo modelo 4",image:"items/WorldGlobe.png",category:"Decorativo"},{name:"Ukelele",image:"items/Ukelele_nobg.png",category:"Instrumento musical"},{name:"Guitarra acstica",image:"items/Guitar_nobg.png",category:"Instrumento musical"},{name:"Globo terrqueo modelo 3",image:"items/WorldGlobe3_nobg.png",category:"Decorativo"},{name:"Termmetro",image:"items/Thermometer_nobg.png",category:"Electrnica"},{name:"Vaso descartable con bombilla",image:"items/DisposableVaseClosed_nobg.png",category:"Vajilla"},{name:"Cronmetro de ajedrez",image:"items/ChessTimer_nobg.png",category:"Electrnica"},{name:"Radio digital",image:"items/DigitalRadio_nobg.png",category:"Electrnica"},{name:"Libro verde",image:"items/greenbook_nobg.png",category:"Biblioteca"},{name:"Agenda",image:"items/HandBook_nobg.png",category:"Biblioteca"},{name:"Diario",image:"items/Diary_nobg.png",category:"Biblioteca"},{name:"Anotador",image:"items/NotebookRing_nobg.png",category:"Biblioteca"},{name:"Vaso descartable",image:"items/DisposableVase_nobg.png",category:"Vajilla"},{name:"Vaso de caf con sorbete",image:"items/CoffeCupCover_nobg.png",category:"Vajilla"},{name:"Vaso de caf",image:"items/CoffeeCup_nobg.png",category:"Vajilla"},{name:"Sombrero de gaucho",image:"items/StrawHat1_nobg.png",category:"Rack"},{name:"Sombrero de paja",image:"items/StrawHat3_nobg.png",category:"Rack"},{name:"Televisor",image:"items/VintageTV_nobg.png",category:"Electrnica"},{name:"Cmara de seguridad",image:"items/SecurityCamera_nobg.png",category:"Electrnica"},{name:"Parlante",image:"items/Speaker_nobg.png",category:"Electrnica"},{name:"Lentes VR",image:"items/VRGlasses_nobg.png",category:"Electrnica"},{name:"Anteojos",image:"items/glasses_nobg.png",category:"Instrumento ptico"},{name:"Lentes de sol",image:"items/Sunglasses_nobg.png",category:"Instrumento ptico"},{name:"Reloj versin 2",image:"items/nobellClock_nobg.png",category:"Electrnica"},{name:"Balanza",image:"items/balanceBoard_nobg.png",category:"Herramienta"},{name:"Brjula",image:"items/compass_nobg.png",category:"Herramienta"},{name:"Reloj",image:"items/Clock.png",category:"Electrnica"},{name:"Radio versin 1",image:"items/Radio_1.png",category:"Electrnica"},{name:"Jarra nueva 2",image:"items/jar2_nobg.png",category:"Vajilla"},{name:"Azucarera versin 2",image:"items/jar3_nobg.png",category:"Vajilla"},{name:"Jarra nueva 1",image:"items/jar1_nobg.png",category:"Vajilla"},{name:"Taza",image:"items/mug2_nobg.png",category:"Vajilla"},{name:"Reloj digital",image:"items/digitalclock_nobg.png",category:"Electrnica"},{name:"Cmara de fotos",image:"items/camera_nobg.png",category:"Electrnica"},{name:"Cartera",image:"items/Bag_nobg.png",category:"Vestimenta"},{name:"Cafetera",image:"items/CoffeePot_nobg.png",category:"Vajilla"},{name:"Auriculares",image:"items/Headphones_nobg.png",category:"Electrnica"},{name:"Teclado",image:"items/Keyboard_nobg.png",category:"Instrumento musical"},{name:"Telefono Inalambrico",image:"items/RedPhone_nobg.png",category:"Electrnica"},{name:"Control remoto",image:"items/remotecontroller_nobg.png",category:"Electrnica"},{name:"Cuaderno",image:"items/SpringNotebook_nobg.png",category:"Biblioteca"}],cO={class:"space-y-1 border rounded p-3 shadow-sm text-sm"},uO={class:"font-semibold mb-1 text-base"},hO={class:"border rounded max-h-32 overflow-y-auto mb-2 text-xs"},fO=["onClick"],dO=["src"],pO={class:"truncate"},gO=["value","disabled"],mO=["disabled"],Ks={__name:"SpawnAssignment",props:{objects:{type:Array,required:!0},availableSpawns:{type:Array,required:!0},selections:{type:Object,required:!0},title:{type:String,default:"Seleccionar objeto"},getItemImage:{type:Function,required:!0},spawnNumber:{type:Function,required:!0},addToSelections:{type:Function,required:!0}},setup(t){const e=t,n=Jt(""),r=Jt(""),i=Rt(()=>new Set(Object.values(e.selections))),s=l=>i.value.has(l),o=l=>l.disabled||s(l.name),a=()=>{!n.value||!r.value||o({name:n.value})||(e.addToSelections(r.value,n.value),n.value="",r.value="")};return(l,c)=>(He(),nt("div",cO,[le("h4",uO,_t(t.title),1),le("ul",hO,[(He(!0),nt(ln,null,mo(t.objects,u=>(He(),nt("li",{key:u.name,onClick:d=>!o(u)&&(n.value=u.name),class:yf(["flex items-center gap-1.5 p-1.5 rounded-sm transition select-none",o(u)?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-blue-100",n.value===u.name?"bg-blue-200":""])},[le("img",{src:u.img||t.getItemImage(u.name),alt:"",class:"w-7 h-7 object-contain"},null,8,dO),le("span",pO,_t(u.name),1)],10,fO))),128))]),Oi(le("select",{"onUpdate:modelValue":c[0]||(c[0]=u=>r.value=u),class:"w-full border rounded px-2 py-1.5 mb-2 text-sm"},[c[1]||(c[1]=le("option",{disabled:"",value:""},"-- Selecciona una ubicacin --",-1)),(He(!0),nt(ln,null,mo(t.availableSpawns,u=>(He(),nt("option",{key:u.dbId,value:u.dbId,disabled:t.selections[u.dbId]}," Ubicacin "+_t(t.spawnNumber(u.dbId)),9,gO))),128))],512),[[T4,r.value]]),le("button",{onClick:a,disabled:!n.value||!r.value||t.selections[r.value],class:"btn btn-secondary w-full px-3 py-1.5 text-sm rounded disabled:opacity-50"}," Seleccionar ",8,mO)]))}},vO={class:"w-full p-6"},bO={class:"text-2xl font-bold text-center mb-8"},_O={class:"grid grid-cols-2 gap-10"},yO={class:"flex flex-col justify-between h-full"},wO=["src"],SO={class:"mb-6"},xO={key:0,class:"text-gray-500"},AO={key:1,class:"border rounded overflow-y-auto",style:{"max-height":"calc(100vh - 400px - 120px)"}},IO=["src"],EO=["onClick"],CO={class:"flex justify-end gap-4 mt-6"},PO=["disabled"],NO={class:"flex flex-col gap-2"},LO={class:"text-sm font-semibold"},kO={key:1,class:"grid grid-cols-2 gap-2 items-start"},TO={class:"flex flex-col gap-3"},RO={class:"flex flex-col gap-3"},OO={__name:"SelectItems",setup(t){const e=_a(),n=qi(),r=e.query.spawn||"",i=e.query.level||"lowLevel",s=e.query.type||"search",{selectionsByLevel:o,setSelections:a,getSelections:l,isHallObjectUsedElsewhere:c}=Dm(),u=ba(l(i,r,s)||{}),d={lowLevel:{"Pared de entrada":"/evaluacion-cognitiva-web/environmentSpawns/entradaNivel1.png","Centro del living":"/evaluacion-cognitiva-web/environmentSpawns/centroNivel1.png","Pared opuesta":"/evaluacion-cognitiva-web/environmentSpawns/opuestoNivel1.png","Pared de la TV":"/evaluacion-cognitiva-web/environmentSpawns/tvNivel1_Abierto.png",Hall:"/evaluacion-cognitiva-web/environmentSpawns/hall.png"},highLevel:{"Pared de entrada":"/evaluacion-cognitiva-web/environmentSpawns/entradaNivel2.png","Centro del living":"/evaluacion-cognitiva-web/environmentSpawns/centroNivel2.png","Pared opuesta":"/evaluacion-cognitiva-web/environmentSpawns/opuestoNivel2.png","Pared de la TV":"/evaluacion-cognitiva-web/environmentSpawns/tvNivel2_Abierto.png",Hall:"/evaluacion-cognitiva-web/environmentSpawns/hall.png"}},m=Rt(()=>i==="lowLevel"?"baja":"alta"),p=d[i]&&d[i][r]||"/evaluacion-cognitiva-web/environment/Opposite.png",_=Jt([]),y=Jt([]),E=Rt(()=>{const k=we();return Object.values(u).forEach(F=>k.delete(F)),y.value.filter(F=>F.category==="Rack"&&r!=="Pared de entrada"?!1:!k.has(F.name))}),w=Rt(()=>{var k,F;return new Set(Object.values(((F=(k=o[i])==null?void 0:k.Hall)==null?void 0:F.search)||{}))}),R=Rt(()=>E.value.filter(k=>k.category!=="Rack")),B=Rt(()=>E.value.filter(k=>k.category==="Rack").filter(k=>!w.value.has(k.name))),T=Rt(()=>{const k=Te();return Object.keys(u).forEach(F=>k.delete(F)),(_.value||[]).filter(F=>F.zone===r).filter(F=>!k.has(F.dbId))}),ee=Rt(()=>T.value.filter(k=>k.otherProp!=="Perchero")),ve=Rt(()=>T.value.filter(k=>k.otherProp==="Perchero")),fe=Rt(()=>(_.value||[]).filter(k=>k.zone==="Hall").filter(k=>k.otherProp==="Perchero")),ne=Rt(()=>(_.value||[]).filter(k=>k.zone==="Hall").filter(k=>k.otherProp!=="Perchero")),V=Rt(()=>{var F,$;const k=(($=(F=o[i])==null?void 0:F.Hall)==null?void 0:$.search)||{};return Object.values(k)}),se=Rt(()=>r!=="Pared de entrada"?[]:V.value.map(k=>{const F=y.value.find($=>$.name===k);return(F==null?void 0:F.category)==="Rack"&&w.value.has(F.name)?F:null}).filter(Boolean)),N=Rt(()=>V.value.map(k=>{const F=y.value.find($=>$.name===k);return(F==null?void 0:F.category)==="Rack"&&r!=="Pared de entrada"?null:(F==null?void 0:F.category)!=="Rack"?F:null}).filter(Boolean)),U=Rt(()=>y.value.filter(k=>k.category!=="Rack")),K=Rt(()=>y.value.filter(k=>k.category==="Rack")),G=Rt(()=>V.value.map(k=>{var X;const F=(X=y.value)==null?void 0:X.find(q=>q.name===k);if(!F||F.category==="Rack"&&r!=="Pared de entrada")return null;const $=c(i,F.name);return{name:F.name,img:F.img||"/default.png",disabled:$}}).filter(Boolean)),pe=(k,F)=>{!k||!F||(u[k]=F,a(i,r,s,u))},be=k=>{delete u[k],a(i,r,s,u)},he=k=>{const F=_.value.find($=>$.dbId===k);return F?F.number:k},te=k=>{const F=y.value.find($=>$.name===k);return F?F.img:""},we=()=>{const k=new Set,F=o[i];if(!F)return k;for(const $ in F){const X=F[$];X.distracting&&Object.values(X.distracting).forEach(q=>k.add(q)),X.search&&Object.values(X.search).forEach(q=>k.add(q))}return k},Te=()=>{const k=new Set,F=o[i];if(!F)return k;for(const $ in F){const X=F[$];X.distracting&&Object.keys(X.distracting).forEach(q=>k.add(q)),X.search&&Object.keys(X.search).forEach(q=>k.add(q))}return k};xl(()=>{_.value=lO[i]||[],y.value=bg.map(F=>({name:F.name,img:F.image,category:F.category||"other"}));const k=l(i,r,s);Object.assign(u,k||{})});const Ne=()=>{a(i,r,s,u),alert("Cambios guardados correctamente."),n.back()},I=()=>{if(confirm("Seguro que quieres cancelar? Los cambios no guardados se perdern.")){for(const k in u)delete u[k];a(i,r,s,{}),n.back()}};return(k,F)=>(He(),nt("div",vO,[le("h2",bO," Aadir objetos para el nivel de complejidad "+_t(m.value),1),le("div",_O,[le("div",yO,[le("div",null,[le("img",{src:Pn(p),alt:"Imagen de la pared",class:"w-full h-auto object-contain mb-6 rounded shadow",style:{"max-height":"400px"}},null,8,wO),le("div",SO,[F[0]||(F[0]=le("h3",{class:"font-semibold mb-2 !mt-2"},"Objetos seleccionados:",-1)),Object.keys(u).length===0?(He(),nt("div",xO," No has seleccionado ningn objeto ")):(He(),nt("div",AO,[le("ul",null,[(He(!0),nt(ln,null,mo(u,($,X)=>(He(),nt("li",{key:X,class:"mb-2 flex items-center gap-4 bg-gray-100 p-2 rounded shadow-sm"},[le("img",{src:te($),alt:"Imagen item",class:"w-8 h-8 object-contain"},null,8,IO),le("span",null,[Kn(" Ubicacin "+_t(he(X))+": ",1),le("strong",null,_t($),1)]),le("button",{onClick:q=>be(X),class:"ml-auto text-red-600 hover:underline",title:"Eliminar seleccin"},"  ",8,EO)]))),128))])]))])]),le("div",CO,[le("button",{onClick:I,class:"btn btn-secondary px-6 py-2 rounded"}," Cancelar "),le("button",{onClick:Ne,disabled:Object.keys(u).length===0,class:"btn btn-primary px-6 py-2 rounded disabled:opacity-50"}," Guardar ",8,PO)])]),le("div",NO,[le("div",null,[le("h3",LO,_t(Pn(r))+" - "+_t(Pn(s)==="search"?"Ubicar objetos a memorizar":"Ubicar objetos"),1)]),Pn(r)==="Hall"?(He(),nt(ln,{key:0},[Mn(Ks,{objects:U.value,availableSpawns:ne.value,selections:u,title:"Ubicar objetos",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"]),Mn(Ks,{objects:K.value,availableSpawns:fe.value,selections:u,title:"Ubicar objetos de perchero",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"])],64)):Pn(r)==="Pared de entrada"?(He(),nt("div",kO,[le("div",TO,[Mn(Ks,{objects:R.value,availableSpawns:ee.value,selections:u,title:"Ubicar objetos",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"]),Mn(Ks,{objects:B.value,availableSpawns:ve.value,selections:u,title:"Ubicar objetos de perchero",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"])]),le("div",RO,[N.value.length>0?(He(),pi(Ks,{key:0,objects:N.value,availableSpawns:ee.value,selections:u,title:"Ubicar objetos a memorizar",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"])):vr("",!0),se.value.length>0?(He(),pi(Ks,{key:1,objects:se.value,availableSpawns:ve.value,selections:u,title:"Ubicar objetos a memorizar de perchero",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"])):vr("",!0)])])):(He(),nt(ln,{key:2},[Mn(Ks,{objects:E.value,availableSpawns:T.value,selections:u,title:"Ubicar objetos",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"]),G.value.length>0?(He(),pi(Ks,{key:0,objects:G.value,availableSpawns:T.value,selections:u,title:"Ubicar objetos a memorizar",getItemImage:te,spawnNumber:he,addToSelections:pe},null,8,["objects","availableSpawns","selections"])):vr("",!0)],64))])])]))}},DO={class:"h-screen w-screen flex items-center justify-center bg-gray-50"},FO={class:"h-[95vh] w-full max-w-3xl flex flex-col p-4 bg-white rounded-lg shadow-md overflow-hidden"},MO={key:0,class:"text-gray-500"},jO={key:1,class:"text-gray-500"},BO={key:2,class:"flex flex-col gap-4 overflow-y-auto pr-2 pt-2"},UO={class:"grid grid-cols-2 gap-4"},qO={class:"border p-2 rounded"},zO={class:"grid grid-cols-3 gap-2"},HO=["src","alt"],WO={class:"border p-2 rounded"},VO={class:"grid grid-cols-3 gap-2"},$O=["src","alt"],GO={__name:"PatientResultDetail",setup(t){const e=_a(),n=qi(),r=Jt(!0),i=Jt(null);e.query.id;const s=e.query.date,o=e.query.time,a=()=>n.back(),l=c=>bg[c]||bg.Desconocido;return xl(async()=>{try{const c=await Ar(Di(Jn(ro),"results"));if(!c.exists()){r.value=!1;return}const u=c.val();for(const[,d]of Object.entries(u))if(d.results){for(const[m,p]of Object.entries(d.results))if(p.date===s&&p.time===o){i.value=p;break}}r.value=!1}catch(c){console.error("Error cargando detalle:",c),r.value=!1}}),(c,u)=>(He(),nt("div",DO,[le("div",FO,[le("div",{class:"sticky top-0 z-10 bg-white pt-4 pb-2"},[u[0]||(u[0]=le("h2",{class:"text-2xl font-bold mb-4 text-center"},"Detalle de Partida",-1)),le("button",{class:"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-800 mb-4",onClick:a}," Volver ")]),r.value?(He(),nt("div",MO,"Cargando...")):i.value?(He(),nt("div",BO,[le("p",null,[u[1]||(u[1]=le("strong",null,"Fecha:",-1)),Kn(" "+_t(i.value.date)+" ("+_t(i.value.time)+")",1)]),le("p",null,[u[2]||(u[2]=le("strong",null,"Nivel:",-1)),Kn(" "+_t(i.value.level),1)]),le("p",null,[u[3]||(u[3]=le("strong",null,"Tiempo de memorizacin:",-1)),Kn(" "+_t(i.value.memTime)+"s",1)]),le("p",null,[u[4]||(u[4]=le("strong",null,"Tiempo de bsqueda:",-1)),Kn(" "+_t(i.value.searchTime)+"s",1)]),le("p",null,[u[5]||(u[5]=le("strong",null,"Presicin:",-1)),Kn(" "+_t(i.value.precision)+"%",1)]),le("p",null,[u[6]||(u[6]=le("strong",null,"Eficiencia:",-1)),Kn(" "+_t(i.value.efficiency)+"%",1)]),le("p",null,[u[7]||(u[7]=le("strong",null,"Tasa de error:",-1)),Kn(" "+_t(i.value.errorRate)+"%",1)]),le("p",null,[u[8]||(u[8]=le("strong",null,"ndice de omisin:",-1)),Kn(" "+_t(i.value.omissionIndex)+"%",1)]),le("p",null,[u[9]||(u[9]=le("strong",null,"Puntaje general:",-1)),Kn(" "+_t(i.value.generalScore)+"%",1)]),le("div",UO,[le("div",qO,[u[10]||(u[10]=le("p",{class:"font-semibold mb-2 text-center"},"Objetos memorizados",-1)),le("div",zO,[(He(!0),nt(ln,null,mo(i.value.memObjects,(d,m)=>(He(),nt("img",{key:"mem-"+m,src:l(d),alt:d,class:"h-12 w-12 object-contain mx-auto"},null,8,HO))),128))])]),le("div",WO,[u[11]||(u[11]=le("p",{class:"font-semibold mb-2 text-center"},"Objetos encontrados",-1)),le("div",VO,[(He(!0),nt(ln,null,mo(i.value.foundObjects,(d,m)=>(He(),nt("img",{key:"found-"+m,src:l(d),alt:d,class:"h-12 w-12 object-contain mx-auto"},null,8,$O))),128))])])])])):(He(),nt("div",jO," Partida no encontrada. "))])]))}},KO={class:"flex flex-col min-h-screen items-center justify-center p-6 space-y-6"},YO={class:"flex flex-col items-center gap-4 w-full"},JO={__name:"VirtualEnvironmentMenu",setup(t){const e=qi(),n=i=>{e.push({name:"VirtualEnvironment",params:{section:i}})},r=()=>{e.push({name:"PatientList"})};return(i,s)=>(He(),nt("div",KO,[s[4]||(s[4]=le("h2",{class:"text-3xl font-bold mb-6"},"Juego",-1)),le("div",YO,[le("button",{onClick:s[0]||(s[0]=o=>n("tutorial")),class:"btn btn-primary w-80 mx-auto"}," Tutorial "),le("button",{onClick:s[1]||(s[1]=o=>n("hall")),class:"btn btn-primary w-80 mx-auto"}," Hall "),le("button",{onClick:s[2]||(s[2]=o=>n("lowLevel")),class:"btn btn-primary w-80 mx-auto"}," Nivel Bajo "),le("button",{onClick:s[3]||(s[3]=o=>n("highLevel")),class:"btn btn-primary w-80 mx-auto"}," Nivel Alto "),le("button",{onClick:r,class:"btn btn-secondary w-48 mx-auto"}," Volver ")])]))}},XO=Ux({routes:[{path:"/",name:"Login",component:cL},{path:"/patients",name:"PatientList",component:SL},{path:"/new-patient",name:"NewPatient",component:kL},{path:"/info",name:"PatientInfo",component:qR},{path:"/level-selection",name:"LevelSelectionPage",component:KL},{path:"/level-settings",name:"LevelSettingsPage",component:VL},{path:"/select-items",name:"SpawnSettingsView",component:KR},{path:"/select-items-new",name:"SelectItems",component:OO},{path:"/virtual-environment-menu",name:"VirtualEnvironmentMenu",component:JO},{path:"/virtual-environment/:section",name:"VirtualEnvironment",component:sO},{path:"/result-details",name:"PatientResultDetails",component:GO}],history:mx("/evaluacion-cognitiva-web/")}),Ow=M4(Hx);Ow.use(XO);Ow.mount("#app");export{zt as _};
